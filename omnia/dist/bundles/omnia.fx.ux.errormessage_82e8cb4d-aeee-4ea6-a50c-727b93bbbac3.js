if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["82e8cb4d-aeee-4ea6-a50c-727b93bbbac3"])throw new Error("Error, already loaded manifest 82e8cb4d-aeee-4ea6-a50c-727b93bbbac3 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["82e8cb4d-aeee-4ea6-a50c-727b93bbbac3"]=function(){(()=>{var e={"./client/fx/ux/errormessage/errormessage.tsx":(e,o,t)=>{"use strict";t.r(o),t.d(o,{ErrorMessage:()=>w});var s=t("./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js"),a=t.n(s),i=t("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),r=t("./node_modules/vue-class-component/dist/vue-class-component.esm.js"),n=t("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","82e8cb4d-aeee-4ea6-a50c-727b93bbbac3"),l=t("c041fe9f-1e14-443d-9407-5aa8829fbc21"),d=t("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),b=t("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac"),c=t("97786ea9-4861-48bd-8a57-eae9bbdb4892"),p=t("./node_modules/typestyle/umd/typestyle.js"),m=t("./client/fx/ux/styleflow.js"),h=t("10407664-c0c5-438b-94b2-507d58d190af"),f=t("./node_modules/csx/lib.es2015/index.js");const u={};m.StyleFlow.define(u,{alert:{$nest:{i:{opacity:1,color:(0,f.important)("#fff")},"&:last-child":{borderBottom:"1px solid rgba(0,0,0,0.12)"}},alignItems:"center",borderWidth:"1px 0px 0px 0px",borderColor:"rgba(0,0,0,0.12)",borderStyle:"solid",display:"flex",fontSize:"14px",padding:"5px 20px",backgroundColor:(0,f.important)("#ff5252"),color:(0,f.important)("#fff")},alertDetail:{alignItems:"center",display:"flex",fontSize:"14px",padding:"0px 20px 10px 65px",color:(0,f.important)("#fff"),backgroundColor:(0,f.important)("#ff5252"),wordBreak:"break-word"},container:{position:"fixed",top:"0px",zIndex:9999,width:"100%"},content:{alignItems:"center",display:"flex",flexGrow:1,justifyContent:"space-between",marginLeft:"20px",width:"calc(100% - 250px)",cursor:"pointer"},contentTitle:{fontWeight:700,marginRight:"5px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"100%",display:"inline-block"},fullTitle:{whiteSpace:(0,f.important)("initial")},comments:{marginLeft:"20px"},exit:{marginLeft:"10px"},header:e=>({height:e&&e>0?e+"px":"52px"}),dialogWrapper:{padding:"10px"},footerWrapper:{textAlign:"right",fontWeight:"bold",padding:"5px",position:"absolute",bottom:0,left:0,right:0}});var g=t("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","82e8cb4d-aeee-4ea6-a50c-727b93bbbac3"),x=Object.defineProperty,y=Object.getOwnPropertyDescriptor,v=(e,o,t,s)=>{for(var a,i=s>1?void 0:s?y(o,t):o,r=e.length-1;r>=0;r--)(a=e[r])&&(i=(s?a(o,t,i):a(i))||i);return s&&i&&x(o,t,i),i};let w=class extends g.VueComponentBase{constructor(){super(...arguments),this.errorMessageClasses=m.StyleFlow.use(u),this.subscriptionHandler=null,this.logs=[],this.allLogs=[],this.showingAll=!1,this.openedShowMoreDialog=!1,this.detailLogs={},this.headingStyle={wrapper:g.DialogStyles.heading}}created(){const e=this.omniaCtx.tenant.propertyBag.getModel(d.TenantErrorInformation);e&&e.enableErrorInformation&&(this.subcribeOnError(),this.subscriptionHandler=h.InternalTopics.onError.subscribe(this.subcribeOnError))}mounted(){n.WebComponentBootstrapper.registerElementInstance(this,this.$el)}beforeDestroy(){this.subscriptionHandler&&this.subscriptionHandler.unsubscribe()}subcribeOnError(){this.logs=[],this.allLogs=c.ConsoleUIService.logs,this.allLogs&&this.allLogs.length>0&&(this.allLogs=this.allLogs.filter((e=>e.item instanceof d.HttpLogMessage)),this.allLogs.length>0&&(this.logs=[this.allLogs[this.allLogs.length-1]])),this.$forceUpdate()}closeLog(e){h.InternalTopics.logRemoved.publish(e),this.subcribeOnError()}copy(e){document.getElementById(e.id).select(),document.execCommand("copy")}showHideDetail(e,o){this.detailLogs[e.id+o]=!this.detailLogs[e.id+o],this.$forceUpdate(),setTimeout((()=>{this.alertContainerHeight=Zepto(this.$refs.emContainer)[0]?Zepto(this.$refs.emContainer)[0].clientHeight:null,this.$forceUpdate()}),100)}showAll(){this.openedShowMoreDialog=!0,this.$forceUpdate()}closeShowMoreDialog(){this.allLogs.forEach((e=>{this.detailLogs[e.id+!0]=null})),this.openedShowMoreDialog=!1,this.$forceUpdate()}shouldShowDetails(e){return e.requestUrl}renderShowMoreDialog(){return(0,i.h)("omfx-dialog",{attrs:{maxWidth:"800px",persistent:!0,valueBind:{visible:this.openedShowMoreDialog},position:g.DialogPositions.Right},domProps:{lazy:!0},on:{close:this.closeShowMoreDialog}},[(0,i.h)("div",{class:(0,p.classes)(this.omniaTheming.promoted.header.class,this.errorMessageClasses.header(this.alertContainerHeight))}),(0,i.h)("div",{class:this.errorMessageClasses.dialogWrapper},[this.allLogs?this.allLogs.map((e=>this.renderTile(e,!0))):null]),(0,i.h)("div",{class:(0,p.classes)(this.omniaTheming.promoted.body.class,this.errorMessageClasses.footerWrapper)},[(0,i.h)("omfx-button",{attrs:{dark:this.omniaTheming.promoted.body.dark,text:this.omniaUxLoc.Common.Buttons.Close},domProps:{onClick:this.closeShowMoreDialog,mode:d.ButtonModes.flat}})])])}renderTile(e,o){const t=e.item,s=JSON.stringify(t).replace(/\\"/g,'"'),r=this.shouldShowDetails(t);return[(0,i.h)("div",{class:(0,p.classes)(this.errorMessageClasses.alert)},[(0,i.h)("div",[(0,i.h)("v-tooltip",a()([{attrs:{bottom:!0,lazy:!0}},this.transformVSlot({activator:e=>{const t={on:e.on};return[(0,i.h)("v-badge",a()([{},t,{attrs:{overlap:!0}},this.transformVSlot({"proxy-badge":()=>[this.allLogs.length>0&&!o?(0,i.h)("span",[this.allLogs.length]):null]}),{model:{value:this.allLogs.length,callback:e=>{this.$set(this.allLogs,"length",e)}}}]),[(0,i.h)("v-icon",{on:{click:this.showAll}},["fa fa-exclamation-triangle"])])]}})]),[(0,i.h)("span",[this.omniaUxLoc.Common.Buttons.ViewMore])])]),(0,i.h)("div",{class:this.errorMessageClasses.content,on:{click:this.showAll}},[(0,i.h)("span",{class:(0,p.classes)(this.errorMessageClasses.contentTitle,o?this.errorMessageClasses.fullTitle:"")},[this.localizationService.transform(t.message)])]),(0,i.h)("div",{class:this.errorMessageClasses.exit},[r&&[(0,i.h)("omfx-button",{domProps:{mode:d.ButtonModes.icon,onClick:()=>{this.copy(e)},icon:{iconType:new d.FabricIcon("ms-Icon ms-Icon--Copy")},tooltip:{text:this.omniaUxLoc.Common.Buttons.CopyToClipboard,position:d.ButtonTooltipPosition.Bottom}},attrs:{small:!0,dark:!0}}),(0,i.h)("input",{style:"opacity:0; width: 1px;",attrs:{type:"text",id:e.id},domProps:{value:s}}),(0,i.h)("omfx-button",{domProps:{mode:d.ButtonModes.icon,onClick:()=>{this.showHideDetail(e,o)},icon:{iconType:new d.FabricIcon("ms-Icon ms-Icon--Info")},tooltip:{text:this.omniaUxLoc.Common.Buttons.Details,position:d.ButtonTooltipPosition.Bottom}},attrs:{dark:!0,small:!0}})],(0,i.h)("omfx-button",{domProps:{mode:d.ButtonModes.icon,onClick:()=>{this.closeLog(e)},icon:{iconType:new d.FontAwesomeIcon("fas fa-times")},tooltip:{text:this.omniaUxLoc.Common.Buttons.Close,position:d.ButtonTooltipPosition.Bottom}},attrs:{small:!0,dark:!0}})])]),this.detailLogs[e.id+o]?(0,i.h)("div",{class:(0,p.classes)(this.errorMessageClasses.alertDetail)},[s]):null]}render(){return(0,i.h)("div",[(0,i.h)("div",{class:this.errorMessageClasses.container,ref:"emContainer"},[this.logs?this.logs.map((e=>this.renderTile(e,!1))):null]),this.renderShowMoreDialog()])}};v([(0,l.Localize)("Omnia.Ux")],w.prototype,"omniaUxLoc",2),v([(0,c.Inject)(g.OmniaTheming)],w.prototype,"omniaTheming",2),v([(0,c.Inject)(b.LocalizationService)],w.prototype,"localizationService",2),v([(0,c.Inject)(n.OmniaContext)],w.prototype,"omniaCtx",2),w=v([r.default],w),n.WebComponentBootstrapper.registerElement((e=>{(0,l.vueCustomElement)(e.elementName,w);const o=document.createElement(e.elementName);o.setAttribute("role","status"),document.body.appendChild(o)}))},"./client/fx/ux/styleflow.js":(e,o,t)=>{e.exports=t("dll-reference md66")("./client/fx/ux/styleflow.js")},"./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js":(e,o,t)=>{e.exports=t("dll-reference md2")("./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js")},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(e,o,t)=>{e.exports=t("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/csx/lib.es2015/index.js":(e,o,t)=>{e.exports=t("dll-reference md2")("./node_modules/csx/lib.es2015/index.js")},"./node_modules/typestyle/umd/typestyle.js":(e,o,t)=>{e.exports=t("dll-reference md2")("./node_modules/typestyle/umd/typestyle.js")},"./node_modules/vue-class-component/dist/vue-class-component.esm.js":(e,o,t)=>{e.exports=t("dll-reference md2")("./node_modules/vue-class-component/dist/vue-class-component.esm.js")},"10407664-c0c5-438b-94b2-507d58d190af":(e,o,t)=>{e.exports=t("dll-reference md9")("10407664-c0c5-438b-94b2-507d58d190af")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,o,t)=>{e.exports=t("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"97786ea9-4861-48bd-8a57-eae9bbdb4892":(e,o,t)=>{e.exports=t("dll-reference md9")("97786ea9-4861-48bd-8a57-eae9bbdb4892")},"c041fe9f-1e14-443d-9407-5aa8829fbc21":(e,o,t)=>{e.exports=t("dll-reference md10")("c041fe9f-1e14-443d-9407-5aa8829fbc21")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(e,o,t)=>{e.exports=t("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,o,t)=>{e.exports=t("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac":(e,o,t)=>{e.exports=t("dll-reference md10")("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["82e8cb4d-aeee-4ea6-a50c-727b93bbbac3"])throw new Error("Error, already loaded manifest 82e8cb4d-aeee-4ea6-a50c-727b93bbbac3 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["82e8cb4d-aeee-4ea6-a50c-727b93bbbac3"]=t;var o={};function t(s){var a=o[s];if(void 0!==a)return a.exports;var i=o[s]={exports:{}};return e[s](i,i.exports,t),i.exports}t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var s in o)t.o(o,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:o[s]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};t("./client/fx/ux/errormessage/errormessage.tsx")})()};