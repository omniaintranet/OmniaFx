if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["0edb4828-7624-4660-a114-56d63e31b847"])throw new Error("Error, already loaded manifest 0edb4828-7624-4660-a114-56d63e31b847 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["0edb4828-7624-4660-a114-56d63e31b847"]=function(){(()=>{var e={"./client/fx/ux/appprovisioning/appimageinput/appimageinput.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppImageInput:()=>x});var o=a("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),i=a("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),s=a("./node_modules/csx/lib.es2015/index.js"),r=a("./node_modules/typestyle/umd/typestyle.js"),d=a("./node_modules/vue-class-component/dist/vue-class-component.esm.js"),n=a("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),b=a("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","0edb4828-7624-4660-a114-56d63e31b847"),p=a("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","0edb4828-7624-4660-a114-56d63e31b847"),c=a("97786ea9-4861-48bd-8a57-eae9bbdb4892"),l=a("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac"),m=a("5e618f4d-d014-414e-a681-89e34cbeda0f"),u=a("8610c059-395a-45c2-804a-8c236f4d60d9"),h=Object.defineProperty,g=Object.getOwnPropertyDescriptor,f=(e,t,a,o)=>{for(var i,s=o>1?void 0:o?g(t,a):t,r=e.length-1;r>=0;r--)(i=e[r])&&(s=(o?i(t,a,s):i(s))||s);return o&&s&&h(t,a,s),s};let x=class extends u.VueComponentBase{constructor(){super(...arguments),this.imagePlaceholderWrapperStyle="",this.imageContainerWrapperStyle="",this.isMediaPickerReady=!1,this.rollupRatios=[],this.isRenderMediaPicker=!1,this.hasImage=!1}created(){this.imagePlaceholderWrapperStyle=(0,r.style)({boxShadow:(0,s.important)("none"),paddingTop:20,paddingBottom:40,background:(0,s.important)(this.theming.body.bg.dark?"rgba(255,255,255,.08)":"rgba(0,0,0,.06)"),height:"250px"}),this.imageContainerWrapperStyle=(0,r.style)({boxShadow:(0,s.important)("none"),padding:(0,s.important)("30px 0 0 0"),background:(0,s.important)(this.theming.body.bg.dark?"rgba(255,255,255,.08)":"rgba(0,0,0,.06)"),textAlign:"center",height:"250px",$nest:{img:{maxHeight:i.Constants.ux.apps.provisioningRenderingMaxHeight+"px"}}}),this.mediaPickerStore.actions.ensureImageRatios.dispatch().then((()=>{this.isMediaPickerReady=!0;const e=this.mediaPickerStore.getters.rollupRatios().find((e=>e.uniqueId===(new i.LandscapeRatio).uniqueId));e&&(this.rollupRatios=[e])})),this.hasImage=!!this.appInstance.image}mounted(){p.WebComponentBootstrapper.registerElementInstance(this,this.$el)}getImageProviderContext(){return this.appInstance.id?new i.MediaPickerStorageProviderAppInstanceContext(this.appInstance.id):new i.MediaPickerStorageProviderTempAppInstanceContext(this.appInstance.appTemplateId)}removeImage(){this.$set(this.appInstance,(0,c.propertyPath)()("image"),null),this.hasImage=!1,this.appInstance.onDataChanged?.()}saveResult(e){this.$set(this.appInstance,(0,c.propertyPath)()("image"),e),this.hasImage=!0,this.appInstance.onDataChanged?.()}renderMediaPicker(){return(0,o.h)("omfx-media-picker",{attrs:{themeTargetId:i.Constants.ux.themeTargetIds.layoutDialog,dialog:!0,selectableMediaTypes:[i.MediaPickerEnums.OmniaMediaTypes.Image],saved:this.saveResult,imageSettings:{selectableRatios:[new i.SquareRatio],disableTransformations:!1,customImageScalingDefinition:{maxDimension:i.Constants.ux.apps.imageMaxDimension,compressQuality:100,formatTypeSettings:i.MediaPickerEnums.ScalingFormatTypes.Jpeg,title:null,uniqueId:""},rollupRatios:this.rollupRatios},selectedMedia:this.appInstance.image,providerContext:this.getImageProviderContext(),closed:()=>{this.isRenderMediaPicker=!1}}})}renderImagePlaceholder(){return(0,o.h)("v-card",{attrs:{dark:this.theming.body.bg.dark,tile:!0},key:"imagePlaceHolder",on:{click:()=>{this.isRenderMediaPicker=!0}},class:this.imagePlaceholderWrapperStyle},[(0,o.h)("v-card-text",{class:"pb-8"},[(0,o.h)("v-row",{attrs:{justify:"center","no-gutters":!0,align:"center"}},[(0,o.h)("v-col",{attrs:{cols:"auto"}},[(0,o.h)("v-icon",{attrs:{size:"60"}},["fal fa-image"])]),(0,o.h)("v-col",{attrs:{cols:"auto text-h4 pl-4"}},[this.omniaUxLoc.Common.Image])]),(0,o.h)("div",{class:"mt-2 mb-6 text-center text-subtitle-1"},[this.omniaUxLoc.Apps.AddImageText]),(0,o.h)("v-row",{attrs:{justify:"center","no-gutters":!0,align:"center"}},[(0,o.h)("v-col",{attrs:{cols:"auto text-body-1 pr-4 text-uppercase"}},[this.omniaUxLoc.Common.Buttons.AddImage]),(0,o.h)("v-col",{attrs:{cols:"auto"}},[(0,o.h)("v-icon",{attrs:{size:"20"}},["fa fa-plus"])])])])])}renderImageSettings(){return[this.hasImage?(0,o.h)("v-card",{class:this.imageContainerWrapperStyle,attrs:{dark:this.theming.body.bg.dark,tile:!0},key:"selectedImage"},[(0,o.h)("img",{attrs:{src:this.mediaPickerService.getImageUrl(this.appInstance.image),alt:this.appInstance.image.altText}}),(0,o.h)("v-card-actions",{class:"d-block text-center"},[(0,o.h)("omfx-button",{attrs:{dark:this.theming.body.bg.dark},domProps:{preset:b.ButtonPresets.base.smallIcon,onClick:()=>{this.isRenderMediaPicker=!0},icon:{iconType:new i.FontAwesomeIcon(this.appInstance.image?"edit":"add")},tooltip:{text:this.appInstance.image?this.omniaUxLoc.Common.Buttons.Edit:this.omniaUxLoc.LayoutEngine.Panels.Background.AddImage,position:i.ButtonTooltipPosition.Right}}}),(0,o.h)("omfx-button",{attrs:{dark:this.theming.body.bg.dark},domProps:{preset:b.ButtonPresets.icons.close,onClick:this.removeImage,tooltip:{text:this.omniaUxLoc.Common.Buttons.Delete,position:i.ButtonTooltipPosition.Right}}})])]):this.renderImagePlaceholder(),this.isRenderMediaPicker&&this.isMediaPickerReady&&this.renderMediaPicker()]}render(){return(0,o.h)("div",[this.renderImageSettings()])}};f([(0,n.Prop)()],x.prototype,"appInstance",2),f([(0,p.Localize)(b.OmniaUxLocalizationNamespace)],x.prototype,"omniaUxLoc",2),f([(0,c.Inject)(m.MediaPickerStore)],x.prototype,"mediaPickerStore",2),f([(0,c.Inject)(l.MediaPickerService)],x.prototype,"mediaPickerService",2),x=f([d.default],x),p.WebComponentBootstrapper.registerElement((e=>{(0,p.vueCustomElement)(e.elementName,x)}))},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(e,t,a)=>{e.exports=a("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/csx/lib.es2015/index.js":(e,t,a)=>{e.exports=a("dll-reference md2")("./node_modules/csx/lib.es2015/index.js")},"./node_modules/typestyle/umd/typestyle.js":(e,t,a)=>{e.exports=a("dll-reference md2")("./node_modules/typestyle/umd/typestyle.js")},"./node_modules/vue-class-component/dist/vue-class-component.esm.js":(e,t,a)=>{e.exports=a("dll-reference md2")("./node_modules/vue-class-component/dist/vue-class-component.esm.js")},"./node_modules/vue-property-decorator/lib/vue-property-decorator.js":(e,t,a)=>{e.exports=a("dll-reference md2")("./node_modules/vue-property-decorator/lib/vue-property-decorator.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,t,a)=>{e.exports=a("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"5e618f4d-d014-414e-a681-89e34cbeda0f":(e,t,a)=>{e.exports=a("dll-reference md10")("5e618f4d-d014-414e-a681-89e34cbeda0f")},"8610c059-395a-45c2-804a-8c236f4d60d9":(e,t,a)=>{e.exports=a("dll-reference md66")("8610c059-395a-45c2-804a-8c236f4d60d9")},"97786ea9-4861-48bd-8a57-eae9bbdb4892":(e,t,a)=>{e.exports=a("dll-reference md9")("97786ea9-4861-48bd-8a57-eae9bbdb4892")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(e,t,a)=>{e.exports=a("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,t,a)=>{e.exports=a("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac":(e,t,a)=>{e.exports=a("dll-reference md10")("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["0edb4828-7624-4660-a114-56d63e31b847"])throw new Error("Error, already loaded manifest 0edb4828-7624-4660-a114-56d63e31b847 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["0edb4828-7624-4660-a114-56d63e31b847"]=a;var t={};function a(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};a("./client/fx/ux/appprovisioning/appimageinput/appimageinput.tsx")})()};