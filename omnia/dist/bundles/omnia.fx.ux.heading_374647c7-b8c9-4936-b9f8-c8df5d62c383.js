if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["374647c7-b8c9-4936-b9f8-c8df5d62c383"])throw new Error("Error, already loaded manifest 374647c7-b8c9-4936-b9f8-c8df5d62c383 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["374647c7-b8c9-4936-b9f8-c8df5d62c383"]=function(){(()=>{var e={"./client/fx/ux/heading/heading.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{Heading:()=>x});var i=s("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),a=s("./node_modules/vue/dist/vue.esm.js"),o=s("./node_modules/vue-class-component/dist/vue-class-component.esm.js"),n=s("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=s("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","374647c7-b8c9-4936-b9f8-c8df5d62c383"),l=s("./client/fx/ux/styleflow.js"),d=s("./client/fx/ux/models/index.js");l.StyleFlow.define(d.HeadingStyles,{wrapper:{alignItems:"center",display:"flex",flexWrap:"wrap"}});var b=s("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac"),c=s("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","374647c7-b8c9-4936-b9f8-c8df5d62c383"),p=s("97786ea9-4861-48bd-8a57-eae9bbdb4892"),h=Object.defineProperty,u=Object.getOwnPropertyDescriptor,m=(e,t,s,i)=>{for(var a,o=i>1?void 0:i?u(t,s):t,n=e.length-1;n>=0;n--)(a=e[n])&&(o=(i?a(t,s,o):a(o))||o);return i&&o&&h(t,s,o),o};let g=class extends c.VueComponentBase{constructor(){super(...arguments),this.state={timeWatchHandler:null,instanceId:r.Utils.generateGuid(),titleValue:"",lang:{}}}created(){this.state.lang={name:this.lang},this.state.titleValue=this.settings.values[this.lang]||this.defaultTitle}mounted(){}beforeDestroy(){this.state.timeWatchHandler&&r.Utils.clearTimewatch(this.state.timeWatchHandler)}onToggleTitle(e){this.settings.showTitle=e,this.save(this.settings),this.$forceUpdate()}onChangedTitle(e){this.settings.values[this.state.lang.name]=e,this.state.timeWatchHandler=r.Utils.timewatch(`${this.state.instanceId}_onChangedTitle`,(()=>{this.save(this.settings)}),500)}onChangedLanguage(e){this.state.lang=e,this.state.titleValue=this.settings.values[this.state.lang.name]||this.defaultTitle}render(){return(0,i.h)("div",[(0,i.h)("v-checkbox",{attrs:{color:this.omniaTheming.promoted.body.primary.base,label:this.omniaUxLocalization.Heading.ShowTitle,"input-value":this.settings.showTitle},on:{change:this.onToggleTitle}}),this.settings.showTitle?(0,i.h)("v-layout",{attrs:{row:!0,"align-center":!0,wrap:!0}},[(0,i.h)("v-flex",{attrs:{xs12:!0,sm5:!0,md4:!0,lg3:!0,"d-flex":!0}},[(0,i.h)("omfx-language-picker",{attrs:{flat:!0,hideDisplayName:!0,dark:this.omniaTheming.promoted.body.dark},domProps:{valueBind:this.state.lang,onValueChanged:this.onChangedLanguage}})]),(0,i.h)("v-flex",{attrs:{xs12:!0,sm7:!0,md8:!0,lg9:!0,"d-flex":!0}},[(0,i.h)("v-text-field",{attrs:{box:!0,label:this.label},on:{change:this.onChangedTitle},model:{value:this.state.titleValue,callback:e=>{this.$set(this.state,"titleValue",e)}}})])]):null])}};m([(0,n.Prop)()],g.prototype,"settings",2),m([(0,n.Prop)()],g.prototype,"save",2),m([(0,n.Prop)()],g.prototype,"lang",2),m([(0,n.Prop)()],g.prototype,"label",2),m([(0,n.Prop)({default:""})],g.prototype,"defaultTitle",2),m([(0,r.Inject)(r.OmniaContext)],g.prototype,"omniaContext",2),m([(0,r.Inject)(c.OmniaTheming)],g.prototype,"omniaTheming",2),m([(0,r.Localize)("Omnia.Ux")],g.prototype,"omniaUxLocalization",2),g=m([o.default],g);var f=Object.defineProperty,y=Object.getOwnPropertyDescriptor,v=(e,t,s,i)=>{for(var a,o=i>1?void 0:i?y(t,s):t,n=e.length-1;n>=0;n--)(a=e[n])&&(o=(i?a(t,s,o):a(o))||o);return i&&o&&f(t,s,o),o};let x=class extends a.default{constructor(){super(...arguments),this.headingClasses=l.StyleFlow.use(d.HeadingStyles),this.readyToRenderTitle=!1,this._defaultTitle=""}created(){this.label=this.label||this.omniaUxLocalization.Common.Title,this.styles&&(this.headingClasses=l.StyleFlow.use(d.HeadingStyles,this.styles)),this.settingsKey&&(this._defaultTitle=this.localizationService.transform(this.defaultTitle),this.selectedLang=this.omniaContext.language,(0,r.Inject)(b.SettingsService,{securityRoleId:this.securityRoleId})(x.prototype,"settingsService"),this.subscriptionHandler.add(this.settingsService.onKeyValueUpdated(this.settingsKey).subscribe(this.populateSettings)),this.settingsService.getValue(this.settingsKey).then(this.populateSettings))}mounted(){r.WebComponentBootstrapper.registerElementInstance(this,this.$el)}beforeDestroy(){this.subscriptionHandler&&this.subscriptionHandler.unsubscribe()}populateSettings(e){this.settings=Object.assign({showTitle:!1,values:{[this.selectedLang]:this._defaultTitle}},e&&e.omniaHeadingUxSettings||{}),this.readyToRenderTitle=!0,this.$forceUpdate()}save(e){this.settings=e,this.onChange&&this.onChange(this.settings),this.settingsService.getValue(this.settingsKey).then((t=>{this.settingsService.setValue(this.settingsKey,Object.assign({},t||{},{omniaHeadingUxSettings:e}))}))}renderTitleReadOnly(){return this.settings&&this.settings.showTitle?(0,i.h)("v-card-title",{class:"pl-0 pr-0"},[(0,i.h)("h3",{class:"headline mb-0"},[this.settings.values[this.selectedLang]||this._defaultTitle])]):null}renderTitleEditable(){return this.settings?(0,i.h)(g,{attrs:{save:this.save,label:this.label,lang:this.selectedLang,defaultTitle:this._defaultTitle,settings:this.settings}}):null}renderTitle(){return this.readyToRenderTitle?this.editable?this.renderTitleEditable():this.renderTitleReadOnly():null}render(){return(0,i.h)("div",{class:this.headingClasses.wrapper},[this.settingsKey?this.renderTitle():(0,i.h)(r.VueWebComponentSlot,{attrs:{providedBy:this}})])}};v([(0,n.Prop)()],x.prototype,"settingsKey",2),v([(0,n.Prop)({default:""})],x.prototype,"securityRoleId",2),v([(0,n.Prop)()],x.prototype,"styles",2),v([(0,n.Prop)({default:!1})],x.prototype,"editable",2),v([(0,n.Prop)({default:""})],x.prototype,"label",2),v([(0,n.Prop)({default:""})],x.prototype,"defaultTitle",2),v([(0,n.Prop)()],x.prototype,"size",2),v([(0,n.Prop)()],x.prototype,"onChange",2),v([(0,r.Localize)("Omnia.Ux")],x.prototype,"omniaUxLocalization",2),v([(0,r.Inject)(r.OmniaContext)],x.prototype,"omniaContext",2),v([(0,r.Inject)(c.OmniaTheming)],x.prototype,"omniaTheming",2),v([(0,r.Inject)(b.LocalizationService)],x.prototype,"localizationService",2),v([(0,r.Inject)(p.SubscriptionHandler)],x.prototype,"subscriptionHandler",2),x=v([o.default],x),r.WebComponentBootstrapper.registerElement((e=>{(0,r.vueCustomElement)(e.elementName,x)}))},"./client/fx/ux/models/index.js":(e,t,s)=>{e.exports=s("dll-reference md66")("./client/fx/ux/models/index.js")},"./client/fx/ux/styleflow.js":(e,t,s)=>{e.exports=s("dll-reference md66")("./client/fx/ux/styleflow.js")},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/vue-class-component/dist/vue-class-component.esm.js":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/vue-class-component/dist/vue-class-component.esm.js")},"./node_modules/vue-property-decorator/lib/vue-property-decorator.js":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/vue-property-decorator/lib/vue-property-decorator.js")},"./node_modules/vue/dist/vue.esm.js":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/vue/dist/vue.esm.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,t,s)=>{e.exports=s("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"97786ea9-4861-48bd-8a57-eae9bbdb4892":(e,t,s)=>{e.exports=s("dll-reference md9")("97786ea9-4861-48bd-8a57-eae9bbdb4892")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,t,s)=>{e.exports=s("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac":(e,t,s)=>{e.exports=s("dll-reference md10")("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["374647c7-b8c9-4936-b9f8-c8df5d62c383"])throw new Error("Error, already loaded manifest 374647c7-b8c9-4936-b9f8-c8df5d62c383 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["374647c7-b8c9-4936-b9f8-c8df5d62c383"]=s;var t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,s),o.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};s("./client/fx/ux/heading/heading.tsx")})()};