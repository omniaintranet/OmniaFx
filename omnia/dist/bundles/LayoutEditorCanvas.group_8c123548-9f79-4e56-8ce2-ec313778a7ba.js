if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["8c123548-9f79-4e56-8ce2-ec313778a7ba"])throw new Error("Error, already loaded manifest 8c123548-9f79-4e56-8ce2-ec313778a7ba with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["8c123548-9f79-4e56-8ce2-ec313778a7ba"]=function(){omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]("06e712d2-9897-4891-9353-148547efe61c").ManifestResourceLoader.registerWebComponentFromGroupBundle("bb000000-0000-bbbb-0000-0000000000bb","5b6f12d8-ea25-446a-bcd2-9ceb75d320e1","8c123548-9f79-4e56-8ce2-ec313778a7ba",(function(){if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"])throw new Error("Error, already loaded manifest 5b6f12d8-ea25-446a-bcd2-9ceb75d320e1 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"]=function(){(()=>{var e={"./client/fx/ux/layoutcanvas/editor/icons/icons.css.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{IconStyles:()=>r});var i=s("./node_modules/typestyle/umd/typestyle.js");const o=25,n=70,r={container:(0,i.style)({height:o+"px",width:n+"px",display:"flex",flexDirection:"row",flexWrap:"wrap"}),column:(0,i.style)({flex:"1 0px",borderRadius:"3px",border:"1px solid transparent",backgroundClip:"padding-box",backgroundColor:"#fff",opacity:.9}),multipleColumn:{largecolumn:(0,i.style)({flex:"3 0px"}),herocolumn:(0,i.style)({flex:"1 100%"})}}},"./client/fx/ux/layoutcanvas/editor/settings/colorsettings.css.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{ColorSettingsStyles:()=>o});var i=s("./node_modules/typestyle/umd/typestyle.js");const o={container:(0,i.style)({marginTop:"-22px"}),settingsHeader:{container:(0,i.style)({width:"315px",height:"40px"}),headerContainer:(0,i.style)({display:"inline-block",width:"70px"}),colorContainer:(0,i.style)({width:"100%",display:"inline-block"}),buttonContainer:(0,i.style)({width:"45px",display:"inline-block"})},ButtonBar:{container:(0,i.style)({marginTop:"5px"}),containerWithBackground:(0,i.style)({height:"56px",marginTop:"-12px",marginRight:"-25px",marginBottom:"-5px"}),button:(0,i.style)({float:"right"}),actionButton:(0,i.style)({width:"50%",display:"inline-block"})}}},"./client/fx/ux/layoutcanvas/editor/settings/sectionsettingspanel.css.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{SectionSettingsPanelStyles:()=>r});var i=s("./node_modules/typestyle/umd/typestyle.js"),o=s("./node_modules/csx/lib.es2015/index.js"),n=s("./client/fx/ux/layoutcanvas/index.js");const r={advancedPanel:(0,i.style)({$nest:{".v-expansion-panel-content__wrap":{paddingLeft:(0,o.important)("0px"),paddingRight:"0px"}}}),headerStylingWithoutTabs:(0,i.style)({height:(0,o.important)("56px"),$nest:{"& > .v-toolbar__content":{height:(0,o.important)("56px")}}}),textColor:e=>{let t=n.SharedRendererFunctions.editorTheme().system.grey.darken1;e&&(t="#FFF"),(0,i.style)({color:(0,o.important)(t)})},panelTextColor:(0,i.style)({color:"#FFF!important"}),container:(0,i.style)({width:"100%"}),tabStyling:e=>(0,i.style)({backgroundColor:e,$nest:{".v-tabs-bar":{backgroundColor:(0,o.important)(e)}}}),headerIcon:(0,i.style)({position:"relative",top:"-2px"}),sectionsettingContainer:(0,i.style)({}),sectionSubGrouping:(0,i.style)({opacity:.54}),cssEditorStyle:(0,i.style)({marginTop:"10px",height:"200px"}),columnSize:(e,t)=>{const s=20*parseInt(t);return(0,i.style)({width:s+"px",height:"5px",backgroundColor:e.promoted.body.primary.base})},widthSlider:e=>{let t="0px",s="hidden",o="";return e&&(t="100px",s="",o="15px"),(0,i.style)({marginTop:o,maxHeight:t,transition:"max-height 0.3s cubic-bezier(0.25, 0.8, 0.5, 1)",overflow:s})},titlePositioner:(0,i.style)({marginLeft:"-4px"}),scrollContainer:e=>(0,i.style)({height:e?"calc(100vh - 212px)":"calc(100vh - 156px)",overflowY:"auto",overflowX:"hidden",$nest:{"& .v-application > .v-expansion-panels > .v-expansion-panel > .v-expansion-panel-header > h4":{marginLeft:"-6px!important"}}}),icon:{wrapper:e=>(0,i.style)({backgroundColor:e,position:"relative",left:"-16px"}),iconStyling:(0,i.style)({width:"54px",height:"54px"})}}},"./client/fx/ux/layoutcanvas/shared/internal.js":(e,t,s)=>{"use strict";s.r(t),s.d(t,{ColumnResizer:()=>z,LayoutBlockRenderer:()=>f,LayoutColumnRenderer:()=>G,LayoutRenditionManager:()=>J,LayoutSectionRenderer:()=>V,LayoutSectionStepperRenderer:()=>U,LayoutSectionTabRenderer:()=>B,LayoutStepRenderer:()=>E,LayoutTabRenderer:()=>T,StepperSectionDesigner:()=>ee});var i=s("./node_modules/vue/dist/vue.esm.js"),o=s("./node_modules/vue-class-component/dist/vue-class-component.esm.js"),n=s("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=s("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),a=s("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),l=s("./client/fx/ux/layoutcanvas/index.js"),d=s("8610c059-395a-45c2-804a-8c236f4d60d9"),c=s("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac"),h=s("5e618f4d-d014-414e-a681-89e34cbeda0f"),p=s("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"),b=s("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"),u=s("./client/fx/ux/anchorlink.js"),g=s("5326a8ef-4e3c-49d6-b415-1ddf7fdcc830"),m=Object.defineProperty,y=Object.getOwnPropertyDescriptor,S=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?y(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&m(t,s,n),n};let f=class extends d.VueComponentBase{constructor(){super(...arguments),this.isHideBlock=!1,this.targetCurrentUser=a.TargetUser.Undefined,this.isEditMode=!1}onBlockChanged(){this.settingsService.registerKeyProvider(this.block.id,this.layoutEditorStore.getters.getBlockSettingsProvider())}beforeCreate(){this.$emit("getBlock",{blockGetterFunc:e=>{let t;this.blockInstance.manifestId=e.manifestId||this.layoutItemStore.getRegistrationForBlock(e)?.manifestId,this.blockInstance.id=e.id,this.blockInstance.layoutDefinitionId=this.layoutEditorStore.layout.state.definition.id,this.blockInstance.hide=!1,this.blockInstance.mode=this.layoutEditorStore.getters.blockRenderMode(),this.blockInstance.layoutSettings=e.settings,this.blockInstance.provider=this.layoutEditorStore.provider.state,this.blockInstance.onSettingsChanged=this.layoutEditorStore.layout.state.blockSettings.getSettingsSubcriber(e.id),this.blockInstance.mediaContext=this.layoutMediaContext,this.blockInstance.setSearchValue=l.LayoutItemFactory.createSearchHandler(this.blockInstance,e,this.layoutEditorStore.layout.state,this.multilingualStore);const s=this;Object.defineProperty(this.blockInstance,"renderCacheKeyProvider",{get:()=>t,set(e){t=e,s.$emit("blockInstanceCacheKeyUpdated",s.blockInstance)}}),this.layoutEditorStore.onBlockInstanceCreated&&(this.blockInstance=this.layoutEditorStore.onBlockInstanceCreated(this.blockInstance)),this.blockInstance.clickProtection=i.default.observable({disabled:!0}),this.$emit("blockInstanceCreated",this.blockInstance)}})}created(){(this.block.settings.titleSettings||this.block.settings.icon)&&this.blockTitleSettingsStore.actions.load.dispatch().then((()=>{this.blockTitleSettingsStore.mutations.setComponentSettings(this.block.id,this.block.settings.titleSettings,this.block.settings.icon)})),this.themingRenditionManager.registerBlockTheme(this.themeStore,this.block,this.layoutEditorStore.layout.state.definition.id),this.isEditMode=this.layoutEditorStore.canvasMode.state===a.LayoutCanvasModes.editor&&this.layoutEditorStore.editorMode.state!==a.LayoutEditorModes.devicePreview,this.checkTargetingValue(this.block.settings),this.handleAnchorLink()}beforeDestroy(){this.subscriptionHandler.unsubscribe()}handleAnchorLink(){const e=this.getAnchorName();this.targetCurrentUser!=a.TargetUser.Target||p.Utils.isNullOrEmpty(e)||this.isEditMode||0==this.anchorLink.enabled||this.subscriptionHandler.add(this.anchorLink.subscribe({validate:t=>t==e,trigger:e=>{this.$nextTick((()=>{e.scrollIntoView()}))}}))}get backgroundImage(){let e="";if(this.block.settings.background){const t=this.block.settings.background.image;t&&t.mediaPickerImage?.omniaImageId&&(e=this.mediaPickerService.getImageUrl(t.mediaPickerImage))}return e}createElement(){const e=this.themingRenditionManager.getThemeTargetIdBlock(this.block,this.layoutEditorStore.layout.state.definition.settings,this.settings,this.themeTargetId,this.layoutEditorStore.blockThemeDefinition.state);return(0,r.h)(this.block.elementName,{domProps:{settingsKey:this.block.id,themeTargetId:e,hideBlock:this.isEditMode?void 0:this.hideBlock}})}createAnchorElement(){const e=this.getAnchorName();return 0==p.Utils.isNullOrEmpty(e)&&0==this.isEditMode?(0,r.h)("div",{attrs:{name:e}}):null}getAnchorName(){if(0==p.Utils.isNullOrEmpty(this.block.settings.anchorName))return this.block.settings.anchorName.toLowerCase()}hideBlock(e){e&&!this.isHideBlock?this.isHideBlock=!0:!e&&this.isHideBlock&&(this.isHideBlock=!1)}checkTargetingValue(e){this.isEditMode||!e.targetingFilterProperties||p.Utils.isNullOrEmpty(e.targetingFilterProperties.enterprisePropertiesSettings)?this.targetCurrentUser=a.TargetUser.Target:this.targetCurrentUser=this.targetingStore.getters.targetingToUser(e.targetingFilterProperties.enterprisePropertiesSettings)}render(){const e=this.layoutItemStore.getRegistrationForBlock(this.block);if(!(e&&this.layoutItemStore.filterBlockRegistrationOnFeatureDependency(e)&&this.layoutItemStore.filterBlockRegistrationByBackendRuntimes(e)&&this.layoutItemStore.filterBlockRegistrationByClientRuntimes(e)&&this.layoutItemStore.filterBlockRegistrationOnLayoutDependency(e,this.layoutEditorStore.provider.state)))return null;let t="",s="";const i=this.themingRenditionManager.getBackgroundThemeStylingForBlock(this.themeStore,this.block,this.settings,this.layoutEditorStore.layout.state.definition.settings,this.layoutEditorStore.layout.state.definition.inheritedSettings,this.themeTargetId),o=l.SharedRendererStyles.common.getElevationClass(this.block.settings.background,i),n=l.SharedRendererStyles.common.getBackgroundClasses(this.block.settings.background,this.backgroundImage,i);this.block.settings.chrome===a.ChromeTypes.boxed&&(t=l.SharedRendererStyles.common.chrome_boxed);let d="";if(this.block.settings.minHeight&&this.block.settings.minHeight.length>0&&(d=`min-height: ${this.block.settings.minHeight}; `),this.blockInstance.clickProtection?.disabled||(s=l.SharedRendererStyles.block.clickProtectionOverlay),this.targetCurrentUser==a.TargetUser.Target){if(!this.isEditMode&&this.isHideBlock)return(0,r.h)("span",{style:{display:"none"},attrs:{id:this.block.id}},[this.createElement()]);const e=this.isEditMode?this.block.settings.css?this.block.settings.css+";display: block":"display: block":this.block.settings.css;return(0,r.h)("div",{class:[l.SharedRendererStyles.block.container(this.settings,this.block.settings),n,t,o,s,"Block",this.block.settings.customCssClasses],attrs:{id:this.block.id},style:d+e},[this.anchorLink.enabled&&this.createAnchorElement(),(0,r.h)("v-lazy",[this.createElement()])])}return null}};S([(0,n.Prop)()],f.prototype,"block",2),S([(0,n.Prop)()],f.prototype,"parentContainer",2),S([(0,n.Prop)()],f.prototype,"settings",2),S([(0,n.Prop)()],f.prototype,"useClickProtection",2),S([(0,p.Inject)(c.SettingsService)],f.prototype,"settingsService",2),S([(0,p.Inject)(l.LayoutCanvasStore)],f.prototype,"layoutEditorStore",2),S([(0,p.Inject)(b.LayoutMediaContext)],f.prototype,"layoutMediaContext",2),S([(0,p.Inject)(h.BlockTitleSettingsStore)],f.prototype,"blockTitleSettingsStore",2),S([(0,p.Inject)(h.UserTargetingStore)],f.prototype,"targetingStore",2),S([(0,p.Inject)(l.BlockCatalogStore)],f.prototype,"layoutItemStore",2),S([(0,p.Inject)(c.MediaPickerService)],f.prototype,"mediaPickerService",2),S([(0,p.Inject)(b.ThemeStore)],f.prototype,"themeStore",2),S([(0,p.Inject)(l.ThemingRenditionManager)],f.prototype,"themingRenditionManager",2),S([(0,p.Inject)(p.SubscriptionHandler)],f.prototype,"subscriptionHandler",2),S([(0,p.Inject)(g.OmniaContext)],f.prototype,"omniaContext",2),S([(0,p.Inject)(h.MultilingualStore)],f.prototype,"multilingualStore",2),S([(0,p.Provide)(b.BlockInstance)],f.prototype,"blockInstance",2),S([(0,p.Inject)(u.AnchorLink)],f.prototype,"anchorLink",2),S([(0,n.Watch)("block",{immediate:!0})],f.prototype,"onBlockChanged",1),f=S([o.default],f);var v=s("./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js"),k=s.n(v),x=Object.defineProperty,C=Object.getOwnPropertyDescriptor,I=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?C(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&x(t,s,n),n};let T=class extends d.VueComponentBase{constructor(){super(...arguments),this.fallbackRenderCache={},this.blockSettings={},this.blockInstances={}}created(){this.tab.items.forEach((e=>{l.ObjectRules.instanceOfBlock(e)&&(this.blockSettings[e.id]=this.layoutEditorStore.layout.state.blockSettings.getSetting(e.id))})),this.anchorLink.disable()}get backgroundImage(){let e="";if(this.tab.settings.background){const t=this.tab.settings.background.image;t&&t.mediaPickerImage?.omniaImageId&&(e=this.mediaPickerService.getImageUrl(t.mediaPickerImage))}return e}onBlockInstanceCreated(e,t){e.breakpoint=this.breakpoint,this.blockInstances[e.id]=e,this.fallbackRenderCache[t.elementName]||(this.fallbackRenderCache[t.elementName]=e)}renderChildren(){const e=[];return this.tab.items.forEach((t=>{if(l.ObjectRules.instanceOfBlock(t)){const s=t,i=this.blockSettings[t.id];let o=s.elementName;this.renderedOnce&&(o=this.blockInstances[s.id]&&this.blockInstances[s.id].renderCacheKeyProvider?this.blockInstances[s.id].renderCacheKeyProvider(o,i):this.fallbackRenderCache[s.elementName]&&this.fallbackRenderCache[s.elementName].renderCacheKeyProvider?this.fallbackRenderCache[s.elementName].renderCacheKeyProvider(o,i):this.layoutEditorStore.layout.state.definition.id+t.ownerLayoutId+t.id),e.push((0,r.h)(f,{attrs:{block:t,parentContainer:this.tab,settings:this.settings},on:{getBlock:e=>e.blockGetterFunc(s),blockInstanceCreated:e=>{this.onBlockInstanceCreated(e,t)}},key:o}))}else{const s=t,i=s.settings&&s.settings.useFullSpace;e.push((0,r.h)("div",{class:[l.SharedRendererStyles.section.getStylesForSpacingInContainer(this.settings,i),"Section_Container_wrapper"]},[(0,r.h)(V,{attrs:{layoutId:this.layoutId,section:t,parentContainer:this.tab,useScrollMargingFix:!1}})]))}})),this.renderedOnce=!0,e}render(){p.Console.logDebug("render LayoutTabRenderer.tsx"+this.tab.id);const e=l.SharedRendererStyles.common.getElevationClass(this.tab.settings.background,null),t=l.SharedRendererStyles.common.getBackgroundClasses(this.tab.settings.background,this.backgroundImage);return(0,r.h)("div",{attrs:{id:this.tab.id},class:["Tab_Wrapper",t,e,this.tab.settings.customCssClasses],style:this.tab.settings.css},[(0,r.h)("div",{class:[l.SharedRendererStyles.column.getStylesForMarginCollaps(this.settings),"Tab_Margin_Collaps"]},[this.renderChildren()])])}};I([(0,p.Inject)(l.LayoutCanvasStore)],T.prototype,"layoutEditorStore",2),I([(0,p.Inject)(c.MediaPickerService)],T.prototype,"mediaPickerService",2),I([(0,p.Provide)(u.AnchorLink)],T.prototype,"anchorLink",2),I([(0,n.Prop)()],T.prototype,"tab",2),I([(0,n.Prop)()],T.prototype,"settings",2),I([(0,n.Prop)()],T.prototype,"layoutId",2),I([(0,n.Prop)()],T.prototype,"useScrollMargingFix",2),T=I([o.default],T);var L=Object.defineProperty,P=Object.getOwnPropertyDescriptor,M=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?P(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&L(t,s,n),n};let B=class extends d.VueComponentBase{constructor(){super(...arguments),this.selectedTabIndex=0,this.selectedAccordionIndex=[0],this.isEditMode=!1,this.initialAnchorLinkResolved=!0}created(){if(this.currentSectionId=this.section.id,this.section.settings.type===a.SectionTypes.Tab)this.selectedTabIndex=this.tabStateStore.mutations.initState(this.section.id,[0])[0];else{const e=this.section.settings.collapsed?[]:[0];this.selectedAccordionIndex=this.tabStateStore.mutations.initState(this.section.id,e),this.section.settings.singleSelect&&this.selectedAccordionIndex.length>0&&(this.selectedAccordionIndex=this.selectedAccordionIndex[0])}this.isEditMode=this.layoutCanvasStore.canvasMode.state===a.LayoutCanvasModes.editor&&this.layoutCanvasStore.editorMode.state!==a.LayoutEditorModes.devicePreview,this.handleAnchorLink()}beforeDestroy(){this.subscriptionHandler.unsubscribe()}handleAnchorLink(){if(this.isEditMode||0==this.anchorLink.enabled)return;this.initialAnchorLinkResolved=!this.anchorLink.tokenExistsOnUrl;let e=-1;this.subscriptionHandler.add(this.anchorLink.subscribe({validate:t=>(this.initialAnchorLinkResolved=!0,this.section.settings.type!=a.SectionTypes.Tab&&this.section.settings.type!=a.SectionTypes.Accordion||(e=this.section.items.findIndex((e=>t==this.getCustomAnchorName(e)||t==this.getPreferredLabel(e)||t==this.getDefaultLabel(e)))),e>-1),trigger:()=>{this.section.settings.type==a.SectionTypes.Tab?this.onSelectTab(e):this.section.settings.type==a.SectionTypes.Accordion&&(this.section.settings.singleSelect?this.onSelectAccordion(e):this.onSelectAccordion([e]))},cancel:()=>{this.initialAnchorLinkResolved=!0}}))}updated(){this.section.id!==this.currentSectionId&&this.section.settings.type===a.SectionTypes.Tab&&this.onSelectTab(0),this.currentSectionId=this.section.id}getDefaultLabel(e){const t=this.omniaContext.tenant.propertyBag.getModel(a.TenantLanguageSettings).languages.find((e=>e.default)),s=e.settings.label[t.name];if(0==p.Utils.isNullOrEmpty(s))return u.AnchorLink.transformToDefaultFormat(s)}getPreferredLabel(e){const t=this.multilingualStore.getters.stringValue(e.settings.label);if(0==p.Utils.isNullOrEmpty(t))return u.AnchorLink.transformToDefaultFormat(t)}getCustomAnchorName(e){if(e.settings.type==a.SectionTypes.Tab||e.settings.type==a.SectionTypes.Accordion)return e.settings.customAnchorNameEnabled&&0==p.Utils.isNullOrEmpty(e.settings.anchorName)?e.settings.anchorName.toLowerCase():void 0}get selectedTab(){return this.section.items[this.selectedTabIndex]||this.section.items[0]}onSelectTab(e){this.selectedTabIndex=e,this.tabStateStore.mutations.setState(this.section.id,[e])}onSelectAccordion(e){this.selectedAccordionIndex=e,e||0===e?e.length||(e=[e]):e=[],this.tabStateStore.mutations.setState(this.section.id,e)}silentNavigateIfNeeded(e){if(this.anchorLink.enabled){let t=this.getCustomAnchorName(e);t||(t=this.getDefaultLabel(e)),this.anchorLink.silentNavigate(t)}}hasTabIcon(e){return!!e.settings.icon&&(!(e.settings.icon.iconType!=a.IconTypes.FontAwesome||!e.settings.icon.faClass)||(!(e.settings.icon.iconType!=a.IconTypes.Fabric||!e.settings.icon.fabClass)||!(e.settings.icon.iconType!=a.IconTypes.Flag||!e.settings.icon.flagClass)))}hasAnyTabIcon(){let e=!1;return!!this.section.items&&(this.section.items.forEach((t=>{this.hasTabIcon(t)&&(e=!0)})),e)}showIconAndTextMode(){return!!this.section.settings.iconPosition&&!(this.section.settings.iconPosition!==a.TabbedIconPositions.Top||!this.hasAnyTabIcon())}renderLabelAndIcon(e){const t=this.multilingualStore.getters.stringValue(e.settings.tooltip);let s="";return e.settings.icon&&(e.settings.icon.fabClass||e.settings.icon.faClass||e.settings.icon.flagClass)&&(s=JSON.stringify(e.settings.icon)+l.SharedRendererFunctions.section.getTabTextColor(this.section.settings,e===this.selectedTab,this.theming)),(0,r.h)("v-tooltip",k()([{attrs:{right:!0,disabled:!t}},this.transformVSlot({activator:t=>{const i={on:t.on};return[(0,r.h)("span",k()([{},i]),[s&&(0,r.h)("omfx-icon",{key:s,class:"mr-2",domProps:{valueBind:e.settings.icon}}),this.multilingualStore.getters.stringValue(e.settings.label)])]}})]),[(0,r.h)("span",[t])])}isSelectedAccordionIndex(e){return this.selectedAccordionIndex?.length?this.selectedAccordionIndex.indexOf(e)>=0:this.selectedAccordionIndex===e}renderAnchorElements(e){const t=this.getDefaultLabel(e),s=this.getPreferredLabel(e),i=this.getCustomAnchorName(e);return 0==this.isEditMode?[t&&(0,r.h)("div",{attrs:{name:t}}),s&&(0,r.h)("div",{attrs:{name:s}}),i&&(0,r.h)("div",{attrs:{name:i}})]:null}renderAccordion(){return(0,r.h)("v-expansion-panels",{class:l.SharedRendererStyles.tabs.accordionWrapper(this.section.settings,this.section.settings.labelPadding),attrs:{flat:!0,multiple:!this.section.settings.singleSelect,accordion:!0,value:this.selectedAccordionIndex},on:{change:e=>{this.onSelectAccordion(e)}}},[this.section.items.map(((e,t)=>(0,r.h)("v-expansion-panel",{on:{click:e=>{e.stopPropagation(),this.silentNavigateIfNeeded(this.section.items[t])}}},[this.anchorLink.enabled&&this.renderAnchorElements(e),(0,r.h)("v-expansion-panel-header",[(0,r.h)("div",[this.renderLabelAndIcon(e)])]),(0,r.h)("v-expansion-panel-content",[(0,r.h)("div",[this.isSelectedAccordionIndex(t)&&(0,r.h)(T,{attrs:{tab:e,settings:this.section.settings,useScrollMargingFix:this.useScrollMargingFix,layoutId:this.layoutId},key:e.id+this.layoutId})])])])))])}renderTabTitle(e){return(0,r.h)("div",{class:"mx-2"},[this.multilingualStore.getters.stringValue(e.settings.label)])}renderIcon(e){const t=this.multilingualStore.getters.stringValue(e.settings.label);return this.hasTabIcon(e)?this.section.settings.iconPosition===a.TabbedIconPositions.Top?(0,r.h)("omfx-icon",{class:"mb-2 mt-3",domProps:{valueBind:e.settings.icon}}):p.Utils.isNullOrEmpty(t)?(0,r.h)("div",{style:"width:10px"},[(0,r.h)("omfx-icon",{domProps:{valueBind:e.settings.icon}})]):(0,r.h)("div",{style:"width:30px"},[(0,r.h)("omfx-icon",{domProps:{valueBind:e.settings.icon}})]):null}renderTab(e,t){const s=this.multilingualStore.getters.stringValue(e.settings.tooltip),i=this.section.settings.iconPosition!==a.TabbedIconPositions.Left;return(0,r.h)("v-tab",{on:{click:()=>{this.onSelectTab(t),this.silentNavigateIfNeeded(this.section.items[t])},keydown:()=>{this.onSelectTab(t),this.silentNavigateIfNeeded(this.section.items[t])}},class:[l.SharedRendererStyles.tabs.createTabItemStyling(this.section.settings,t,this.section.items.length,this.hasTabIcon(e)),this.section.settings.displayMode===a.TabbedDisplayModes.Vertical&&this.section.settings.showSlider&&this.section.settings.grow&&this.selectedTabIndex===t?l.SharedRendererStyles.tabs.verticalSliderStyle(this.section.settings.sliderColor):"","pa-0"]},[(0,r.h)("v-tooltip",k()([{attrs:{disabled:!s,right:this.section.settings.displayMode===a.TabbedDisplayModes.Vertical,bottom:this.section.settings.displayMode===a.TabbedDisplayModes.Horizontal}},this.transformVSlot({activator:t=>{const s={on:t.on};return[(0,r.h)("div",k()([{},s,{class:["px-4",l.SharedRendererStyles.tabs.tabContentWrapper(this.showIconAndTextMode())]}]),[i&&this.renderTabTitle(e),this.renderIcon(e),!i&&this.renderTabTitle(e)])]}})]),[(0,r.h)("span",[s])])])}renderTabs(){const e=this.section.items.map(((e,t)=>[this.anchorLink.enabled&&this.renderAnchorElements(e),this.renderTab(e,t)])),t=this.section.items.map(((e,t)=>(0,r.h)("v-tab-item",[(0,r.h)(T,{attrs:{tab:e,settings:this.section.settings,useScrollMargingFix:this.useScrollMargingFix,layoutId:this.layoutId},key:e.id+this.layoutId})])));return(0,r.h)("v-tabs",{attrs:{"show-arrows":!0,dark:this.theming.body.bg.dark,centered:this.section.settings.displayMode!==a.TabbedDisplayModes.Vertical&&this.section.settings.tabAlignment===a.HorizontalAlignments.center,right:this.section.settings.displayMode!==a.TabbedDisplayModes.Vertical&&this.section.settings.tabAlignment===a.HorizontalAlignments.right,"hide-slider":!(this.section.settings.displayMode!==a.TabbedDisplayModes.Vertical||!this.section.settings.grow)||!this.section.settings.showSlider,vertical:this.section.settings.displayMode===a.TabbedDisplayModes.Vertical,grow:this.section.settings.grow,"background-color":this.section.settings.bgColor,color:this.section.settings.activeLabelColor,"slider-color":this.section.settings.sliderColor,"icons-and-text":this.showIconAndTextMode(),height:this.section.settings.customSize&&this.section.settings.displayMode!==a.TabbedDisplayModes.Vertical&&this.section.settings.tabMinHeight?this.section.settings.tabMinHeight:null,ripple:!0},class:l.SharedRendererStyles.tabs.createColorSchemaForTabs(this.section.settings),model:{value:this.selectedTabIndex,callback:e=>{this.selectedTabIndex=e}}},[e,t])}render(){return p.Console.logDebug("render LayoutSectionTabRenderer.tsx"+this.section.id),this.initialAnchorLinkResolved&&(0,r.h)("div",{class:l.SharedRendererStyles.tabs.tabWrapper},[this.section.settings.type===a.SectionTypes.Tab?this.renderTabs():this.renderAccordion()])}};M([(0,p.Inject)(l.LayoutCanvasStore)],B.prototype,"layoutCanvasStore",2),M([(0,p.Inject)(h.MultilingualStore)],B.prototype,"multilingualStore",2),M([(0,p.Inject)(l.DynamicStateStore)],B.prototype,"tabStateStore",2),M([(0,p.Inject)(p.SubscriptionHandler)],B.prototype,"subscriptionHandler",2),M([(0,p.Inject)(g.OmniaContext)],B.prototype,"omniaContext",2),M([(0,p.Inject)(u.AnchorLink)],B.prototype,"anchorLink",2),M([(0,n.Prop)()],B.prototype,"section",2),M([(0,n.Prop)()],B.prototype,"layoutId",2),M([(0,n.Prop)()],B.prototype,"useScrollMargingFix",2),B=M([o.default],B);var R=Object.defineProperty,j=Object.getOwnPropertyDescriptor,w=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?j(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&R(t,s,n),n};let E=class extends d.VueComponentBase{constructor(){super(...arguments),this.fallbackRenderCache={},this.blockSettings={},this.blockInstances={}}created(){this.step.items.forEach((e=>{l.ObjectRules.instanceOfBlock(e)&&(this.blockSettings[e.id]=this.layoutEditorStore.layout.state.blockSettings.getSetting(e.id))})),this.anchorLink.disable()}get backgroundImage(){let e="";if(this.step.settings.background){const t=this.step.settings.background.image;t&&t.mediaPickerImage?.omniaImageId&&(e=this.mediaPickerService.getImageUrl(t.mediaPickerImage))}return e}onBlockInstanceCreated(e,t){e.breakpoint=this.breakpoint,this.blockInstances[e.id]=e,this.fallbackRenderCache[t.elementName]||(this.fallbackRenderCache[t.elementName]=e)}renderChildren(){const e=[];return this.step.items.forEach((t=>{if(l.ObjectRules.instanceOfBlock(t)){const s=t,i=this.blockSettings[t.id];let o=s.elementName;this.renderedOnce&&(o=this.blockInstances[s.id]&&this.blockInstances[s.id].renderCacheKeyProvider?this.blockInstances[s.id].renderCacheKeyProvider(o,i):this.fallbackRenderCache[s.elementName]&&this.fallbackRenderCache[s.elementName].renderCacheKeyProvider?this.fallbackRenderCache[s.elementName].renderCacheKeyProvider(o,i):this.layoutEditorStore.layout.state.definition.id+t.ownerLayoutId+t.id),e.push((0,r.h)(f,{attrs:{block:t,parentContainer:this.step,settings:this.settings},on:{getBlock:e=>e.blockGetterFunc(s),blockInstanceCreated:e=>{this.onBlockInstanceCreated(e,t)}},key:o}))}else{const s=t,i=s.settings&&s.settings.useFullSpace;e.push((0,r.h)("div",{class:[l.SharedRendererStyles.section.getStylesForSpacingInContainer(this.settings,i),"Section_Container_wrapper"]},[(0,r.h)(V,{attrs:{layoutId:this.layoutId,section:t,parentContainer:this.step,useScrollMargingFix:!1}})]))}})),this.renderedOnce=!0,e}render(){const e=l.SharedRendererStyles.common.getElevationClass(this.step.settings.background,null),t=l.SharedRendererStyles.common.getBackgroundClasses(this.step.settings.background,this.backgroundImage);return(0,r.h)("div",{attrs:{id:this.step.id},class:["Step_Wrapper",t,e,this.step.settings.customCssClasses],style:this.step.settings.css},[(0,r.h)("div",{class:["Tab_Margin_Collaps"]},[this.renderChildren()])])}};w([(0,p.Inject)(l.LayoutCanvasStore)],E.prototype,"layoutEditorStore",2),w([(0,p.Inject)(c.MediaPickerService)],E.prototype,"mediaPickerService",2),w([(0,p.Provide)(u.AnchorLink)],E.prototype,"anchorLink",2),w([(0,n.Prop)()],E.prototype,"step",2),w([(0,n.Prop)()],E.prototype,"settings",2),w([(0,n.Prop)()],E.prototype,"layoutId",2),w([(0,n.Prop)()],E.prototype,"useScrollMargingFix",2),E=w([o.default],E);var A=Object.defineProperty,O=Object.getOwnPropertyDescriptor,F=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?O(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&A(t,s,n),n};let U=class extends d.VueComponentBase{created(){}renderSectionItem(e){return(0,r.h)(E,{attrs:{step:e,settings:this.section.settings,useScrollMargingFix:this.useScrollMargingFix,layoutId:this.layoutId},key:e.id+this.layoutId})}render(){return(0,r.h)(ee,{attrs:{section:this.section,renderSectionItem:this.renderSectionItem}})}};F([(0,n.Prop)()],U.prototype,"section",2),F([(0,n.Prop)()],U.prototype,"layoutId",2),F([(0,n.Prop)()],U.prototype,"useScrollMargingFix",2),F([(0,p.Localize)(b.OmniaUxLocalizationNamespace)],U.prototype,"omniaUxLoc",2),U=F([o.default],U);var D=Object.defineProperty,_=Object.getOwnPropertyDescriptor,N=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?_(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&D(t,s,n),n};let V=class extends d.VueComponentBase{constructor(){super(...arguments),this.slots=null,this.targetCurrentUser=a.TargetUser.Undefined,this.isEditMode=!1}beforeCreate(){this.isEditMode=this.layoutEditorStore.canvasMode.state===a.LayoutCanvasModes.editor&&this.layoutEditorStore.editorMode.state!==a.LayoutEditorModes.devicePreview}created(){this.layoutEditorStore.onLayoutSectionRendererCreated(this),this.init()}get backgroundImage(){let e="";if(this.section.settings.background){const t=this.section.settings.background.image;t&&t.mediaPickerImage?.omniaImageId&&(e=this.mediaPickerService.getImageUrl(t.mediaPickerImage))}return e}init(){this.checkTargetingValue(this.section.settings),(this.section.settings.titleSettings||this.section.settings.icon)&&this.blockTitleSettingsStore.actions.load.dispatch().then((()=>{this.blockTitleSettingsStore.mutations.setComponentSettings(this.section.id,this.section.settings.titleSettings,this.section.settings.icon)})),this.section&&this.section.settings&&this.section.settings.background&&this.ensureBackgroundImageHandler&&this.ensureBackgroundImageHandler(this.section),this.themingRenditionManager.registerSectionTheme(this.themeStore,this.section,this.layoutEditorStore.layout.state.definition.id)}onSectionUpdated(){this.init()}updated(){this.checkTargetingValue(this.section.settings)}checkTargetingValue(e){this.isEditMode||!e.targetingFilterProperties||p.Utils.isNullOrEmpty(e.targetingFilterProperties.enterprisePropertiesSettings)?this.targetCurrentUser=a.TargetUser.Target:this.targetCurrentUser=this.targetingStore.getters.targetingToUser(e.targetingFilterProperties.enterprisePropertiesSettings)}createColumnMarkup(){if(!this.section.items)return null;const e=this.themingRenditionManager.getThemeTargetIdSection(this.section,this.layoutEditorStore.blockThemeDefinition.state),t=[];return this.section.items.map((s=>t.push((0,r.h)(G,{attrs:{column:s,themeTargetId:e,settings:this.section.settings,useScrollMargingFix:this.useScrollMargingFix,layoutId:this.layoutId}})))),this.slots&&t.push(this.slots.afterColumnMarkup(this.section)),t}createTabMarkup(){const e=this.themingRenditionManager.getThemeTargetIdSection(this.section,this.layoutEditorStore.blockThemeDefinition.state);return(0,r.h)(B,{key:this.section.id+this.layoutId,attrs:{section:this.section,themeTargetId:e,useScrollMargingFix:this.useScrollMargingFix,layoutId:this.layoutId}})}createStepperMarkup(){const e=this.themingRenditionManager.getThemeTargetIdSection(this.section,this.layoutEditorStore.blockThemeDefinition.state);return(0,r.h)(U,{key:this.section.id+this.layoutId,attrs:{section:this.section,themeTargetId:e,useScrollMargingFix:this.useScrollMargingFix,layoutId:this.layoutId}})}renderSectionTitle(){return this.section.settings.sectionTitle?""===this.section.settings.sectionTitle?null:(0,r.h)("div",{class:l.SharedRendererStyles.section.getStyleStringForTitle(this.section.settings)},[(0,r.h)("omfx-layout-block-title",{domProps:{multilingualtitle:this.section.settings.sectionTitle},attrs:{settingsKey:this.section.id}})]):null}render(){let e;p.Console.logDebug("render LayoutSectionRenderer.tsx"+this.section.id),this.section.settings.useCustomTheme&&(e=b.ThemeManager.CreateThemeStylingFromDefinition(this.section.settings.themeDefinition.body));const t=l.SharedRendererStyles.common.getElevationClass(this.section.settings.background,null),s=l.SharedRendererStyles.common.getBackgroundClasses(this.section.settings.background,this.backgroundImage,null),i=this.section.settings.background&&this.section.settings.background.shapeDivider?this.section.settings.background.shapeDivider:null;let o="";return this.section.settings.minHeight&&this.section.settings.minHeight.length>0&&(o=`min-height: ${this.section.settings.minHeight}; `),this.targetCurrentUser===a.TargetUser.Target&&(0,r.h)("div",{class:[l.SharedRendererFunctions.section.getAlignmentSettings(this.section),l.SharedRendererStyles.section.sectionAlignmentContainer(this.section.settings),"Section_Alignment",this.directionRuleStore.getters.getDirectionRule()===a.DirectionRules.rtl?"v-application--is-rtl":"v-application--is-ltr"]},[(0,r.h)("div",{class:[l.SharedRendererStyles.section.getStylesFromSettings(this.section.settings,this.useScrollMargingFix),t,s,"Section_Wrapper"]},[i&&(0,r.h)("omfx-shape-divider",{attrs:{flip:i.flip,height:i.height,invert:i.invert,position:i.position,width:i.width,color:i.color,shape:i.shape,spacing:i.spacing,borderradius:i.borderradius}}),(0,r.h)("div",{class:["Collapsed_margin_positioner"]},[(0,r.h)("div",{class:[l.SharedRendererStyles.section.columnWrapper,l.SharedRendererStyles.section.getStylesForMarginCollapsAndSpacing(this.section.settings),"Section_Column_Wrapper",this.section.settings.customCssClasses],style:o+this.section.settings.css},[this.renderSectionTitle(),this.section.settings.type===a.SectionTypes.Column?this.createColumnMarkup():this.section.settings.type===a.SectionTypes.Stepper?this.createStepperMarkup():this.createTabMarkup()])])])])}};N([(0,n.Prop)()],V.prototype,"section",2),N([(0,n.Prop)()],V.prototype,"parentContainer",2),N([(0,n.Prop)()],V.prototype,"layoutId",2),N([(0,n.Prop)()],V.prototype,"useScrollMargingFix",2),N([(0,p.Inject)(h.UserTargetingStore)],V.prototype,"targetingStore",2),N([(0,p.Inject)(h.BlockTitleSettingsStore)],V.prototype,"blockTitleSettingsStore",2),N([(0,p.Inject)(l.LayoutCanvasStore)],V.prototype,"layoutEditorStore",2),N([(0,p.Inject)(c.MediaPickerService)],V.prototype,"mediaPickerService",2),N([(0,p.Inject)(b.ThemeStore)],V.prototype,"themeStore",2),N([(0,p.Inject)(l.ThemingRenditionManager)],V.prototype,"themingRenditionManager",2),N([(0,p.Inject)(h.DirectionRuleStore)],V.prototype,"directionRuleStore",2),N([(0,n.Watch)("section",{immediate:!1})],V.prototype,"onSectionUpdated",1),V=N([o.default],V);var H=Object.defineProperty,W=Object.getOwnPropertyDescriptor,K=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?W(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&H(t,s,n),n};let G=class extends d.VueComponentBase{constructor(){super(...arguments),this.blockInstances={},this.cacheKeys={},this.blockSettings={}}created(){this.column.items.forEach((e=>{l.ObjectRules.instanceOfBlock(e)&&(this.blockSettings[e.id]=this.layoutEditorStore.layout.state.blockSettings.getSetting(e.id))}))}destroyed(){this.render=null,this.cacheKeys=null,this.blockSettings=null}get backgroundImage(){let e="";if(this.column.settings.background){const t=this.column.settings.background.image;t&&t.mediaPickerImage?.omniaImageId&&(e=this.mediaPickerService.getImageUrl(t.mediaPickerImage))}return e}onBlockInstanceCreated(e,t){e.breakpoint=this.breakpoint,this.blockInstances[e.id]=e}onBlockInstanceCacheKeyUpdated(e,t){const s=this.cacheKeys[t.id];s.providerKey=e.renderCacheKeyProvider(s.initialKey,t.settings)}renderChildren(){const e=[];return this.column.items.forEach((t=>{if(l.ObjectRules.instanceOfBlock(t)){const s=t,i=this.blockSettings[t.id];let o=s.elementName;if(this.renderedOnce)if(this.blockInstances[s.id]&&this.blockInstances[s.id].renderCacheKeyProvider){o=this.blockInstances[s.id].renderCacheKeyProvider(o,i);const e=this.cacheKeys[s.id];o===e.providerKey&&(o=e.initialKey)}else o=this.layoutEditorStore.layout.state.definition.id+t.ownerLayoutId+t.id;else;this.cacheKeys.hasOwnProperty(s.id)||(this.cacheKeys[s.id]={initialKey:o,providerKey:null}),e.push((0,r.h)(f,{attrs:{themeTargetId:this.themeTargetId?this.themeTargetId.toString():a.Constants.ux.themeTargetIds.block.toString(),block:t,parentContainer:this.column,settings:this.settings},key:o,on:{getBlock:e=>{e.blockGetterFunc(s)},blockInstanceCreated:e=>{this.onBlockInstanceCreated(e,t)},blockInstanceCacheKeyUpdated:e=>{this.onBlockInstanceCacheKeyUpdated(e,t)}}}))}else{const s=t,i=s.settings&&s.settings.useFullSpace;e.push((0,r.h)("div",{class:[l.SharedRendererStyles.section.getStylesForSpacingInContainer(this.settings,i),"Section_Container_wrapper"]},[(0,r.h)(V,{attrs:{layoutId:this.layoutId,section:t,parentContainer:this.column,useScrollMargingFix:!1}})]))}})),this.renderedOnce=!0,e}render(){let e="";const t=l.SharedRendererStyles.common.getElevationClass(this.column.settings.background,null),s=l.SharedRendererStyles.common.getBackgroundClasses(this.column.settings.background,this.backgroundImage);return this.column.settings.chrome===a.ChromeTypes.boxed&&(e=l.SharedRendererStyles.common.chrome_boxed),(0,r.h)("div",{attrs:{id:this.column.id},class:[l.SharedRendererStyles.column.getStylesFromSettings(this.column.settings,this.backgroundImage,this.settings),e,"Column_Wrapper",s,t,this.column.settings.customCssClasses],style:this.column.settings.css},[(0,r.h)("div",{class:[l.SharedRendererStyles.column.getStylesForMarginCollaps(this.settings),"Column_Margin_Collaps"]},[this.renderChildren()])])}};K([(0,p.Inject)(l.LayoutCanvasStore)],G.prototype,"layoutEditorStore",2),K([(0,p.Inject)(c.MediaPickerService)],G.prototype,"mediaPickerService",2),K([(0,p.Inject)(l.BlockCatalogStore)],G.prototype,"blockCatalogStore",2),K([(0,n.Prop)()],G.prototype,"column",2),K([(0,n.Prop)()],G.prototype,"settings",2),K([(0,n.Prop)()],G.prototype,"layoutId",2),K([(0,n.Prop)()],G.prototype,"useScrollMargingFix",2),G=K([o.default],G);class z{constructor(e){this.section=null,this.section=e}resizeColumn(e,t){return!!this.canColumnBeResized(e,t)&&(e.settings.size=(parseInt(e.settings.size)+t).toString(),!0)}canColumnBeResized(e,t){const s=parseInt(e.settings.size)+t;return s>0&&s<12}isLastItem(e,t){return e===t}}class J{static setBlockTitleSettingsForLayout(e,t){if(!e)return;e.settings&&e.settings.useCustomBlockTitle?t.mutations.setLayoutSettings(e.id,e.settings.blockTitleSettings):e.inheritedSettings&&e.inheritedSettings.useCustomBlockTitle?t.mutations.setLayoutSettings(e.id,e.inheritedSettings.blockTitleSettings):t.mutations.setLayoutInheritageToGlobalSettings()}}var $=s("c041fe9f-1e14-443d-9407-5aa8829fbc21"),q=s("./client/fx/ux/uxmodels.js"),X=s("./client/fx/ux/confirmdialog/index.js"),Y=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,Z=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?Q(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&Y(t,s,n),n};let ee=class extends b.VueComponentBase{constructor(){super(...arguments),this.stepperCurrentStep=0,this.readyToSetVisible=!0,this.isShowOverlay=!1,this.editorDesignModeStepperKey=null,this.initialAnchorLinkResolved=!0}created(){const e=this.items&&this.items.length>0?1:0;this.stepperCurrentStep=this.selectedStepStateStore.mutations.initState(this.section.id,[e])[0],this.inLayoutDesignMode&&(this.editorDesignModeStepperKey=a.Guid.newGuid()),this.handleAnchorLink()}beforeDestroy(){this.subscriptionHandler.unsubscribe()}hasValidAnchorLinkSettings(){return 0==this.inLayoutDesignMode&&this.section.settings.nonLinear}handleAnchorLink(){0!=this.hasValidAnchorLinkSettings()&&0!=this.anchorLink.enabled&&(this.initialAnchorLinkResolved=!this.anchorLink.tokenExistsOnUrl,this.subscriptionHandler.add(this.anchorLink.subscribe({validate:e=>{this.initialAnchorLinkResolved=!0;const t=this.items.findIndex((t=>e==this.getCustomAnchorName(t)||e==this.getPreferredLabel(t)||e==this.getDefaultLabel(t)));return t>-1&&(this.stepperCurrentStep=t+1,!0)},trigger:()=>{this.selectedStepStateStore.mutations.setState(this.section.id,[this.stepperCurrentStep]),this.handleToSetOverflowForStepperContent()},cancel:()=>{this.initialAnchorLinkResolved=!0}})))}getDefaultLabel(e){const t=this.omniaContext.tenant.propertyBag.getModel(a.TenantLanguageSettings).languages.find((e=>e.default)),s=e.settings.label[t.name];if(0==p.Utils.isNullOrEmpty(s))return u.AnchorLink.transformToDefaultFormat(s)}getPreferredLabel(e){const t=this.multilingualStore.getters.stringValue(e.settings.label);if(0==p.Utils.isNullOrEmpty(t))return u.AnchorLink.transformToDefaultFormat(t)}getCustomAnchorName(e){if(e.settings.customAnchorNameEnabled&&0==p.Utils.isNullOrEmpty(e.settings.anchorName))return e.settings.anchorName.toLowerCase()}silentNavigateIfNeeded(e){if(this.section.settings.nonLinear&&this.anchorLink.enabled){let t=this.getCustomAnchorName(e);t||(t=this.getDefaultLabel(e)),this.anchorLink.silentNavigate(t)}}get items(){return this.section.items}get inLayoutDesignMode(){return this.layoutCanvasStore.canvasMode?.state===a.LayoutCanvasModes.editor&&this.layoutCanvasStore.editorMode?.state===a.LayoutEditorModes.design}getStepperKeyByVerticalMode(e){return this.inLayoutDesignMode?this.editorDesignModeStepperKey+(this.section.settings.vertical?"v":"h")+"_"+e:null}getScrollToStepClassName(e){return`sectionScrollToStep${e}`}scrollStepperToTop(){this.$nextTick((()=>{const e={block:"start",behavior:"smooth",inline:"end"},t=this.$el.querySelector("."+this.getScrollToStepClassName(this.stepperCurrentStep));t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded(e):t.scrollIntoView(e)}))}renderEditableStepTitle(e){const t="stepTitlePanelTrigger"+this.section.id;return(0,r.h)("v-menu",k()([{attrs:{"offset-y":!0,"close-on-content-click":!1,"close-on-click":!1}},this.transformVSlot({activator:s=>{const i={on:s.on};return[(0,r.h)("span",k()([{},i,{class:t,on:{click:()=>{this.isShowOverlay=!0}}}]),[this.multilingualStore.getters.stringValue(e.settings.label)])]}})]),[(0,r.h)("div",[(0,r.h)("v-card",{attrs:{dark:this.theming.body.bg.dark}},[(0,r.h)("v-card-title",{class:b.SharedRendererStyles.tabs.stepper.inEditor.stepTitleEditPanel.header},[(0,r.h)("omfx-button",{domProps:{preset:b.ButtonPresets.icons.close,onClick:()=>{this.$el.getElementsByClassName(t)[0].click(),this.isShowOverlay=!1}}})]),(0,r.h)("v-card-text",[(0,r.h)("omfx-multilingual-input",{attrs:{dark:this.theming.body.bg.dark,filled:!0,label:" "},domProps:{valueBind:e.settings.label,onValueChanged:t=>{e.settings.label=t}}})])])])])}renderStepperStep(e,t){return(0,r.h)("v-stepper-step",{class:[this.getScrollToStepClassName(e),this.section.settings.vertical&&this.section.settings.labelSettings?.altLabels?"align-start":""],attrs:{step:e,editable:!!(this.section.settings.nonLinear||this.inLayoutDesignMode||this.layoutCanvasStore.getters.isSectionInlineManagementActivated(this.section))},on:{click:e=>{}}},[this.section.settings.labelSettings&&this.section.settings.labelSettings.none?"":e===this.stepperCurrentStep&&this.layoutCanvasStore.getters.isSectionInlineManagementActivated(this.section)&&!this.layoutCanvasStore.getters.isLayoutItemLocked(t)?this.renderEditableStepTitle(t):this.multilingualStore.getters.stringValue(t.settings.label)])}addStep(){const e=this.stepperCurrentStep>0?this.items[this.stepperCurrentStep-1]:null;this.layoutCanvasStore.mutations.addItem2Layout.commit({containerId:this.section.id,item:b.EditorLayoutItemFactory.createStep(this.layoutCanvasStore.layout.state),postInsert:!!e,siblingId:e?.id}),this.$nextTick((()=>{if(e&&e.items&&e.items.length>0){const t=this.items[this.stepperCurrentStep];e.items.forEach((e=>{this.layoutCanvasStore.mutations.copyItemInLayout.commit(e,t)}))}this.stepperCurrentStep+=1}))}handleToSetOverflowForStepperContent(){this.readyToSetVisible=!1,setTimeout((()=>{this.readyToSetVisible=!0}),800)}handleUIOnStepChanged(){this.section.settings.scrollToTopOnSelectedStep&&this.scrollStepperToTop(),this.layoutCanvasStore.editorMode.state===a.LayoutEditorModes.design&&this.handleToSetOverflowForStepperContent()}renderStepperContent(e,t){return(0,r.h)("v-stepper-content",{attrs:{step:e},class:[this.inLayoutDesignMode&&e==this.stepperCurrentStep&&this.readyToSetVisible?b.SharedRendererStyles.tabs.stepper.inEditor.expandedContent:""]},[this.layoutCanvasStore.getters.isSectionInlineManagementActivated(this.section)&&!this.layoutCanvasStore.getters.isLayoutItemLocked(t)&&(0,r.h)("div",{class:"d-flex justify-end pa-2"},[e>1&&(0,r.h)("omfx-button",{domProps:{mode:a.ButtonModes.icon,icon:{iconType:this.section.settings.vertical?new a.FontAwesomeIcon("fal fa-arrow-to-top"):new a.FontAwesomeIcon("fal fa-arrow-to-left"),small:!0},onClick:()=>{this.layoutCanvasStore.mutations.moveItemInLayout.commit(t,this.section,this.items[e-2].id,!1),this.stepperCurrentStep--,this.handleUIOnStepChanged()},tooltip:{text:this.omniaUxLoc.LayoutEngine.Panels.StepperSettings.MoveStep,position:a.ButtonTooltipPosition.Top}}}),e<this.items.length&&(0,r.h)("omfx-button",{domProps:{mode:a.ButtonModes.icon,icon:{iconType:this.section.settings.vertical?new a.FontAwesomeIcon("fal fa-arrow-to-bottom"):new a.FontAwesomeIcon("fal fa-arrow-to-right"),small:!0},onClick:()=>{this.layoutCanvasStore.mutations.moveItemInLayout.commit(t,this.section,this.items[e].id,!0),this.stepperCurrentStep++,this.handleUIOnStepChanged()},tooltip:{text:this.omniaUxLoc.LayoutEngine.Panels.StepperSettings.MoveStep,position:a.ButtonTooltipPosition.Top}}}),(0,r.h)("omfx-button",{domProps:{mode:a.ButtonModes.icon,icon:{iconType:new a.FontAwesomeIcon("fal fa-trash"),small:!0},onClick:()=>{this.$confirm.open({title:this.omniaUxLoc.LayoutEngine.Panels.StepperSettings.RemoveStep,message:this.omniaUxLoc.LayoutEngine.Panels.StepperSettings.RemoveStepConfirmation,displayMode:"confirm"}).then((e=>{e===X.ConfirmDialogResponse.Ok&&this.layoutCanvasStore.mutations.deleteItemFromLayout.commit({containerId:this.section.id,item:t})}))},tooltip:{text:this.omniaUxLoc.LayoutEngine.Panels.StepperSettings.RemoveStep,position:a.ButtonTooltipPosition.Top}}})]),this.renderSectionItem(t),(0,r.h)("div",{class:"d-flex pa-2"},[this.stepperCurrentStep>1&&(0,r.h)("div",[(0,r.h)("omfx-button",{domProps:{mode:a.ButtonModes.flat,onClick:()=>{this.stepperCurrentStep--,this.handleUIOnStepChanged()}},attrs:{text:this.omniaUxLoc.Common.Buttons.Previous}})]),this.stepperCurrentStep<this.items.length&&(0,r.h)("div",{class:"ml-auto"},[(0,r.h)("omfx-button",{domProps:{mode:a.ButtonModes.flat,onClick:()=>{this.stepperCurrentStep++,this.handleUIOnStepChanged()}},attrs:{text:this.omniaUxLoc.Common.Buttons.Next}})])])])}renderAddStepButton(e){let t=null;return t=this.section.settings.vertical?(0,r.h)("div",{class:"d-flex flex-column pt-4"},[(0,r.h)("omfx-button",{attrs:{contentClass:b.SharedRendererStyles.tabs.stepper.inEditor.verticalMode.addStepButtonContainer},domProps:{mode:a.ButtonModes.icon,icon:{iconType:new a.FontAwesomeIcon("fal fa-plus"),small:!0},onClick:this.addStep,tooltip:{text:this.omniaUxLoc.LayoutEngine.Panels.StepperSettings.AddStep,position:a.ButtonTooltipPosition.Right}}}),e>=0&&e<this.items.length-1&&(0,r.h)("div",{class:b.SharedRendererStyles.tabs.stepper.inEditor.verticalMode.addStepButtonDivider})]):(0,r.h)("div",{class:["d-flex align-center",this.section.settings.labelSettings?.altLabels?b.SharedRendererStyles.tabs.stepper.inEditor.horizontalMode.labelBelowStep.addStepButtonWrapper:"px-4"]},[(0,r.h)("omfx-button",{domProps:{mode:a.ButtonModes.icon,icon:{iconType:new a.FontAwesomeIcon("fal fa-plus"),small:!0},onClick:this.addStep,tooltip:{text:this.omniaUxLoc.LayoutEngine.Panels.StepperSettings.AddStep,position:a.ButtonTooltipPosition.Bottom}}})]),t}renderAnchorElements(e){const t=this.getDefaultLabel(e),s=this.getPreferredLabel(e),i=this.getCustomAnchorName(e);return[t&&(0,r.h)("div",{attrs:{name:t}}),s&&(0,r.h)("div",{attrs:{name:s}}),i&&(0,r.h)("div",{attrs:{name:i}})]}render(){return this.initialAnchorLinkResolved&&(0,r.h)("v-stepper",{key:this.getStepperKeyByVerticalMode("vstepper"),class:b.SharedRendererStyles.tabs.stepper.wrapper,attrs:{dark:this.theming.body.bg.dark,value:this.stepperCurrentStep,vertical:this.section.settings.vertical,"non-linear":!0,"alt-labels":this.section.settings.labelSettings?.altLabels},on:{change:e=>{this.stepperCurrentStep=e,this.selectedStepStateStore.mutations.setState(this.section.id,[e]),this.handleToSetOverflowForStepperContent(),this.silentNavigateIfNeeded(this.section.items[e-1])}}},[(!this.items||0==this.items.length)&&this.layoutCanvasStore.getters.isSectionInlineManagementActivated(this.section)&&this.renderAddStepButton(-1),this.section.settings.vertical?this.items.map(((e,t)=>{const s=[];return this.hasValidAnchorLinkSettings()&&this.anchorLink.enabled&&s.push(...this.renderAnchorElements(e)),s.push(this.renderStepperStep(t+1,e),this.renderStepperContent(t+1,e)),t+1===this.stepperCurrentStep&&this.layoutCanvasStore.getters.isSectionInlineManagementActivated(this.section)&&s.push(this.renderAddStepButton(t)),s})):[(0,r.h)("v-stepper-header",[[this.items.map(((e,t)=>{const s=[];return this.hasValidAnchorLinkSettings()&&this.anchorLink.enabled&&s.push(...this.renderAnchorElements(e)),s.push(this.renderStepperStep(t+1,e)),t+1===this.stepperCurrentStep&&this.layoutCanvasStore.getters.isSectionInlineManagementActivated(this.section)&&(s.push((0,r.h)("v-divider")),s.push(this.renderAddStepButton(t))),t<this.items.length-1&&s.push((0,r.h)("v-divider")),s}))]]),(0,r.h)("div",{class:"Stepper_Content_Items"},[(0,r.h)("div",{class:b.SharedRendererStyles.tabs.stepper.horizontalContentItems(!0)},[this.items.map(((e,t)=>this.renderStepperContent(t+1,e)))])])],this.isShowOverlay&&(0,r.h)("v-overlay",{attrs:{opacity:.5,"z-index":l.SharedRendererFunctions.layerIndex.itemselector+1}})])}};Z([(0,n.Prop)()],ee.prototype,"section",2),Z([(0,n.Prop)()],ee.prototype,"renderSectionItem",2),Z([(0,p.Inject)(h.MultilingualStore)],ee.prototype,"multilingualStore",2),Z([(0,p.Inject)(l.DynamicStateStore)],ee.prototype,"selectedStepStateStore",2),Z([(0,$.Localize)(q.OmniaUxLocalizationNamespace)],ee.prototype,"omniaUxLoc",2),Z([(0,p.Inject)(b.LayoutCanvasStore)],ee.prototype,"layoutCanvasStore",2),Z([(0,p.Inject)(p.SubscriptionHandler)],ee.prototype,"subscriptionHandler",2),Z([(0,p.Inject)(p.OmniaContext)],ee.prototype,"omniaContext",2),Z([(0,p.Inject)(u.AnchorLink)],ee.prototype,"anchorLink",2),ee=Z([o.default],ee)},"190d5f74-e987-4aba-9f5f-d1bf1ae4e636":(e,t,s)=>{"use strict";s.r(t),s.d(t,{ColorSettings:()=>u});var i=s("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),o=s("./node_modules/vue-class-component/dist/vue-class-component.esm.js"),n=s("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=s("./client/fx/ux/layoutcanvas/index.js"),a=s("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),l=s("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"),d=s("./client/fx/ux/layoutcanvas/editor/settings/colorsettings.css.js"),c=s("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"),h=Object.defineProperty,p=Object.getOwnPropertyDescriptor,b=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?p(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&h(t,s,n),n};let u=class extends l.VueComponentBase{setMode(){this.isLinearGradient(this.valueBind)?this.colorMode="linear":this.isRadialGradient(this.valueBind)?this.colorMode="radial":this.colorMode="color"}isLinearGradient(e){return null!==e.degrees&&void 0!==e.degrees}isRadialGradient(e){return null!==e.shape&&void 0!==e.shape}hasOneColorOnly(e){return!(this.valueBind.colors&&this.valueBind.colors.length>1)}hasColor(){return!!this.valueBind.colors&&this.valueBind.colors.length>0}onColorChanged(e,t){n.Vue.set(this.valueBind.colors,e,t),this.emitChange()}addColor(){this.hasOneColorOnly(this.valueBind)&&(this.valueBind.degrees=45),this.valueBind.colors.push(this.randomHex()),this.emitChange()}removeColor(e){this.valueBind.colors.splice(e,1),1===this.valueBind.colors.length&&(this.deleteLinearGradientProps(),this.deleteRadialGradientProps())}deleteLinearGradientProps(){this.isLinearGradient(this.valueBind)&&n.Vue.delete(this.valueBind,"degrees")}deleteRadialGradientProps(){this.isRadialGradient(this.valueBind)&&(n.Vue.delete(this.valueBind,"position"),n.Vue.delete(this.valueBind,"shape"))}changeGradientMode(e){"linear"===e?(n.Vue.set(this.valueBind,"degrees",45),this.deleteRadialGradientProps(),this.colorMode="linear"):(n.Vue.set(this.valueBind,"position",50),n.Vue.set(this.valueBind,"shape",0),this.deleteLinearGradientProps(),this.colorMode="radial"),this.emitChange()}emitChange(){this.$emit("change",this.valueBind)}randomHex(){return"#"+Math.random().toString(16).slice(2,8)}randomColors(){for(let e=0;e<this.valueBind.colors.length;e++)n.Vue.set(this.valueBind.colors,e,this.randomHex())}renderColorPicker(e,t){return(0,i.h)("v-layout",{attrs:{"align-center":!0,"mb-3":!0}},[(0,i.h)("div",{class:d.ColorSettingsStyles.settingsHeader.colorContainer},[(0,i.h)("omfx-color-picker",{attrs:{dark:this.theming.body.bg.dark,label:this.omniaUxLoc.LayoutEngine.Panels.ColumnSettings.BackgroundColor},domProps:{valueBind:{color:t},onValueChanged:t=>{this.onColorChanged(e,t.color)}}})]),this.valueBind.colors.length>1?(0,i.h)("div",{class:d.ColorSettingsStyles.settingsHeader.buttonContainer},[(0,i.h)("omfx-button",{domProps:{onClick:()=>{this.removeColor(e)},icon:{iconType:new a.FontAwesomeIcon("delete")},preset:l.ButtonPresets.base.smallIcon},attrs:{dark:this.theming.body.bg.dark}})]):null])}renderGradientSettings(){return this.hasOneColorOnly(this.valueBind)?null:(0,i.h)("div",[(0,i.h)("v-radio-group",{attrs:{dark:this.theming.body.bg.dark,value:this.colorMode},on:{change:e=>{this.changeGradientMode(e)}}},[(0,i.h)("v-radio",{attrs:{dark:this.theming.body.bg.dark,color:this.theming.body.components.color.base,label:this.omniaUxLoc.LayoutEngine.Panels.Common.LinearGradient,value:"linear"}}),(0,i.h)("v-radio",{attrs:{dark:this.theming.body.bg.dark,color:this.theming.body.components.color.base,label:this.omniaUxLoc.LayoutEngine.Panels.Common.RadialGradient,value:"radial"}})]),"linear"===this.colorMode?(0,i.h)("div",{class:"mt-5"},[(0,i.h)("v-slider",{attrs:{step:"5",min:"0",max:"180",dark:this.theming.body.bg.dark,ticks:!0,"thumb-label":"always",color:this.theming.body.components.slider.color,"track-color":this.theming.body.components.slider.trackColor,"inverse-label":!0,label:"degrees"},on:{change:e=>{this.emitChange()}},model:{value:this.valueBind.degrees,callback:e=>{this.$set(this.valueBind,"degrees",e)}}})]):null,"radial"===this.colorMode?(0,i.h)("div",{class:"mt-5"},[(0,i.h)("v-slider",{attrs:{step:"5",min:"0",max:"200",dark:this.theming.body.bg.dark,ticks:!0,"thumb-label":"always",color:this.theming.body.components.slider.color,"track-color":this.theming.body.components.slider.trackColor,"inverse-label":!0,label:"degrees"},on:{change:e=>{this.emitChange()}},model:{value:this.valueBind.position,callback:e=>{this.$set(this.valueBind,"position",e)}}})]):null])}render(){this.setMode();let e=0;return(0,i.h)("v-row",{attrs:{"no-gutter":!0},class:"pb-0"},[(0,i.h)("v-col",{directives:[{name:"show",value:!this.hasColor()}],class:"pt-6 pb-0"},[this.omniaUxLoc.LayoutEngine.Panels.ColumnSettings.BackgroundColor]),(0,i.h)("v-col",{attrs:{cols:"12"},class:"pb-0"},[this.valueBind.colors.map((t=>(e+=1,this.renderColorPicker(e-1,t)))),(0,i.h)("v-row",{attrs:{"no-gutter":!0},class:"mr-4 my-0 pb-0"},[(0,i.h)("v-col",{attrs:{cols:"6"},class:"pb-0"},[(0,i.h)("omfx-button",{domProps:{mode:a.ButtonModes.flat,onClick:this.randomColors,icon:{iconType:new a.FontAwesomeIcon("shuffle")}},attrs:{dark:this.theming.body.bg.dark,text:this.omniaUxLoc.LayoutEngine.Buttons.Random}})]),(0,i.h)("v-col",{attrs:{cols:"6"},class:"pb-0"},[(0,i.h)("omfx-button",{domProps:{mode:a.ButtonModes.flat,onClick:this.addColor,icon:{iconType:new a.FontAwesomeIcon("add")}},attrs:{dark:this.theming.body.bg.dark,text:this.omniaUxLoc.LayoutEngine.Buttons.AddColor}})])])]),this.renderGradientSettings()])}};b([(0,n.Prop)({default:{colors:[],linearGradient:{degrees:45}}})],u.prototype,"valueBind",2),b([(0,n.Prop)()],u.prototype,"onValueChanged",2),b([(0,n.Prop)()],u.prototype,"forceDark",2),b([(0,c.Localize)(l.OmniaUxLocalizationNamespace)],u.prototype,"omniaUxLoc",2),b([(0,c.Inject)(r.LayoutCanvasStore)],u.prototype,"editorStore",2),u=b([o.default],u)},"./client/fx/ux/layoutcanvas/editor/settings/section/items/sectionitemlisting.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{SectionItemListingComponent:()=>f});var i=s("./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js"),o=s.n(i),n=s("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),r=s("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"),a=s("./node_modules/vue-class-component/dist/vue-class-component.esm.js"),l=s("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),d=s("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"),c=s("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),h=s("./node_modules/csx/lib.es2015/index.js"),p=s("./node_modules/typestyle/umd/typestyle.js");const b={container:(0,p.style)({marginLeft:"-25px"}),ButtonBar:{container:(0,p.style)({marginTop:"15px"}),button:(0,p.style)({float:"right",marginRight:"-15px"})}},u={container:(0,p.style)({marginLeft:"-25px"}),settingsHeader:{container:(0,p.style)({width:"315px",position:"relative"}),dragButtonContainer:(0,p.style)({width:"44px",flex:(0,h.important)("0 0 44px")}),buttonContainer:(0,p.style)({flex:"0 0 auto"})},settingsPanel:e=>(0,p.style)({backgroundColor:"rgba(0,0,0,0.05)",color:"#fff",overflow:"hidden",paddingRight:"24px",paddingLeft:"24px",marginRight:"-24px",marginLeft:"-24px"})};var g=s("./client/fx/ux/layoutcanvas/editor/settings/sectionsettingspanel.css.js"),m=Object.defineProperty,y=Object.getOwnPropertyDescriptor,S=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?y(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&m(t,s,n),n};let f=class extends d.VueComponentBase{created(){}mounted(){}hasColors(e){return!!e.settings.background.colors&&(0!==e.settings.background.colors.length&&""!==e.settings.background.colors[0])}showBackGroundSettings(e){return!!e.settings.background&&(e.settings.chrome===c.ChromeTypes.boxed||(e.settings.background.elevation>0||(e.settings.background.borderRadiusTop>0||(e.settings.background.borderRadiusBottom>0||(!!this.hasColors(e)||!!e.settings.background.acrylic)))))}renderItems(){return this.section?(0,n.h)("draggable",{attrs:{options:{handle:".drag-handle",animation:"100"},element:"div"},model:{value:this.section.items,callback:e=>{this.$set(this.section,"items",e)}}},[this.section.items.map(((e,t)=>(0,n.h)("div",{class:[u.settingsHeader.container]},[(0,n.h)("v-expansion-panels",{attrs:{accordion:!0}},[(0,n.h)("v-expansion-panel",[(0,n.h)("v-expansion-panel-header",o()([{},this.transformVSlot({actions:t=>[(0,n.h)("div",{class:u.settingsHeader.buttonContainer},[(this.showBackGroundSettings(e)||this.itemRenderer.detailRenderer)&&(0,n.h)("omfx-button",{attrs:{dark:this.theming.body.bg.dark},domProps:{icon:{iconType:new c.FontAwesomeIcon("edit")},preset:d.ButtonPresets.base.smallIcon}}),(0,n.h)("omfx-button",{domProps:{onClick:t=>{this.deleteSectionItem(t,e).then((()=>{0==this.section.items.length&&this.addSectionItem(t)}))},icon:{iconType:new c.FontAwesomeIcon("delete")},preset:d.ButtonPresets.base.smallIcon},attrs:{dark:this.theming.body.bg.dark}})])]}),{attrs:{"disable-icon-rotate":!0}}]),[this.section.items.length>1?(0,n.h)("div",{class:u.settingsHeader.dragButtonContainer},[(0,n.h)("v-btn",{attrs:{icon:!0},class:"mr-2",on:{click:()=>{}}},[(0,n.h)("v-icon",{class:"drag-handle",attrs:{size:"18"}},["fal fa-grip-lines"])])]):null,this.itemRenderer.headerRenderer(e,t)]),(0,n.h)("v-expansion-panel-content",[(this.showBackGroundSettings(e)||this.itemRenderer.detailRenderer)&&(0,n.h)("div",{class:u.settingsPanel(this.theming)},[this.itemRenderer.detailRenderer?this.itemRenderer.detailRenderer(e,t):null,this.showBackGroundSettings(e)&&[this.itemRenderer.backgroundSettingsRenderer?this.itemRenderer.backgroundSettingsRenderer(e,t):null,(0,n.h)("omfx-layout-background-settings",{key:e.id,attrs:{allowImages:!1,hideChromeStyling:!0,settings:e.settings.background,forceDark:this.theming.body.bg.dark}}),(0,n.h)("v-divider"),(0,n.h)("div",{class:["my-3",this.theming.body.text.css]},[this.omniaUxLoc.LayoutEngine.Panels.ColumnSettings.CSS]),(0,n.h)("v-text-field",{attrs:{filled:!0,dark:this.theming.body.bg.dark,label:this.omniaUxLoc.LayoutEngine.Panels.ColumnSettings.CSSClasses},model:{value:e.settings.customCssClasses,callback:t=>{this.$set(e.settings,"customCssClasses",t)}}})]])])])])])))]):(0,n.h)("div")}render(){return(0,n.h)("div",[(0,n.h)("div",{class:"mt-3 mb-3"},[this.label]),(0,n.h)("div",{class:b.container},[this.renderItems(),(0,n.h)("div",{class:[b.ButtonBar.container,"pb-1"]},[(0,n.h)("v-btn",{on:{click:e=>{this.addSectionItem(e)}},attrs:{text:!0},class:b.ButtonBar.button},[(0,n.h)("v-icon",{class:g.SectionSettingsPanelStyles.textColor},["add"]),(0,n.h)("span",{class:g.SectionSettingsPanelStyles.textColor},[this.addLabel])])])])])}};S([(0,l.Prop)()],f.prototype,"section",2),S([(0,l.Prop)()],f.prototype,"label",2),S([(0,l.Prop)()],f.prototype,"addLabel",2),S([(0,l.Prop)()],f.prototype,"itemRenderer",2),S([(0,l.Prop)()],f.prototype,"addSectionItem",2),S([(0,l.Prop)()],f.prototype,"deleteSectionItem",2),S([(0,r.Inject)(d.LayoutCanvasStore)],f.prototype,"layoutCanvasStore",2),S([(0,r.Localize)(d.OmniaUxLocalizationNamespace)],f.prototype,"omniaUxLoc",2),f=S([a.default],f)},"./client/fx/ux/anchorlink.js":(e,t,s)=>{e.exports=s("dll-reference md66")("./client/fx/ux/anchorlink.js")},"./client/fx/ux/confirmdialog/index.js":(e,t,s)=>{e.exports=s("dll-reference md66")("./client/fx/ux/confirmdialog/index.js")},"./client/fx/ux/layoutcanvas/index.js":(e,t,s)=>{e.exports=s("dll-reference md66")("./client/fx/ux/layoutcanvas/index.js")},"./client/fx/ux/uxmodels.js":(e,t,s)=>{e.exports=s("dll-reference md66")("./client/fx/ux/uxmodels.js")},"./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js")},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/csx/lib.es2015/index.js":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/csx/lib.es2015/index.js")},"./node_modules/typestyle/umd/typestyle.js":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/typestyle/umd/typestyle.js")},"./node_modules/vue-class-component/dist/vue-class-component.esm.js":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/vue-class-component/dist/vue-class-component.esm.js")},"./node_modules/vue-property-decorator/lib/vue-property-decorator.js":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/vue-property-decorator/lib/vue-property-decorator.js")},"./node_modules/vue/dist/vue.esm.js":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/vue/dist/vue.esm.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,t,s)=>{e.exports=s("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"5326a8ef-4e3c-49d6-b415-1ddf7fdcc830":(e,t,s)=>{e.exports=s("dll-reference md8")("5326a8ef-4e3c-49d6-b415-1ddf7fdcc830")},"5e618f4d-d014-414e-a681-89e34cbeda0f":(e,t,s)=>{e.exports=s("dll-reference md10")("5e618f4d-d014-414e-a681-89e34cbeda0f")},"8610c059-395a-45c2-804a-8c236f4d60d9":(e,t,s)=>{e.exports=s("dll-reference md66")("8610c059-395a-45c2-804a-8c236f4d60d9")},"c041fe9f-1e14-443d-9407-5aa8829fbc21":(e,t,s)=>{e.exports=s("dll-reference md10")("c041fe9f-1e14-443d-9407-5aa8829fbc21")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(e,t,s)=>{e.exports=s("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,t,s)=>{e.exports=s("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac":(e,t,s)=>{e.exports=s("dll-reference md10")("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md8":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a1602121-3070-4304-b4d8-0859e50c482b"]},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"])throw new Error("Error, already loaded manifest 5b6f12d8-ea25-446a-bcd2-9ceb75d320e1 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"]=s;var t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s("./client/fx/ux/layoutcanvas/editor/settings/colorsettings.css.js"),s("190d5f74-e987-4aba-9f5f-d1bf1ae4e636"),s("./client/fx/ux/layoutcanvas/editor/settings/sectionsettingspanel.css.js"),s("./client/fx/ux/layoutcanvas/editor/icons/icons.css.js"),s("./client/fx/ux/layoutcanvas/editor/settings/section/items/sectionitemlisting.tsx");s("./client/fx/ux/layoutcanvas/shared/internal.js")})()}})),omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]("06e712d2-9897-4891-9353-148547efe61c").ManifestResourceLoader.registerWebComponentFromGroupBundle("bb000000-0000-bbbb-0000-0000000000bb","f346db89-a53b-4046-90b1-795429fb0162","8c123548-9f79-4e56-8ce2-ec313778a7ba",(function(){if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["f346db89-a53b-4046-90b1-795429fb0162"])throw new Error("Error, already loaded manifest f346db89-a53b-4046-90b1-795429fb0162 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["f346db89-a53b-4046-90b1-795429fb0162"]=function(){(()=>{var e={"./client/fx/ux/layoutcanvas/renderer/layoutrenderercanvas.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var i=s("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),o=s("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),n=s("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=s("./client/fx/ux/layoutcanvas/index.js"),a=s("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","f346db89-a53b-4046-90b1-795429fb0162"),l=s("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","f346db89-a53b-4046-90b1-795429fb0162"),d=s("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac"),c=s("5e618f4d-d014-414e-a681-89e34cbeda0f"),h=s("./client/fx/ux/anchorlink.js"),p=s("./client/fx/ux/layoutcanvas/shared/internal.js");a.StyleFlow.define(o.LayoutRendererCanvasStyles,{container:{minHeight:"100%"}});var b=Object.defineProperty,u=Object.getOwnPropertyDescriptor,g=(e,t,s,i)=>{for(var o,n=i>1?void 0:i?u(t,s):t,r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i?o(t,s,n):o(n))||n);return i&&n&&b(t,s,n),n};let m=class extends a.VueComponentBase{beforeCreate(){this.layoutStore.canvasMode.state!==o.LayoutCanvasModes.renderer&&this.layoutStore.canvasMode.mutate(o.LayoutCanvasModes.renderer)}created(){this.layoutStore.provider.mutate(this.provider),this.layoutStore.isDesignRender.mutate(this.designRender),this.styles?this.LayoutRendererCanvasClasses=a.StyleFlow.use(o.LayoutRendererCanvasStyles,this.styles):this.LayoutRendererCanvasClasses=a.StyleFlow.use(o.LayoutRendererCanvasStyles),this.subscriptionHandler.add(this.layoutStore.layout.onMutated((()=>{this.layoutStore.layout.state&&!this.layoutItemStore.areItemsLoaded()&&this.layoutItemStore.actions.loadLayoutItems.dispatch()}))),this.getApi&&this.getApi(this),this.designRender&&(this.anchorLink.disable(),this.anchorLink.clear())}mounted(){l.WebComponentBootstrapper.registerElementInstance(this,this.$el)}destroyed(){}ensureBlockTitleSettingsForLayout(){const e=this.layoutStore.layout.state.definition;p.LayoutRenditionManager.setBlockTitleSettingsForLayout(e,this.blockTitleSettingsStore)}get backgroundImage(){let e="";if(this.layoutStore.layout.state.definition){const t=this.layoutStore.layout.state.definition.settings?.background?.image;t&&t.mediaPickerImage?.omniaImageId&&(e=this.mediaPickerService.getImageUrl(t.mediaPickerImage))}return e}renderLayout(e){const t=this.layoutStore.layout.state.definition;this.themingRenditionManager.garbagecollectNonLayoutThemes(this.themeStore,t.id),this.themingRenditionManager.registerLayoutTheme(this.themeStore,t.settings,t.id,this.layoutStore.layoutThemeDefinition.state,this.layoutStore.blockThemeDefinition.state),this.ensureBlockTitleSettingsForLayout();const s=this.themingRenditionManager.getThemeTargetIdLayout(t.settings,this.layoutStore.layoutThemeDefinition.state),n=this.layoutStore.layoutThemeDefinition.state?.id||o.Constants.ux.themeTargetIds.layout;return l.Console.logDebug("render LayoutRendererCanvas.tsx"+e.id),r.SharedRendererStyles.common.setPageBackground(t.settings,this.backgroundImage,this.layoutStore.getters.getLayoutBackgroundImageElementId(),this.themingRenditionManager.getBackgroundThemeStylingForLayout(this.layoutStore.themeStore.getters.getThemingByTargetIdWithFallback(n),t.settings,t.inheritedSettings)),e.items.map((t=>(0,i.h)(p.LayoutSectionRenderer,{class:this.directionRuleStore.getters.getDirectionRule()===o.DirectionRules.rtl?"v-application--is-rtl":"v-application--is-ltr",attrs:{themeTargetId:s,section:t,parentContainer:e,layoutId:e.id,useScrollMargingFix:!this.disableScrollCompensation}})))}render(){return this.layoutStore.layout.state?(0,i.h)("div",{class:this.LayoutRendererCanvasClasses.container},[this.renderLayout(this.layoutStore.layout.state.definition)]):null}};g([(0,n.Prop)({default:!1})],m.prototype,"designRender",2),g([(0,n.Prop)()],m.prototype,"styles",2),g([(0,n.Prop)()],m.prototype,"getApi",2),g([(0,n.Prop)()],m.prototype,"provider",2),g([(0,n.Prop)()],m.prototype,"disableScrollCompensation",2),g([(0,l.Provide)(r.LayoutCanvasStore)],m.prototype,"layoutStore",2),g([(0,l.Provide)(a.LayoutMediaContext)],m.prototype,"mediaContext",2),g([(0,l.Provide)(c.BlockTitleSettingsStore)],m.prototype,"blockTitleSettingsStore",2),g([(0,l.Provide)(h.AnchorLink)],m.prototype,"anchorLink",2),g([(0,l.Inject)(r.BlockCatalogStore)],m.prototype,"layoutItemStore",2),g([(0,l.Inject)(l.SubscriptionHandler)],m.prototype,"subscriptionHandler",2),g([(0,l.Inject)(d.MediaPickerService)],m.prototype,"mediaPickerService",2),g([(0,l.Inject)(a.ThemeStore)],m.prototype,"themeStore",2),g([(0,l.Inject)(r.ThemingRenditionManager)],m.prototype,"themingRenditionManager",2),g([(0,l.Inject)(c.DirectionRuleStore)],m.prototype,"directionRuleStore",2),m=g([n.Component],m),l.WebComponentBootstrapper.registerElement((e=>{(0,l.vueCustomElement)(e.elementName,m)}))},"./client/fx/ux/anchorlink.js":(e,t,s)=>{e.exports=s("dll-reference md66")("./client/fx/ux/anchorlink.js")},"./client/fx/ux/layoutcanvas/index.js":(e,t,s)=>{e.exports=s("dll-reference md66")("./client/fx/ux/layoutcanvas/index.js")},"./client/fx/ux/layoutcanvas/shared/internal.js":(e,t,s)=>{e.exports=s("dll-reference md39")("./client/fx/ux/layoutcanvas/shared/internal.js")},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/vue-property-decorator/lib/vue-property-decorator.js":(e,t,s)=>{e.exports=s("dll-reference md2")("./node_modules/vue-property-decorator/lib/vue-property-decorator.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,t,s)=>{e.exports=s("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"5e618f4d-d014-414e-a681-89e34cbeda0f":(e,t,s)=>{e.exports=s("dll-reference md10")("5e618f4d-d014-414e-a681-89e34cbeda0f")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(e,t,s)=>{e.exports=s("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,t,s)=>{e.exports=s("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac":(e,t,s)=>{e.exports=s("dll-reference md10")("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md39":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"]},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["f346db89-a53b-4046-90b1-795429fb0162"])throw new Error("Error, already loaded manifest f346db89-a53b-4046-90b1-795429fb0162 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["f346db89-a53b-4046-90b1-795429fb0162"]=s;var t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,s),n.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};s("./client/fx/ux/layoutcanvas/renderer/layoutrenderercanvas.tsx")})()}}))};