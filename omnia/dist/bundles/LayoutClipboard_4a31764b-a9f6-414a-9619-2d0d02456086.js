if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["4a31764b-a9f6-414a-9619-2d0d02456086"])throw new Error("Error, already loaded manifest 4a31764b-a9f6-414a-9619-2d0d02456086 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["4a31764b-a9f6-414a-9619-2d0d02456086"]=function(){(()=>{var t={"./client/fx/ux/layoutcanvas/editor/settings/layoutclipboard.tsx":(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>u});var i=o("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),a=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),s=o("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","4a31764b-a9f6-414a-9619-2d0d02456086"),r=o("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","4a31764b-a9f6-414a-9619-2d0d02456086"),n=o("./client/fx/ux/layoutcanvas/editor/settings/sectionsettingspanel.css.js"),d=o("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),l=o("5e618f4d-d014-414e-a681-89e34cbeda0f"),c=o("./node_modules/csx/lib.es2015/index.js"),b=o("./node_modules/typestyle/umd/typestyle.js");const p={contentWrapper:(0,b.style)({margin:"6px",marginTop:"0px"}),header:t=>(0,b.style)({$nest:{"& .v-toolbar__content":{borderBottom:t?"1px solid rgba(255,255,255,0.10)":"1px solid rgba(0,0,0,0.10)"}}}),selectionText:(0,b.style)({display:"inline-block",position:"relative",top:"2px"}),card:(t,e)=>{let o=t?"rgba(255,255,255,0.30)!important":"rgba(0,0,0,0.20)!important";return e&&(o=e+"!important"),(0,b.style)({$nest:{"&:hover":{backgroundColor:o}}})},toolbarWrapper:t=>(0,b.style)({borderBottom:t?"1px solid rgba(255,255,255,0.10)":"1px solid rgba(0,0,0,0.10)",height:"50px",padding:"8px 25px 0px 15px"}),wrapper:(0,b.style)({marginTop:"14px",marginLeft:"45px",display:"flex",flexWrap:"wrap",overflowY:"auto",maxHeight:"calc(100vh - 220px)",paddingBottom:"12px",$nest:{"& textarea":{fontSize:"12px",lineHeight:"1.2!important"}}}),editor:(0,b.style)({height:"calc(100vh  - 180px)"}),backgroundIcon:(0,b.style)({position:"absolute",top:"15px",left:"40px"}),exportButtonWrapper:(0,b.style)({position:"relative",top:"-5px",right:"-10px"}),dialogContainer:(0,b.style)({height:"100%",maxHeight:(0,c.important)("100%"),width:(0,c.important)("100%"),margin:(0,c.important)("0px"),overflow:(0,c.important)("hidden"),$nest:{".omfx-dialog-content":{height:"100%"}}}),text:(0,b.style)({marginTop:"-10px",width:"100%",color:"#fff",wordBreak:"break-word",wordWrap:"break-word"}),textBox:(0,b.style)({marginTop:"-5px",marginBottom:"-35px",width:"100%"})};var m=Object.defineProperty,h=Object.getOwnPropertyDescriptor,g=(t,e,o,i)=>{for(var a,s=i>1?void 0:i?h(e,o):e,r=t.length-1;r>=0;r--)(a=t[r])&&(s=(i?a(e,o,s):a(s))||s);return i&&s&&m(e,o,s),s};let u=class extends r.VueComponentBase{constructor(){super(...arguments),this.importDataModel=" ",this.dialogModel={visible:!1},this.selectedItems=[],this.itemForInsert=!1,this.editingClipboard=!1,this.snackbarText="",this.showSnackBar=!1}created(){this.clipboardStore.mutations.ensureClipboard.commit(d.Constants.clipboards.layoutItems)}ensureIdsForItems(){}mounted(){s.WebComponentBootstrapper.registerElementInstance(this,this.$el)}onDialogClose(){this.dialogModel.visible=!1}clearSelectionsInstore(){this.itemForInsert=!1,this.layoutStore.activeLayoutItemAction.state&&(this.layoutStore.activeLayoutItemAction.state.action===d.LayoutItemActions.clipboardInsert&&this.layoutStore.mutations.toggleActionForLayoutItem.commit(null,{action:d.LayoutItemActions.clipboardInsert}),this.layoutStore.activeLayoutItemAction.state.action===d.LayoutItemActions.copy&&this.layoutStore.mutations.toggleActionForLayoutItem.commit(null,{action:d.LayoutItemActions.copy}))}setSelectionScope(){this.itemForInsert&&(this.selectedItems.length>1||!this.layoutStore.activeLayoutItemAction.state&&this.itemForInsert&&(this.itemForInsert=!1,this.selectedItems=[]))}setSelectionFromLayout(){this.selectedItems.length>0&&(this.selectedItems=[])}onItemSelected(t,e){this.editingClipboard||(e||this.onToggleItemSelection(null,t),1===this.selectedItems.length?(this.layoutStore.mutations.toggleActionForLayoutItem.commit(this.selectedItems[0],{action:d.LayoutItemActions.clipboardInsert}),this.itemForInsert=!0):this.clearSelectionsInstore())}onToggleItemSelection(t,e){t&&t.stopPropagation();const o=this.selectedItems.findIndex((t=>!(!t.id||t.id.toString()!==e.id.toString())));o>-1?this.selectedItems.splice(o,1):this.selectedItems.push(e)}onImportClipboard(){try{const t=JSON.parse(this.importDataModel);t.clipboardItems.forEach((t=>{t.id=d.Guid.newGuid()})),this.clipboardStore.mutations.appendClipboard.commit(d.Constants.clipboards.layoutItems,t),this.dialogModel.visible=!1,this.importDataModel=" "}catch{}}onEditClipboard(t){this.editingClipboard&&t?this.clipboardStore.mutations.reloadClipboard.commit(d.Constants.clipboards.layoutItems):this.editingClipboard&&this.clipboardStore.mutations.saveClipboard.commit(),this.editingClipboard=!this.editingClipboard}onClearSelection(){this.selectedItems=[],this.itemForInsert=!1,this.clearSelectionsInstore()}onClearClipboard(){const t=this.clipboardStore.getters.getClipboard(d.Constants.clipboards.layoutItems);this.snackbarText=this.omniaUxLoc.LayoutEngine.ClipBoard.ClipBoardCleared,this.onCopyToClipBoard(JSON.stringify(t),!0),this.clipboardStore.mutations.clearClipboard.commit(d.Constants.clipboards.layoutItems),this.selectedItems=[],this.clearSelectionsInstore()}onDeleteClipboard(){const t=this.clipboardStore.getters.getClipboard(d.Constants.clipboards.layoutItems);this.selectedItems.forEach((e=>{const o=t.clipboardItems.findIndex((t=>t===e));o>-1&&t.clipboardItems.splice(o,1)})),this.clipboardStore.mutations.updateClipboard.commit(d.Constants.clipboards.layoutItems,t),this.selectedItems=[],this.clearSelectionsInstore()}onExportClipboard(){const t={clipboardItems:[]};this.selectedItems.forEach((e=>{t.clipboardItems.push(e)})),this.snackbarText=this.omniaUxLoc.LayoutEngine.ClipBoard.ClipBoardExported,this.onCopyToClipBoard(JSON.stringify(t),!0)}onCopyToClipBoard(t,e){if(navigator.clipboard){const e=this;navigator.clipboard.writeText(t).then((function(){e.showSnackBar=!0}))}else{const o=document.createElement("textarea");o.style.position="fixed",o.style.top=0,o.style.left=0,o.style.width="2em",o.style.height="2em",o.style.padding=0,o.style.border="none",o.style.outline="none",o.style.boxShadow="none",o.style.background="transparent",o.value=t,document.body.appendChild(o),o.focus(),o.select(),o.setSelectionRange(0,99999);const i=document.execCommand("copy");document.body.removeChild(o),i&&(this.showSnackBar=e)}}renderClipBoardItem(t,e){const o=this.selectedItems.findIndex((e=>e.id.toString()===t.id.toString()))>-1;let a,s=this.theming.body.bg.dark?"rgba(255,255,255,0.20)":"rgba(0,0,0,0.10)",r=this.theming.body.bg.dark,n=this.theming.body.text.css;return(o||e)&&(s=this.theming.body.fg.color.base,a=this.theming.body.fg.color.darken4,r=this.theming.body.fg.dark,n=this.theming.body.fg.text.css),(0,i.h)("v-card",{class:["mr-2 mb-2",p.card(r,a)],attrs:{width:"120",elevation:"1",color:s},on:{click:o=>this.onItemSelected(t,e)}},[(0,i.h)("v-app-bar",{directives:[{name:"show",value:!this.editingClipboard}],attrs:{dark:r,color:"rgba(0,0,0,0)",dense:!0,flat:!0}},[(0,i.h)("v-spacer")]),(0,i.h)("v-card-text",[(0,i.h)("div",{class:p.backgroundIcon},[(0,i.h)("v-icon",{attrs:{color:r?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)",size:"60"}},["fal fa-clipboard"])]),(0,i.h)("div",{directives:[{name:"show",value:!this.editingClipboard}],class:[n,p.text]},[t.title]),(0,i.h)("div",{directives:[{name:"show",value:this.editingClipboard}],class:[n,p.textBox]},[(0,i.h)("v-textarea",{attrs:{filled:!0,rows:"2",value:t.title,dark:r},on:{change:e=>{t.title=e}}})])])])}renderImportDialog(){const t=this.themeStore.getters.getThemingByTargetIdWithFallback(d.Constants.ux.themeTargetIds.editor);return(0,i.h)("omfx-dialog",{attrs:{contentClass:p.dialogContainer,dark:this.theming.body.bg.dark,valueBind:this.dialogModel,maxWidth:"600",title:this.omniaUxLoc.LayoutEngine.ClipBoard.ImportClipboard,themeTargetId:d.Constants.ux.themeTargetIds.editor,position:r.DialogPositions.Center},on:{close:this.onDialogClose}},[(0,i.h)("v-card",{attrs:{dark:t.body.bg.dark,color:t.body.bg.color.base,tile:!0,flat:!0}},[(0,i.h)("v-card-text",[(0,i.h)("monaco-editor",{class:p.editor,attrs:{theme:"vs-dark",language:"json"},on:{change:t=>{this.importDataModel=t}},model:{value:this.importDataModel,callback:t=>{this.importDataModel=t}}})]),(0,i.h)("v-card-footer",[(0,i.h)("v-row",{attrs:{align:"end"},class:"mr-4"},[(0,i.h)("v-spacer"),(0,i.h)("omfx-button",{attrs:{text:"Import",dark:t.body.bg.dark},domProps:{mode:d.ButtonModes.flat,onClick:this.onImportClipboard}}),(0,i.h)("omfx-button",{attrs:{dark:t.body.bg.dark,text:this.omniaUxLoc.Common.Buttons.Close},domProps:{mode:d.ButtonModes.flat,onClick:this.onDialogClose}})])])])])}render(){const t=this.clipboardStore.getters.getClipboard(d.Constants.clipboards.layoutItems),e=[];return this.setSelectionScope(),t.clipboardItems.forEach(((t,o)=>{let i=!1;0===o&&this.layoutStore.activeLayoutItemAction.state&&this.layoutStore.activeLayoutItemAction.state.action===d.LayoutItemActions.copy&&(i=!0,this.setSelectionFromLayout()),e.push(this.renderClipBoardItem(t,i))})),(0,i.h)("div",{style:"width:100%"},[(0,i.h)("v-toolbar",{attrs:{color:this.theming.body.bg.color.base,flat:!0,dark:this.theming.body.bg.dark,extended:!0,tabs:!0},class:[n.SectionSettingsPanelStyles.headerStylingWithoutTabs,p.header(this.theming.body.bg.dark)]},[(0,i.h)("div",{class:n.SectionSettingsPanelStyles.icon.wrapper(this.theming.body.fg.color.darken1)},[(0,i.h)("v-icon",{attrs:{dark:this.theming.body.fg.color.dark},class:n.SectionSettingsPanelStyles.icon.iconStyling},["fal fa-paste"])]),(0,i.h)("v-toolbar-title",{class:this.theming.body.text.css},[this.omniaUxLoc.LayoutEngine.ClipBoard.Title]),(0,i.h)("v-spacer")]),(0,i.h)("div",{class:p.contentWrapper},[(0,i.h)("v-snackbar",{attrs:{top:!0,dark:this.theming.body.bg.color.dark,right:!0,"multi-line":!0,timeout:1500,color:this.theming.body.bg.color.base},model:{value:this.showSnackBar,callback:t=>{this.showSnackBar=t}}},[(0,i.h)("div",{class:this.theming.body.text.css},[this.snackbarText])]),(0,i.h)("v-row",{attrs:{"align-items":"end"},class:p.toolbarWrapper(this.theming.body.bg.dark)},[(0,i.h)("div",{directives:[{name:"show",value:this.selectedItems.length>0&&!this.editingClipboard}],style:"padding-top:4px"},[(0,i.h)("v-btn",{on:{click:this.onClearSelection},attrs:{icon:!0,"x-small":!0,elevation:"0",color:this.theming.body.bg.dark?"rgba(255,255,255,0.80)":"rgba(0,0,0,0.80)"}},[(0,i.h)("v-icon",{attrs:{color:this.theming.body.bg.dark?"rgba(255,255,255,0.80)":"rgba(0,0,0,0.80)"}},["fal fa-times"])]),(0,i.h)("span",{class:["body-1",this.theming.body.text.css,p.selectionText]},[this.selectedItems.length+" "+this.omniaUxLoc.LayoutEngine.ClipBoard.Selected])]),(0,i.h)("div",{style:"margin-top:4px;margin-left:-3px"},[(0,i.h)("omfx-button",{domProps:{tooltip:{text:this.omniaUxLoc.LayoutEngine.ClipBoard.ClearClipboard},onClick:this.onClearClipboard,mode:d.ButtonModes.flat,size:d.ButtonSizes.small},directives:[{name:"show",value:0===this.selectedItems.length&&!this.editingClipboard}],attrs:{dark:this.theming.body.bg.dark,text:this.omniaUxLoc.LayoutEngine.ClipBoard.ClearClipboard}}),(0,i.h)("omfx-button",{domProps:{tooltip:{text:this.omniaUxLoc.Common.Buttons.Cancel},onClick:()=>this.onEditClipboard(!0),mode:d.ButtonModes.flat,size:d.ButtonSizes.small},directives:[{name:"show",value:this.editingClipboard}],attrs:{dark:this.theming.body.bg.dark,text:this.omniaUxLoc.Common.Buttons.Cancel}})]),(0,i.h)("v-spacer"),(0,i.h)("omfx-button",{domProps:{tooltip:{text:this.omniaUxLoc.LayoutEngine.ClipBoard.ExportClipBoard},onClick:this.onExportClipboard,mode:d.ButtonModes.icon,size:d.ButtonSizes.small,preset:r.ButtonPresets.base.mediumIcon,icon:{iconType:new d.FontAwesomeIcon("fal fa-arrow-to-bottom")}},directives:[{name:"show",value:this.selectedItems.length>0&&!this.editingClipboard}],attrs:{dark:this.theming.body.bg.dark}}),(0,i.h)("div",{class:"mt-1"},[(0,i.h)("omfx-button",{domProps:{tooltip:{text:this.editingClipboard?this.omniaUxLoc.LayoutEngine.ClipBoard.SaveClipboardNames:this.omniaUxLoc.LayoutEngine.ClipBoard.EditClipboardNames},onClick:()=>this.onEditClipboard(!1),mode:d.ButtonModes.icon,size:d.ButtonSizes.small,preset:r.ButtonPresets.base.smallIcon,icon:{iconType:this.editingClipboard?new d.FontAwesomeIcon("fal fa-save"):new d.FontAwesomeIcon("fal fa-pen")}},attrs:{dark:this.theming.body.bg.dark}}),(0,i.h)("omfx-button",{domProps:{tooltip:{text:this.omniaUxLoc.LayoutEngine.ClipBoard.DeleteItems},onClick:this.onDeleteClipboard,mode:d.ButtonModes.icon,size:d.ButtonSizes.small,preset:r.ButtonPresets.base.smallIcon,icon:{iconType:new d.FontAwesomeIcon("delete")}},directives:[{name:"show",value:this.selectedItems.length>0&&!this.editingClipboard}],attrs:{dark:this.theming.body.bg.dark}})]),(0,i.h)("omfx-button",{directives:[{name:"show",value:0===this.selectedItems.length&&!this.editingClipboard}],domProps:{tooltip:{text:this.omniaUxLoc.LayoutEngine.ClipBoard.ImportClipboard},onClick:()=>this.dialogModel.visible=!0,mode:d.ButtonModes.icon,preset:r.ButtonPresets.base.smallIcon,icon:{iconType:new d.FontAwesomeIcon("fal fa-arrow-to-top")}},attrs:{dark:this.theming.body.bg.dark}})]),(0,i.h)("div",{class:p.wrapper},[e]),this.renderImportDialog()])])}};g([(0,s.Inject)(r.ThemeStore)],u.prototype,"themeStore",2),g([(0,s.Localize)(r.OmniaUxLocalizationNamespace)],u.prototype,"omniaUxLoc",2),g([(0,s.Inject)(r.LayoutCanvasStore)],u.prototype,"layoutStore",2),g([(0,s.Inject)(l.ClipboardStore)],u.prototype,"clipboardStore",2),u=g([a.Component],u),s.WebComponentBootstrapper.registerElement((t=>{(0,s.vueCustomElement)(t.elementName,u)}))},"./client/fx/ux/layoutcanvas/editor/settings/sectionsettingspanel.css.js":(t,e,o)=>{t.exports=o("dll-reference md39")("./client/fx/ux/layoutcanvas/editor/settings/sectionsettingspanel.css.js")},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(t,e,o)=>{t.exports=o("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/csx/lib.es2015/index.js":(t,e,o)=>{t.exports=o("dll-reference md2")("./node_modules/csx/lib.es2015/index.js")},"./node_modules/typestyle/umd/typestyle.js":(t,e,o)=>{t.exports=o("dll-reference md2")("./node_modules/typestyle/umd/typestyle.js")},"./node_modules/vue-property-decorator/lib/vue-property-decorator.js":(t,e,o)=>{t.exports=o("dll-reference md2")("./node_modules/vue-property-decorator/lib/vue-property-decorator.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(t,e,o)=>{t.exports=o("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"5e618f4d-d014-414e-a681-89e34cbeda0f":(t,e,o)=>{t.exports=o("dll-reference md10")("5e618f4d-d014-414e-a681-89e34cbeda0f")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(t,e,o)=>{t.exports=o("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(t,e,o)=>{t.exports=o("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"dll-reference md2":t=>{"use strict";t.exports=omniaVendor},"dll-reference md39":t=>{"use strict";t.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["5b6f12d8-ea25-446a-bcd2-9ceb75d320e1"]},"dll-reference md9":t=>{"use strict";t.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":t=>{"use strict";t.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":t=>{"use strict";t.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["4a31764b-a9f6-414a-9619-2d0d02456086"])throw new Error("Error, already loaded manifest 4a31764b-a9f6-414a-9619-2d0d02456086 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["4a31764b-a9f6-414a-9619-2d0d02456086"]=o;var e={};function o(i){var a=e[i];if(void 0!==a)return a.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,o),s.exports}o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};o("./client/fx/ux/layoutcanvas/editor/settings/layoutclipboard.tsx")})()};