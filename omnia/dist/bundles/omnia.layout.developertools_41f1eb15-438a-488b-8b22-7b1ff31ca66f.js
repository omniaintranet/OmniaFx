if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["41f1eb15-438a-488b-8b22-7b1ff31ca66f"])throw new Error("Error, already loaded manifest 41f1eb15-438a-488b-8b22-7b1ff31ca66f with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["41f1eb15-438a-488b-8b22-7b1ff31ca66f"]=function(){(()=>{var e={"./client/fx/ux/layoutcanvas/editor/developertools/developertools.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var n=o("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),i=o("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","41f1eb15-438a-488b-8b22-7b1ff31ca66f"),s=o("./node_modules/vue/dist/vue.esm.js"),a=o("./node_modules/vue-class-component/dist/vue-class-component.esm.js"),r=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),d=o("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","41f1eb15-438a-488b-8b22-7b1ff31ca66f"),l=o("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),p=o("./client/fx/ux/layoutcanvas/index.js"),b=o("./node_modules/typestyle/umd/typestyle.js");const m={width:"100%",height:window.innerHeight-55+"px"},c={container:(0,b.style)({}),buttonContainer:(0,b.style)({width:"100%",display:"flex",backgroundColor:"#424242",justifyContent:"flex-end",height:"45px"}),buttonStepperContent:(0,b.style)({marginTop:"-23px"}),textarea:(0,b.style)({width:"100%",backgroundColor:"grey",fontSize:"12px"}),omniaJsonViewer:(0,b.style)({width:m.width,height:m.height,border:"0px"}),omniaJsonIFrame:(0,b.style)({width:m.width,height:window.innerHeight-80+"px",border:"0px"}),editor:(0,b.style)({height:"calc(100vh  - 180px)"})};var u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,f=(e,t,o,n)=>{for(var i,s=n>1?void 0:n?h(t,o):t,a=e.length-1;a>=0;a--)(i=e[a])&&(s=(n?i(t,o,s):i(s))||s);return n&&s&&u(t,o,s),s};let v=class extends s.default{constructor(){super(...arguments),this.tabs={currentPageDefinition:"tab-current",import:"import"},this.idForTextAreaToCopyToClipboard=l.Guid.newGuid().toString(),this.visible=!0,this.model={originalJsonCode:null,updatedJsonContent:null,currentTab:null,showCopiedSnackbar:!1,importstate:{currentStepIndex:1,isJsonValid:!0,errorMessage:"",importJsonCode:" ",updatedJsonContent:null,validatedJsonContent:null}}}mounted(){i.WebComponentBootstrapper.registerElementInstance(this,this.$el),this.onGetPageDefinition()}onUploadCompleted(){const e=p.LayoutManager.importLayoutFromJsonString(this.layoutCanvasStore,this.model.importstate.updatedJsonContent);e.isValid?(this.model.importstate.isJsonValid=!0,this.model.importstate.errorMessage="",this.model.importstate.validatedJsonContent=JSON.stringify(e.layout,null,2),this.model.importstate.currentStepIndex=3):(this.model.importstate.isJsonValid=!1,this.model.importstate.errorMessage=e.errorMessage)}onRestartImport(){this.model.importstate.currentStepIndex=1,this.model.importstate.isJsonValid=!0,this.model.importstate.errorMessage=""}onUpdateImportedDefinition(){this.updateDefinition(this.model.importstate.validatedJsonContent,!0),this.onRestartImport(),this.model.currentTab=this.tabs.currentPageDefinition}onCopyToClipBoard(){const e=this.model.updatedJsonContent?this.model.updatedJsonContent:this.model.originalJsonCode;if(navigator.clipboard){const t=this;navigator.clipboard.writeText(e).then((function(){t.model.showCopiedSnackbar=!0}))}else{const t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.focus(),t.select(),t.setSelectionRange(0,99999);const o=document.execCommand("copy");document.body.removeChild(t),o&&(this.model.showCopiedSnackbar=!0)}}onUpdatePageDefinition(){this.model.updatedJsonContent&&this.updateDefinition(this.model.updatedJsonContent,!1)}onGetPageDefinition(){const e=this.layoutCanvasStore.getters.getLayout();this.model.originalJsonCode=JSON.stringify(e,null,2),this.model.updatedJsonContent=null}updateDefinition(e,t){const o=JSON.parse(e);if(t){const e=this.layoutCanvasStore.getters.getLayout();if(e.blockSettings)for(const t in o.blockSettings)e.blockSettings[t]=o.blockSettings[t];else e.blockSettings=o.blockSettings;e.definition=o.definition,this.layoutCanvasStore.mutations.setLayout(e)}}renderCurrentDefinitionTab(){return(0,n.h)("div",[(0,n.h)("div",{class:c.buttonContainer},[(0,n.h)("omfx-button",{attrs:{dark:!0,contentClass:"mr-5 mt-1",text:"Copy Definition"},domProps:{onClick:this.onCopyToClipBoard,icon:{iconType:new l.FontAwesomeIcon("filter_none"),position:l.ButtonIconPosition.Right}}}),(0,n.h)("omfx-button",{attrs:{dark:!0,contentClass:"mr-5 mt-1",text:" Apply Updated Definition"},domProps:{onClick:this.onUpdatePageDefinition,icon:{iconType:new l.FontAwesomeIcon("update"),position:l.ButtonIconPosition.Right}}})]),(0,n.h)("monaco-editor",{class:c.editor,attrs:{theme:"vs-dark",language:"json"},on:{change:e=>{this.model.updatedJsonContent=e}},model:{value:this.model.originalJsonCode,callback:e=>{this.$set(this.model,"originalJsonCode",e)}}})])}renderImportDefinitionTab(){return(0,n.h)("v-stepper",{attrs:{dark:!0,tile:!0},model:{value:this.model.importstate.currentStepIndex,callback:e=>{this.$set(this.model.importstate,"currentStepIndex",e)}}},[(0,n.h)("v-stepper-header",[(0,n.h)("v-stepper-step",{attrs:{completeIcon:1===this.model.importstate.currentStepIndex?"$vuetify.icons.edit":"$vuetify.icons.complete",complete:this.model.importstate.currentStepIndex>1,color:this.omniaTheming.promoted.header.primary.base,step:1}},["Upload Page Definition",(0,n.h)("small",["Paste the page definition into the editor"])]),(0,n.h)("v-divider"),(0,n.h)("v-stepper-step",{attrs:{rules:[()=>this.model.importstate.isJsonValid],complete:this.model.importstate.currentStepIndex>2,step:2}},["Definition Validated",(0,n.h)("small",[this.model.importstate.errorMessage])]),(0,n.h)("v-divider"),(0,n.h)("v-stepper-step",{attrs:{completeIcon:3===this.model.importstate.currentStepIndex?"$vuetify.icons.edit":"$vuetify.icons.complete",color:this.omniaTheming.promoted.header.primary.base,complete:this.model.importstate.currentStepIndex>2,step:3}},["Complete Import",(0,n.h)("small",["Review the page definition and apply it to the current page"])])]),(0,n.h)("v-stepper-items",[(0,n.h)("v-stepper-content",{class:c.buttonStepperContent,attrs:{step:1}},[(0,n.h)("div",{class:[c.buttonContainer]},[(0,n.h)("omfx-button",{attrs:{dark:!0,contentClass:"mr-5 mt-1",text:"Validate and Continue"},domProps:{onClick:this.onUploadCompleted,icon:{iconType:new l.FontAwesomeIcon("spellcheck"),position:l.ButtonIconPosition.Right},styles:{bgColor:this.omniaTheming.promoted.header.primary.base}}})]),(0,n.h)("monaco-editor",{class:c.editor,attrs:{theme:"vs-dark",language:"json"},on:{change:e=>{this.model.importstate.updatedJsonContent=e}},model:{value:this.model.importstate.importJsonCode,callback:e=>{this.$set(this.model.importstate,"importJsonCode",e)}}})]),(0,n.h)("v-stepper-content",{class:c.buttonStepperContent,attrs:{step:3}},[(0,n.h)("div",{class:[c.buttonContainer]},[(0,n.h)("omfx-button",{attrs:{dark:!0,contentClass:"mr-5 mt-1",text:"Restart Import"},domProps:{onClick:this.onRestartImport,icon:{iconType:new l.FontAwesomeIcon("autorenew"),position:l.ButtonIconPosition.Right}}}),(0,n.h)("omfx-button",{attrs:{dark:!0,contentClass:"mr-5 mt-1",text:"Apply Imported Definition"},domProps:{onClick:this.onUpdateImportedDefinition,icon:{iconType:new l.FontAwesomeIcon("shuffle"),position:l.ButtonIconPosition.Right},styles:{bgColor:this.omniaTheming.promoted.header.primary.base}}})]),(0,n.h)("monaco-editor",{class:c.editor,attrs:{theme:"vs-dark",language:"json"},model:{value:this.model.importstate.validatedJsonContent,callback:e=>{this.$set(this.model.importstate,"validatedJsonContent",e)}}})])])])}render(){return(0,n.h)("div",{attrs:{id:"debug-viewer-container"},class:c.container},[(0,n.h)("v-snackbar",{attrs:{absolute:!0,top:!0,dark:!0,right:!0,"multi-line":!0,timeout:2e3,color:this.omniaTheming.promoted.header.primary.base},model:{value:this.model.showCopiedSnackbar,callback:e=>{this.$set(this.model,"showCopiedSnackbar",e)}}},["Page Definition copied to clip board"]),(0,n.h)("v-tabs",{attrs:{ripple:!0,"align-with-title":!0,dark:!0,"icons-and-text":!0,"slider-color":"white"},model:{value:this.model.currentTab,callback:e=>{this.$set(this.model,"currentTab",e)}}},[(0,n.h)("v-tab",{key:0,attrs:{href:"#"+this.tabs.currentPageDefinition}},["Current Definition",(0,n.h)("v-icon",["view_quilt"])]),(0,n.h)("v-tab",{attrs:{lazy:!0,href:"#"+this.tabs.import},key:1},["Import",(0,n.h)("v-icon",["import_export"])]),(0,n.h)("v-tab-item",{attrs:{value:this.tabs.currentPageDefinition}},[this.renderCurrentDefinitionTab()]),(0,n.h)("v-tab-item",{attrs:{value:this.tabs.import}},[this.renderImportDefinitionTab()])])])}};f([(0,r.Prop)()],v.prototype,"visible",2),f([(0,r.Prop)()],v.prototype,"layoutCanvasStore",2),f([(0,i.Inject)(d.OmniaTheming)],v.prototype,"omniaTheming",2),v=f([a.default],v),i.WebComponentBootstrapper.registerElement((e=>{(0,i.vueCustomElement)(e.elementName,v)}))},"./client/fx/ux/layoutcanvas/index.js":(e,t,o)=>{e.exports=o("dll-reference md66")("./client/fx/ux/layoutcanvas/index.js")},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/typestyle/umd/typestyle.js":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/typestyle/umd/typestyle.js")},"./node_modules/vue-class-component/dist/vue-class-component.esm.js":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/vue-class-component/dist/vue-class-component.esm.js")},"./node_modules/vue-property-decorator/lib/vue-property-decorator.js":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/vue-property-decorator/lib/vue-property-decorator.js")},"./node_modules/vue/dist/vue.esm.js":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/vue/dist/vue.esm.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,t,o)=>{e.exports=o("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(e,t,o)=>{e.exports=o("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,t,o)=>{e.exports=o("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["41f1eb15-438a-488b-8b22-7b1ff31ca66f"])throw new Error("Error, already loaded manifest 41f1eb15-438a-488b-8b22-7b1ff31ca66f with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["41f1eb15-438a-488b-8b22-7b1ff31ca66f"]=o;var t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};o("./client/fx/ux/layoutcanvas/editor/developertools/developertools.tsx")})()};