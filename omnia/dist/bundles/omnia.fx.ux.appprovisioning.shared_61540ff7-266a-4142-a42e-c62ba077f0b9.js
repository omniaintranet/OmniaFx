if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["61540ff7-266a-4142-a42e-c62ba077f0b9"])throw new Error("Error, already loaded manifest 61540ff7-266a-4142-a42e-c62ba077f0b9 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["61540ff7-266a-4142-a42e-c62ba077f0b9"]=function(){(()=>{var e={"./client/fx/ux/appprovisioning/components/index.js":(e,t,i)=>{"use strict";i.r(t),i.d(t,{AppInstanceCompletedStepVueComponent:()=>H,AppInstanceEnterprisePropertiesVueComponent:()=>Z,AppInstanceFeatureVueComponent:()=>B,AppInstancePermissionsVueComponent:()=>m,AppInstanceSettingsVueComponent:()=>S,AppInstanceTemplatePickerVueComponent:()=>C,AppInstanceWizardVueComponent:()=>O,AppProvisioningComponentBase:()=>J,AppProvisioningStepComponentBase:()=>M});var s=i("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),n=i("./node_modules/vue-class-component/dist/vue-class-component.esm.js"),r=i("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),o=i("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),a=i("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","61540ff7-266a-4142-a42e-c62ba077f0b9"),p=i("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","61540ff7-266a-4142-a42e-c62ba077f0b9"),l=i("97786ea9-4861-48bd-8a57-eae9bbdb4892"),c=i("./client/fx/ux/validation/index.js"),d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,u=(e,t,i,s)=>{for(var n,r=s>1?void 0:s?h(t,i):t,o=e.length-1;o>=0;o--)(n=e[o])&&(r=(s?n(t,i,r):n(r))||r);return s&&r&&d(t,i,r),r};let m=class extends a.VueComponentBase{constructor(){super(...arguments),this.identities=[],this.minimumAdministratorsMessage="",this.minimumAdminitrators=1}created(){this.identities=this.appInstance.permissionIdentities.admin.map((e=>l.Utils.getIdentityId(e))),this.appPolicyValidationState.validationState.policies?.minimumNumberOfAdministrators&&(this.minimumAdminitrators=this.appPolicyValidationState.validationState.policies.minimumNumberOfAdministrators),this.minimumAdministratorsMessage=this.omniaUxLoc.Apps.Policies.MinimumNumberOfAdministratorsHint.replace("{0}",this.minimumAdminitrators.toString())}mounted(){super.mounted()}onAdminChanged(){const e=this.appInstance.permissionIdentities.admin.map((e=>l.Utils.getIdentityId(e)));l.Utils.isEqual(e,this.identities)||(this.identities=e)}updateAppAdministrators(e){this.identities=e,this.appInstance.permissionIdentities.admin=e.map((e=>e.uid))}render(){return(0,s.h)("v-row",{attrs:{"no-gutters":!0}},[(0,s.h)("v-col",{attrs:{cols:this.wizardSize.cols}},[(0,s.h)("omfx-people-picker",{attrs:{hideDetails:!0,disabledIdentities:this.appPolicyValidationState.validationState.defaultAdmins,dark:this.omniaTheming.promoted.body.dark,label:this.omniaUxLoc.Apps.AppAdministrators,multiple:!0},domProps:{useValidator:this.useValidator,principalType:!0===this.allowMemberAndGroup?o.AzureAdObjectPrincipalTypes.MemberAndGroup:o.AzureAdObjectPrincipalTypes.Member,valueBind:this.identities,onValueChanged:e=>{this.updateAppAdministrators(e)}}}),(0,s.h)("omfx-field-validation",{domProps:{checkValue:this.identities,useValidator:this.useValidator,rules:(new c.FieldValueValidation).CustomFunction((()=>!(this.identities.length<this.minimumAdminitrators)),this.minimumAdministratorsMessage).getRules()}})])])}};u([(0,r.Prop)()],m.prototype,"appInstance",2),u([(0,r.Prop)()],m.prototype,"allowMemberAndGroup",2),u([(0,p.Localize)(a.OmniaUxLocalizationNamespace)],m.prototype,"omniaUxLoc",2),u([(0,p.Inject)(a.OmniaTheming)],m.prototype,"omniaTheming",2),u([(0,p.Inject)(a.WizardSize)],m.prototype,"wizardSize",2),u([(0,p.Inject)(a.AppPolicyValidationState)],m.prototype,"appPolicyValidationState",2),u([(0,r.Watch)((0,l.propertyPath)()("appInstance")+"."+(0,l.propertyPath)()("permissionIdentities.admin"))],m.prototype,"onAdminChanged",1),m=u([n.default],m);var g=i("5e618f4d-d014-414e-a681-89e34cbeda0f"),f=i("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac"),b=i("./client/fx/ux/uxmodels.js"),I=Object.defineProperty,P=Object.getOwnPropertyDescriptor,y=(e,t,i,s)=>{for(var n,r=s>1?void 0:s?P(t,i):t,o=e.length-1;o>=0;o--)(n=e[o])&&(r=(s?n(t,i,r):n(r))||r);return s&&r&&I(t,i,r),r};let S=class extends a.VueComponentBase{created(){l.Utils.isNull(this.appInstance.showInPublicListings)&&(this.appInstance.showInPublicListings=!0)}mounted(){super.mounted()}updateMultilingualField(e,t,i){l.Utils.isNull(this.appInstance[e])&&(this.appInstance[e]={isMultilingualString:!0}),this.appInstance[e][t]=i}setDataChanged(){this.appInstance&&this.appInstance.onDataChanged&&this.appInstance.onDataChanged()}render(){const e=this.theming.body.bg.dark,t=this.multilingualStore.getters.languageSetting(o.MultilingualScopes.BusinessProfile).defaultLanguageTag;return(0,s.h)("v-row",{attrs:{align:"center","no-gutters":!0},style:{width:"100%"}},[(0,s.h)("v-col",{attrs:{cols:"12"}},[(0,s.h)("omfx-app-title-input",{attrs:{dark:e,useValidator:this.useValidator,title:this.appInstance.title?.[t]},on:{titleChanged:e=>{this.updateMultilingualField("title",t,e),this.setDataChanged()}}})]),(0,s.h)("v-col",{attrs:{cols:"12"}},[(0,s.h)("omfx-app-description-input",{attrs:{dark:e,useValidator:this.useValidator,description:this.appInstance.description?.[t]},on:{descriptionChanged:e=>{this.updateMultilingualField("description",t,e),this.setDataChanged()}}})]),(0,s.h)("v-col",{attrs:{cols:"12"}},[(0,s.h)("omfx-app-property-naming-policy-input",{attrs:{useValidator:this.useValidator}})]),(0,s.h)("v-col",{attrs:{cols:"12"}},[(0,s.h)("v-switch",{attrs:{dark:e,color:this.theming.body.fg.color.base,label:this.omniaUxLoc.Apps.ShowInPublicListings,"input-value":this.appInstance.showInPublicListings},on:{change:()=>{this.appInstance.showInPublicListings=!this.appInstance.showInPublicListings,this.setDataChanged()}}})])])}};y([(0,r.Prop)()],S.prototype,"appInstance",2),y([(0,p.Localize)(b.OmniaUxLocalizationNamespace)],S.prototype,"omniaUxLoc",2),y([(0,l.Inject)(a.OmniaTheming)],S.prototype,"omniaTheming",2),y([(0,l.Inject)(f.MediaPickerService)],S.prototype,"mediaPickerService",2),y([(0,l.Inject)(g.MultilingualStore)],S.prototype,"multilingualStore",2),S=y([n.default],S);var A=i("8610c059-395a-45c2-804a-8c236f4d60d9"),v=Object.defineProperty,T=Object.getOwnPropertyDescriptor,x=(e,t,i,s)=>{for(var n,r=s>1?void 0:s?T(t,i):t,o=e.length-1;o>=0;o--)(n=e[o])&&(r=(s?n(t,i,r):n(r))||r);return s&&r&&v(t,i,r),r};let C=class extends A.VueComponentBase{constructor(){super(...arguments),this.isLoading=!0,this.appDefinitions=null,this.appTemplates=null,this.templatesPicker=null,this.selectedTemplate=null,this.isEditMode=!1}created(){this.isLoading=!0,this.userTargetingStore.actions.ensureData.dispatch().then((()=>{this.loadAppTemplates(),this.loadAppDefinitions(),this.isEditMode=this.layoutEditorStore.canvasMode.state===o.LayoutCanvasModes.editor&&this.layoutEditorStore.editorMode.state!==o.LayoutEditorModes.devicePreview}))}loadAppTemplates(){this.appStore.actions.loadAppTemplates.dispatch().then((e=>{this.appTemplates=e,null!=this.appDefinitionId&&(this.appTemplates=this.appStore.getters.getAppTemplatesByDefinition(this.appDefinitionId)),this.checkLoading()}))}loadAppDefinitions(){this.appStore.actions.loadAppDefinitions.dispatch().then((e=>{this.appDefinitions=e,this.checkLoading()}))}checkLoading(){null!=this.appTemplates&&null!=this.appDefinitions&&(this.ensureTemplateToShow,this.isLoading=!1,this.initialAppTemplateId&&this.templatesPicker&&(this.selectedTemplate=this.templatesPicker.find((e=>e.id==this.initialAppTemplateId)),this.onSelectTemplate(this.selectedTemplate)))}onSelectTemplate(e){const t=this.appTemplates.find((t=>t.id===e.id)),i=this.appDefinitions.find((e=>e.id==t.appDefinitionId));this.handleTemplateSelected(t,i)}mapToTemplatePickerModel(e){return e.map((e=>({id:e.id.toString(),title:this.multilingualTextsStore.getters.stringValue(e.title),description:this.multilingualTextsStore.getters.stringValue(e.description),icon:e.icons[0]})))}get ensureTemplateToShow(){if(this.appTemplates)if(this.showEnabledTemplatesOnly&&(this.isEditMode?this.appTemplates=this.appTemplates.filter((e=>e.properties.userAvailability.availability!==o.UserAppTemplateAvailabilityOptions.AdminOnly)):this.appTemplates=this.appTemplates.filter((e=>{if(e.properties.userAvailability.availability===o.UserAppTemplateAvailabilityOptions.SpecificUser){const t=e.properties.userAvailability.targetingFilter?.enterprisePropertiesSettings;return null!=t&&this.userTargetingStore.getters.targetingToUser(t)===o.TargetUser.Target}return e.properties.userAvailability.availability===o.UserAppTemplateAvailabilityOptions.All}))),null!=this.templatesToShow&&this.templatesToShow.length>0){const e=[];this.templatesToShow.forEach((t=>{const i=this.appTemplates.find((e=>e.id==t));i&&e.push(i)})),this.templatesPicker=this.mapToTemplatePickerModel(e),1==this.templatesToShow.length&&(this.initialAppTemplateId=this.templatesToShow[0])}else this.templatesPicker=this.mapToTemplatePickerModel(this.appTemplates);return this.templatesPicker}render(){return this.ensureTemplateToShow,(0,s.h)("v-row",{attrs:{align:"center","no-gutters":!0}},[this.isLoading||this.waitingAfterTemplateSelected?(0,s.h)("v-progress-linear",{attrs:{color:this.theming.body.bg.dark?this.theming.body.bg.color.lighten2:this.theming.body.bg.color.darken2,height:"8",indeterminate:!0}}):(0,s.h)("v-col",{attrs:{cols:"12"}},[(0,s.h)("omfx-template-picker",{attrs:{dark:this.theming.body.bg.dark},domProps:{onValueChanged:this.onSelectTemplate,valueBind:this.selectedTemplate,templates:this.templatesPicker}})])])}};x([(0,r.Prop)()],C.prototype,"appDefinitionId",2),x([(0,r.Prop)()],C.prototype,"initialAppTemplateId",2),x([(0,r.Prop)({default:!0})],C.prototype,"showEnabledTemplatesOnly",2),x([(0,r.Prop)()],C.prototype,"handleTemplateSelected",2),x([(0,r.Prop)()],C.prototype,"waitingAfterTemplateSelected",2),x([(0,r.Prop)()],C.prototype,"templatesToShow",2),x([(0,p.Inject)(g.AppStore)],C.prototype,"appStore",2),x([(0,p.Inject)(g.MultilingualStore)],C.prototype,"multilingualTextsStore",2),x([(0,p.Inject)(a.OmniaTheming)],C.prototype,"omniaTheming",2),x([(0,p.Inject)(a.LayoutCanvasStore)],C.prototype,"layoutEditorStore",2),x([(0,p.Inject)(g.UserTargetingStore)],C.prototype,"userTargetingStore",2),C=x([n.default],C);var w=Object.defineProperty,D=Object.getOwnPropertyDescriptor,E=(e,t,i,s)=>{for(var n,r=s>1?void 0:s?D(t,i):t,o=e.length-1;o>=0;o--)(n=e[o])&&(r=(s?n(t,i,r):n(r))||r);return s&&r&&w(t,i,r),r};let O=class extends a.VueComponentBase{mounted(){super.mounted(),null==this.appInstance.properties&&(this.appInstance.properties={}),null==this.appInstance.properties.properties&&(this.appInstance.properties.properties={})}renderAppInstanceWizardComponent(){const e={valueBind:this.appInstance,isDisabled:this.isDisabled,useValidator:this.useValidator};return(0,s.h)(this.appDefinition.uiOptions.appInstanceRendererElement,{domProps:e})}render(){return(0,s.h)("v-row",{attrs:{align:"center","no-gutters":!0}},[(0,s.h)("v-col",{attrs:{cols:"12"}},[this.renderAppInstanceWizardComponent()])])}};E([(0,r.Prop)()],O.prototype,"appInstance",2),E([(0,r.Prop)()],O.prototype,"appDefinition",2),E([(0,r.Prop)()],O.prototype,"isDisabled",2),O=E([n.default],O);var U=Object.defineProperty,L=Object.getOwnPropertyDescriptor,j=(e,t,i,s)=>{for(var n,r=s>1?void 0:s?L(t,i):t,o=e.length-1;o>=0;o--)(n=e[o])&&(r=(s?n(t,i,r):n(r))||r);return s&&r&&U(t,i,r),r};class M extends a.VueComponentBase{constructor(){super(),this.formValidator=null,this.canGoNext=e=>new Promise(((t,i)=>{t(e.validateAll())})),this.omniaTheming=p.ServiceContainer.createInstance(a.OmniaTheming),this.omniaContext=p.ServiceContainer.createInstance(p.OmniaContext)}created(){const e=new a.FormValidator(this);this.formValidator=e,this.registerOnGoToNext((()=>this.canGoNext(e)))}}j([(0,r.Prop)()],M.prototype,"context",2),j([(0,r.Prop)()],M.prototype,"registerOnGoToNext",2),j([(0,r.Prop)()],M.prototype,"registerOnGoToPrev",2),j([(0,r.Prop)()],M.prototype,"allowMultipleAppAdministrators",2),j([(0,r.Prop)()],M.prototype,"allowMemberAndGroup",2);var V=Object.defineProperty,k=Object.getOwnPropertyDescriptor,z=(e,t,i,s)=>{for(var n,r=s>1?void 0:s?k(t,i):t,o=e.length-1;o>=0;o--)(n=e[o])&&(r=(s?n(t,i,r):n(r))||r);return s&&r&&V(t,i,r),r};let B=class extends M{created(){super.created(),null==this.context.appInstance.properties.featureProperties&&(this.context.appInstance.properties.featureProperties={}),null==this.context.appInstance.properties.featureProperties[this.context.stepId.toString()]&&(this.context.appInstance.properties.featureProperties[this.context.stepId.toString()]={})}renderFeatureElement(){if(this.elementToRender){const e={valueBind:this.context.appInstance.properties.featureProperties[this.context.stepId.toString()],useValidator:this.formValidator};return(0,s.h)(this.elementToRender,{domProps:e})}return null}render(){return(0,s.h)("v-row",{attrs:{align:"center","no-gutters":!0}},[(0,s.h)("v-flex",{attrs:{cols:"12"}},[this.renderFeatureElement()])])}};z([(0,r.Prop)()],B.prototype,"elementToRender",2),z([(0,p.Localize)(a.OmniaUxLocalizationNamespace)],B.prototype,"omniaUxLoc",2),B=z([r.Component],B);var R=i("./client/fx/ux/appprovisioning/enums.js"),N=Object.defineProperty,F=Object.getOwnPropertyDescriptor,W=(e,t,i,s)=>{for(var n,r=s>1?void 0:s?F(t,i):t,o=e.length-1;o>=0;o--)(n=e[o])&&(r=(s?n(t,i,r):n(r))||r);return s&&r&&N(t,i,r),r};let H=class extends a.VueComponentBase{constructor(){super(...arguments),this.automaticDeletingCreatedApp=!1,this.previousProgressInfoSet=0,this.progressInfo={percentage:0,message:"",isError:!1},this.styles=a.StyleFlow.use(a.WizardStyles),this.progressSteps={startingPercentage:5,completedPercentage:100,messages:{initialize:this.omniaUxLoc.Apps.ProvisioningSteps.Initialize,sendApprovalRequest:this.omniaUxLoc.Apps.ProvisioningSteps.SendApprovalRequest,approveRequest:this.omniaUxLoc.Apps.ProvisioningSteps.Approving,handledByAppProvider:this.omniaUxLoc.Apps.ProvisioningSteps.HandleInstance,enableFeatures:this.omniaUxLoc.Apps.ProvisioningSteps.EnableFeatures,beforeComplete:this.omniaUxLoc.Apps.ProvisioningSteps.Finalizing,completeWithError:this.omniaUxLoc.Apps.ProvisioningSteps.CompletedWithError,complete:this.omniaUxLoc.Apps.ProvisioningSteps.Completed}},this.setProgressInfo=(e,t,i,s)=>{let n=!1;const r=this.getProgressPercentageByStatus(e,i);let a=this.getProgressMessageByStatus(e,t),p=!1;-1!=r&&null!=a&&(this.progressInfo.percentage>r?(a=this.omniaUxLoc.Apps.Messages.TransactionInterupted,p=!0,n=!0):(p=e==o.AppInstanceStatus.Error,this.progressInfo.percentage==r&&this.progressInfo.message==a&&this.progressInfo.isError==p||(n=!0)));const l=()=>{this.progressInfo.percentage=r,this.progressInfo.message=a,this.progressInfo.isError=p,s(this.progressInfo.isError)};if(n){const e=(new Date).getTime(),t=e-this.previousProgressInfoSet;0!=this.previousProgressInfoSet&&t>1500?l():setTimeout((()=>l()),1500),this.previousProgressInfoSet=e}else s(this.progressInfo.isError)},this.getProgressPercentageByStatus=(e,t)=>{let i=t||this.progressSteps.startingPercentage;return e!=o.AppInstanceStatus.Error&&e!=o.AppInstanceStatus.Removed&&e!=o.AppInstanceStatus.Ready&&e!=o.AppInstanceStatus.Pending&&e!=o.AppInstanceStatus.ReadyWithWarning||(i=this.progressSteps.completedPercentage),i},this.getProgressMessageByStatus=(e,t)=>{if(this.action===R.AppInstanceProgressActions.Delete&&e!==o.AppInstanceStatus.Error&&e!==o.AppInstanceStatus.Removed)return this.progressSteps.messages.handledByAppProvider;if(null==e){return this.appStore.getters.getAppTemplate(this.appInstance.appTemplateId)?.properties?.permissionLevel===o.AppTemplatePermissionLevel.Approval?this.progressSteps.messages.sendApprovalRequest:this.progressSteps.messages.initialize}const i=this.multilingualStore.getters.stringValue(this.appInstance.title,o.MultilingualScopes.BusinessProfile);switch(e){case o.AppInstanceStatus.Creating:case o.AppInstanceStatus.Updating:case o.AppInstanceStatus.Upgrading:return null!=t&&l.WebUtils.isDebug?this.localizationService.transform(t):this.progressSteps.messages.handledByAppProvider;case o.AppInstanceStatus.Removing:return this.omniaUxLoc.Apps.ProvisioningSteps.Deleting+" "+i;case o.AppInstanceStatus.EnablingFeatures:return this.progressSteps.messages.enableFeatures;case o.AppInstanceStatus.BeforeComplete:return this.progressSteps.messages.beforeComplete;case o.AppInstanceStatus.Error:if(null!=t&&""!=t&&l.WebUtils.isDebug){const e=this.localizationService.transform(t);if(e!=t)return e}return this.progressSteps.messages.completeWithError;case o.AppInstanceStatus.Ready:case o.AppInstanceStatus.ReadyWithWarning:case o.AppInstanceStatus.Removed:case o.AppInstanceStatus.Pending:return this.progressSteps.messages.complete;default:return null}},this.triggerCreateAppInstance=e=>{this.appStore.actions.createAppInstance.dispatch(e,this.appInstance.businessProfileId).then(this.onCompleteTriggerAction).catch(this.onError)},this.triggerApproveAppInstance=e=>{this.appStore.actions.approveAppInstance.dispatch(this.appInstance.id,e).then(this.completeSavingProcess).catch(this.onError)},this.onCompleteTriggerAction=e=>{this.onCompleteAction(e,null,null)},this.onCompleteAction=(e,t,i)=>{this.setProgressInfo(e.status,t,i,(t=>{this.progressInfo.percentage<100?this.appStore.actions.loadAppInstanceProgress.dispatch(e.transactionId).then((e=>{setTimeout((()=>this.onCompleteAction(e.appInstance,e.message,e.percentage)),2e3)})).catch((t=>{this.action===R.AppInstanceProgressActions.Delete&&404===t.response.status&&(e.status=o.AppInstanceStatus.Removed,this.onCompleteAction(e,null,null))})):t?this.action===R.AppInstanceProgressActions.Create&&this.deleteAppWithErrorStatusAfterCreating?this.automaticDeleteCreatedAppInstance(e):this.handleAppActionError&&this.handleAppActionError(null):this.completeSavingProcess(e)}))},this.completeSavingProcess=e=>{this.handleAppActionCompleted(e)},this.onError=e=>{this.setProgressInfo(o.AppInstanceStatus.Error,null,null,(()=>{})),this.handleAppActionError&&this.handleAppActionError(e)}}created(){const e=this.multilingualStore.getters.stringValue(this.appInstance.title,o.MultilingualScopes.BusinessProfile);switch(this.action){case R.AppInstanceProgressActions.Create:this.progressSteps.messages.handledByAppProvider=this.omniaUxLoc.Apps.ProvisioningSteps.Creating+" "+e;break;case R.AppInstanceProgressActions.Update:this.progressSteps.messages.handledByAppProvider=this.omniaUxLoc.Apps.ProvisioningSteps.Updating+" "+e;break;case R.AppInstanceProgressActions.Delete:this.progressSteps.messages.handledByAppProvider=this.omniaUxLoc.Apps.ProvisioningSteps.Deleting+" "+e}if(!l.WebUtils.isDebug){const e=this.progressSteps.messages.handledByAppProvider;this.progressSteps.messages.initialize=e,this.progressSteps.messages.enableFeatures=e,this.progressSteps.messages.beforeComplete=e}this.appStore.actions.loadAppTemplates.dispatch(this.appInstance.businessProfileId).then((()=>{if(this.appInstance.id&&!p.Utils.isEmptyGuid(this.appInstance.id.toString()))if(this.action===R.AppInstanceProgressActions.Create){this.appInstance.status===o.AppInstanceStatus.Pending?this.approveAppInstance():this.onCompleteTriggerAction(this.appInstance)}else this.action===R.AppInstanceProgressActions.Delete?this.deleteAppInstance():this.action===R.AppInstanceProgressActions.Update&&this.updateAppInstance();else this.createAppInstance()}))}deleteAppInstance(){this.setInitializingStatus((()=>{this.appStore.actions.removeAppInstance.dispatch(this.appInstance.id).then(this.onCompleteTriggerAction).catch(this.onError)}))}createAppInstance(){this.setInitializingStatus((()=>{const e={contextParams:this.appInstance.properties.contextParams,appTemplateId:this.appInstance.appTemplateId,inputInfo:this.createAppInstanceInputInfo()};p.Utils.isFunction(this.handleBeforeCreate)?this.handleBeforeCreate(this.appInstance,e).then((e=>{e.inputInfo.pendingRequestUrl+="#tab-pending",this.ensureAppInstanceInputInfo(e.inputInfo,this.appInstance),this.triggerCreateAppInstance(e)})).catch((e=>{this.setProgressInfo(o.AppInstanceStatus.Error,null,null,(()=>{})),this.handleAppActionError&&this.handleAppActionError(e)})):(this.ensureAppInstanceInputInfo(e.inputInfo,this.appInstance),this.triggerCreateAppInstance(e))}))}approveAppInstance(){this.progressInfo.percentage=this.progressSteps.startingPercentage,this.progressInfo.message=this.progressSteps.messages.approveRequest,setTimeout((()=>{this.progressInfo.percentage=90;const e={contextParams:this.appInstance.properties.contextParams,appTemplateId:this.appInstance.appTemplateId,inputInfo:this.createAppInstanceInputInfo()};p.Utils.isFunction(this.handleBeforeCreate)?this.handleBeforeCreate(this.appInstance,e).then((e=>{this.ensureAppInstanceInputInfo(e.inputInfo,this.appInstance),this.triggerApproveAppInstance(e)})).catch((e=>{this.setProgressInfo(o.AppInstanceStatus.Error,null,null,(()=>{})),this.handleAppActionError&&this.handleAppActionError(e)})):(this.ensureAppInstanceInputInfo(e.inputInfo,this.appInstance),this.triggerApproveAppInstance(e))}),2e3)}ensureAppInstanceInputInfo(e,t){e.enterpriseProperties=t.enterpriseProperties}setInitializingStatus(e){this.setProgressInfo(null,null,null,e)}updateAppInstance(){const e=()=>{const e={appInstanceId:this.appInstance.id,inputInfo:this.createAppInstanceInputInfo(),contextParams:this.appInstance.properties.contextParams};this.appStore.actions.updateAppInstance.dispatch(e).then(this.onCompleteTriggerAction).catch(this.onError)};this.setInitializingStatus((()=>{p.Utils.isFunction(this.handleBeforeUpdate)?this.handleBeforeUpdate().then(e):e()}))}createAppInstanceInputInfo(){return{title:this.appInstance.title,description:this.appInstance.description,showInPublicListings:this.appInstance.showInPublicListings,permissionIdentities:this.appInstance.permissionIdentities,outputInfo:this.appInstance.outputInfo,properties:this.appInstance.properties.properties,featureProperties:this.appInstance.properties.featureProperties,enterpriseProperties:this.appInstance.enterpriseProperties,image:this.appInstance.image}}automaticDeleteCreatedAppInstance(e){this.automaticDeletingCreatedApp=!0;const t=()=>{this.automaticDeletingCreatedApp=!1,this.handleAppActionError&&this.handleAppActionError(null)};this.appStore.actions.removeAppInstance.dispatch(e.id).then((e=>{const i=()=>!(!document.body.contains(this.$el)||this.$el._isDestroyed),s=()=>{i()&&this.appStore.actions.loadAppInstanceProgress.dispatch(e.transactionId).then((e=>{e.appInstance.status===o.AppInstanceStatus.Removing?setTimeout((()=>s()),2e3):t()})).catch(t)};s()})).catch(t)}renderPercentageProgress(){return this.progressInfo.percentage<100?(0,s.h)("v-progress-circular",{attrs:{size:"100",width:"15",rotate:"-90",value:this.progressInfo.percentage,color:this.progressInfo.isError?"red":this.theming.colors.primary.base}},[(0,s.h)("span",{class:"subheading"},[`${this.progressInfo.percentage}%`])]):this.progressInfo.isError?(0,s.h)("v-avatar",{attrs:{size:"100",color:this.theming.colors.primary.base}},[(0,s.h)("v-icon",{attrs:{dark:this.theming.colors.primary.dark,size:"80"}},["fal fa-times"])]):null}render(){const e=this.omniaTheming.promoted.body.dark;return(0,s.h)("v-row",{attrs:{align:"center","no-gutters":!0,dark:e}},[(0,s.h)("v-col",{attrs:{cols:"12"},class:"text-center"},[this.renderPercentageProgress()]),(0,s.h)("v-col",{attrs:{cols:"12",subheading:!0},class:"text-center pa-2"},[!this.hideProgressLabel&&(0,s.h)("h2",{class:"mt-4 mb-2"},[this.progressInfo.message]),this.automaticDeletingCreatedApp&&(0,s.h)("div",[(0,s.h)("v-progress-circular",{class:"mr-1",attrs:{size:"16",width:"2",indeterminate:!0}})," ",this.omniaUxLoc.Apps.Messages.CleaningUpData])])])}};W([(0,r.Prop)()],H.prototype,"hideProgressLabel",2),W([(0,r.Prop)()],H.prototype,"appInstance",2),W([(0,r.Prop)({default:R.AppInstanceProgressActions.Create})],H.prototype,"action",2),W([(0,r.Prop)()],H.prototype,"handleBeforeCreate",2),W([(0,r.Prop)()],H.prototype,"handleAppActionCompleted",2),W([(0,r.Prop)()],H.prototype,"handleAppActionError",2),W([(0,r.Prop)()],H.prototype,"handleBeforeUpdate",2),W([(0,r.Prop)()],H.prototype,"deleteAppWithErrorStatusAfterCreating",2),W([(0,p.Inject)(g.AppStore)],H.prototype,"appStore",2),W([(0,p.Inject)(a.OmniaTheming)],H.prototype,"omniaTheming",2),W([(0,p.Inject)(f.LocalizationService)],H.prototype,"localizationService",2),W([(0,p.Inject)(g.MultilingualStore)],H.prototype,"multilingualStore",2),W([(0,p.Localize)(a.OmniaUxLocalizationNamespace)],H.prototype,"omniaUxLoc",2),H=W([n.default],H);var G=i("./node_modules/vue/dist/vue.esm.js"),_=Object.defineProperty,$=Object.getOwnPropertyDescriptor,q=(e,t,i,s)=>{for(var n,r=s>1?void 0:s?$(t,i):t,o=e.length-1;o>=0;o--)(n=e[o])&&(r=(s?n(t,i,r):n(r))||r);return s&&r&&_(t,i,r),r};class J extends a.VueComponentBase{constructor(){super(),this.registerAppProvisioningStepsSubscriptionHandler=null,this.defaultSteps=[],this.businessProfile=null,this.appInstance=null,this.appTemplate=null,this.appDefinition=null,this.waitingAfterTemplateSelected=!1,this.appProvisioningHandler={},this.omniaTheming=l.ServiceContainer.createInstance(a.OmniaTheming),this.featureStore=l.ServiceContainer.createInstance(g.FeatureStore),this.localizationService=l.ServiceContainer.createInstance(f.LocalizationService),this.omniaContext=l.ServiceContainer.createInstance(p.OmniaContext),this.subscriptionHandler=l.ServiceContainer.createInstance(p.SubscriptionHandler),this.enterprisePropertyStore=l.ServiceContainer.createInstance(g.EnterprisePropertyStore),this.targetingPropertyStore=l.ServiceContainer.createInstance(g.TargetingPropertyStore),this.appStore=l.ServiceContainer.createInstance(g.AppStore),this.appService=l.ServiceContainer.createInstance(f.AppService),this.directionStore=l.ServiceContainer.createInstance(g.DirectionRuleStore),this.businessProfile=this.omniaContext.businessProfile,this.omniaContext.onContextChanged().subscribe((e=>{this.businessProfile=e.businessProfile}))}async created(){this.subscriptionHandler.add(p.Topics.registerAppProvisioningHandler.subscribe((e=>{const t=e.appDefinitionId.toString();null==this.appProvisioningHandler[t]&&(this.appProvisioningHandler[t]=[]),this.appProvisioningHandler[t].push(e),this.appProvisioningHandler[t]=this.appProvisioningHandler[t].sort(((e,t)=>e.weight<t.weight?-1:e.weight>t.weight?1:0))}))),this.defaultSteps=[...o.AppProvisioningDefaultSteps],this.ensureLoadStepsRegistration()}addAdditonalStep(e){-1===this.defaultSteps.findIndex((t=>t.info.id.toString()===e.info.id.toString()))&&e.info.isDefaultStep&&this.defaultSteps.push(e)}beforeDestroy(){this.subscriptionHandler?.unsubscribe(),this.registerAppProvisioningStepsSubscriptionHandler?.unsubscribe()}onCreateAppInstance(e,t){return new Promise(((i,s)=>{const n=this.appProvisioningHandler[this.appDefinition.id.toString()];if(null!=n&&n.length>0){let r=-1,o=null;const a=t=>{if(r+=1,r<n.length)if(o=n[r],null!=o.handler){const i=o.handler;null!=i.adminApprovalBladeManifestId&&null==t.inputInfo.pendingRequestUrl&&(t.inputInfo.pendingRequestUrl=null!=i.getPendingRequestUrl?this.addTenantUrl(this.businessProfile.id,i.getPendingRequestUrl(e)):this.getAdminBladeUrl(this.businessProfile.id,i.adminApprovalBladeManifestId.toString())),null!=i.onBeforeCreateAppInstance?i.onBeforeCreateAppInstance(e,t).then((e=>{a(e)})).catch((e=>{s(e)})):a(t)}else a(t);else i(t)};a(t)}else i(t)}))}addTenantUrl(e,t){let i=`${window.location.protocol}//${window.location.hostname}`;return null!=window.location.port&&""!=window.location.port.trim()&&(i=i+":"+window.location.port),`${i}/${t}${e}`}getAdminBladeUrl(e,t){let i=`${window.location.protocol}//${window.location.hostname}`;return null!=window.location.port&&""!=window.location.port.trim()&&(i=i+":"+window.location.port),`${i}/@admin/${t}/@businessprofile/${e}`}initAppInstanceInfo(e,t){return new Promise(((i,s)=>{this.appTemplate=e,this.appDefinition=t,this.appInstance={appDefinitionId:t.id,appTemplateId:e.id,properties:{properties:{},featureProperties:{}},enterpriseProperties:{},permissionIdentities:{}},this.onInstancePropertiesChanged&&(this.appInstance.onDataChanged=this.onInstancePropertiesChanged),this.omniaContext.user.then((t=>{const s=[t.uid];e.properties.policies?.defaultAdministrators&&e.properties.policies.defaultAdministrators.forEach((e=>{-1===s.indexOf(e.uid)&&s.push(e.uid)})),this.appInstance.permissionIdentities={admin:s},i()}))}))}ensureDefaultEnterprisePropertyValues(){return Promise.all([this.enterprisePropertyStore.actions.ensureLoadData.dispatch(),this.appStore.actions.loadAppTemplates.dispatch(),this.targetingPropertyStore.actions.ensureUserTargetingResult.dispatch(),this.omniaContext.user]).then((e=>{if(!this.appInstance.id){const e=this.appStore.getters.getAppTemplate(this.appInstance.appTemplateId);if(e.properties.defaultEnterprisePropertySetValues){const t=p.Utils.clone(e.properties.defaultEnterprisePropertySetValues);this.appInstance.enterpriseProperties=t,this.convertDefaultEnterprisePropertyValue(t)}}}))}convertDefaultEnterprisePropertyValue(e){Object.keys(e).forEach((t=>{const i=this.enterprisePropertyStore.getters.enterprisePropertyDefinitions().find((e=>e.internalName===t));switch(i.enterprisePropertyDataType.indexedType){case o.PropertyIndexedType.DateTime:const s=this.appInstance.enterpriseProperties[i.internalName];if(s&&s.increment){const e=this.getCalcuatedDate(s);this.appInstance.enterpriseProperties[i.internalName]=e?.toISOString()}break;case o.PropertyIndexedType.Person:e[t]===o.OptionValue.CurrentUser&&this.omniaContext.user.then((t=>{e[i.internalName]=[{uid:t.uid,type:o.UserTypes}]}));break;case o.PropertyIndexedType.Taxonomy:if(e[t]===o.OptionValue.CurrentUser){const t=[{enterprisePropertyDefinitionId:i.id,includeChildTerms:!1,targetingPropertyIds:null}],s=this.targetingPropertyStore.getters.userTargetingResult(t).find((e=>e.enterprisePropertyDefinitionId===i.id));e[i.internalName]=s.values}break;case o.PropertyIndexedType.Boolean:e[i.internalName]==o.OptionValue.BooleanYes?e[i.internalName]=!0:e[i.internalName]==o.OptionValue.BooleanNo?e[i.internalName]=!1:e[i.internalName]=null}}))}getCalcuatedDate(e){const t=new Date;let i=null;switch(e.timeUnit){case o.TimeUnit.Days:i=new Date(t.setDate(t.getDate()+parseInt(e.increment.toString())));break;case o.TimeUnit.Months:i=new Date(t.setMonth(t.getMonth()+parseInt(e.increment.toString())));break;case o.TimeUnit.Years:i=new Date(t.setFullYear(t.getFullYear()+parseInt(e.increment.toString())))}return i}createAppProvisioningContextInstance(e){const t={appDefinition:this.appDefinition,appTemplate:this.appTemplate,appInstance:this.appInstance,appInstanceSettingElementTag:this.getSettingElementTag()};return null!=e&&(t.stepId=e.id,t.stepTitle=e.title),G.default.observable(t)}async getAppProvisioningSteps(e){await this.ensureLoadStepsRegistration();const t=[];if(null==e.properties.appProvisioningStepInfos||0==e.properties.appProvisioningStepInfos.length){this.defaultSteps.sort(((e,t)=>e.weight-t.weight));for(const i of this.defaultSteps)if(i.info.id!==o.AppProvisioningEnterprisePropertiesStepId)if(i.info.shouldRender){if(!i.info.shouldRender(e))continue;t.push(i.info)}else t.push(i.info);else e.properties.enterprisePropertySetId&&e.properties.enterprisePropertySetId!=o.Guid.empty&&t.push(i.info);if(null!=e.features&&e.features.length>0)for(const i of e.features)t.push({id:i,isFeature:!0,title:""})}else e.properties.appProvisioningStepInfos.forEach((i=>{if(i.id.toString().toLowerCase()!=o.AppProvisioningEnterprisePropertiesStepId.toLowerCase()||e.properties.enterprisePropertySetId&&e.properties.enterprisePropertySetId!=o.Guid.empty){const e=this.defaultSteps.find((e=>e.info.id.toString().toLowerCase()===i.id.toString().toLowerCase()));e&&(i={...i,summaryElementToRender:e.info.summaryElementToRender,elementToRender:e.info.elementToRender}),t.push(i)}}));return t.push({id:"69f99c1c-bdbd-410a-8d9a-d883add2abef",title:this.omniaUxLoc.Apps.ProvisioningSteps.Summary,elementToRender:"omfx-app-instance-provisioning-summary-step",appDefinitionId:"",isFeature:!1}),this.processAppProvisioningSteps(t)}processAppProvisioningSteps(e){return new Promise(((t,i)=>{e.filter((e=>e.isFeature)).length>0?this.featureStore.actions.loadFeatureDefinitions.dispatch().then((i=>{const s=e.filter((e=>{let t=!1;if(e.isFeature){const t=this.featureStore.getters.getFeatureDefinition(e.id);if(null!=t&&null!=t.uiOptions&&!p.Utils.isNullOrEmpty(t.uiOptions.customRendererElement))return e.elementToRender=t.uiOptions.customRendererElement,null!=e.title&&""!=e.title||(e.title=this.omniaUxLoc.Apps.Feature+": "+this.localizationService.transform(t.title)),!0}else t=!0;return t}));t(this.translateSteps(s))})):t(this.translateSteps(e))}))}translateSteps(e){for(const t of e)t.title=this.localizationService.transform(t.title);return e}async ensureLoadStepsRegistration(){(await omniaApi.fx.ux.appTemplates.steps.registrations).getAppProvisioningStepInfo().forEach((e=>{this.addAdditonalStep(e)}))}getSettingElementTag(){let e="";const t=this.appProvisioningHandler[this.appDefinition.id.toString()];if(null!=t&&t.length>0){let i=null,s=0;for(;s<t.length;){if(i=t[s],null!=i.handler){const t=i.handler;t.getAppInstanceSettingElementTag&&(e=t.getAppInstanceSettingElementTag(this.appInstance,this.appTemplate)||"")}s+=1}}return e}getInformationSummaryRenderer(){let e=null;const t=this.appProvisioningHandler[this.appDefinition.id.toString()];if(null!=t&&t.length>0){let i=null,s=0;for(;s<t.length;){if(i=t[s],null!=i.handler){const t=i.handler;t.getInformationSummaryRenderer&&(e=t.getInformationSummaryRenderer(this.appInstance,this.appTemplate))}s+=1}}return e}}q([(0,r.Prop)()],J.prototype,"appDefinitionId",2),q([(0,r.Prop)()],J.prototype,"showEnabledTemplatesOnly",2),q([(0,r.Prop)()],J.prototype,"onApproved",2),q([(0,r.Prop)()],J.prototype,"onProvisioningCanceled",2),q([(0,r.Prop)()],J.prototype,"onProvisioningStarted",2),q([(0,r.Prop)()],J.prototype,"onInstancePropertiesChanged",2),q([(0,r.Prop)()],J.prototype,"onProvisioningCompleted",2),q([(0,r.Prop)()],J.prototype,"enableUserStep",2),q([(0,r.Prop)()],J.prototype,"allowMultipleAppAdministrators",2),q([(0,r.Prop)()],J.prototype,"allowMemberAndGroup",2),q([(0,p.Localize)(a.OmniaUxLocalizationNamespace)],J.prototype,"omniaUxLoc",2);var Y=i("eff19cad-5557-434b-a477-1e1e2a70a2a0"),K=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,X=(e,t,i,s)=>{for(var n,r=s>1?void 0:s?Q(t,i):t,o=e.length-1;o>=0;o--)(n=e[o])&&(r=(s?n(t,i,r):n(r))||r);return s&&r&&K(t,i,r),r};let Z=class extends a.VueComponentBase{constructor(){super(...arguments),this.templateProperties=[],this.leftColumnProperties=[],this.rightColumnProperties=[],this.styles=a.StyleFlow.use(a.WizardStyles),this.loading=!0}created(){Promise.all([this.enterprisePropertyStore.actions.ensureLoadData.dispatch(),this.enterprisePropertySetStore.actions.ensureLoadAllSets.dispatch(),this.appStore.actions.loadAppTemplates.dispatch()]).then((()=>{this.loading=!1,this.loadData()}))}mounted(){super.mounted()}loadData(){this.templateProperties=[];const e=this.appStore.getters.getAppTemplate(this.appInstance.appTemplateId);if(null!=e?.properties?.enterprisePropertySetId&&e?.properties?.enterprisePropertySetId!=o.Guid.empty){const t=this.enterprisePropertySetStore.getters.enterprisePropertySets().find((t=>t.id==e?.properties?.enterprisePropertySetId));this.templateProperties=t?.settings?.items||[]}let t=this.getProperties();if(t.length){this.summaryView&&(t=t.filter((e=>this.hasValue(this.appInstance.enterpriseProperties[e.internalName]))));const e=Math.ceil(t.length/2);this.leftColumnProperties=t.filter(((t,i)=>i<e)),this.rightColumnProperties=t.filter(((t,i)=>i>=e))}}getProperties(){const e=this.enterprisePropertyStore.getters.enterprisePropertyDefinitions();let t=[];return p.Utils.isArrayNullOrEmpty(this.templateProperties)||(t=[],this.templateProperties.forEach((i=>{if(!p.Utils.isNullOrEmpty(i.id)){const s=e.find((e=>e.id===i.id));if(i.type==o.PropertyIndexedType.DateTime&&(s.settings=i),s&&s.enterprisePropertyDataType&&s.enterprisePropertyDataType.uiOptions){const e={type:i.type,id:s.id,internalName:s.internalName,title:s.title,editElement:s.enterprisePropertyDataType.uiOptions.editModeElementName||"",contentProperty:s};t.push(e)}}}))),t}getRegionalDateFormat(){const e=this.omniaCtx.tenant.propertyBag.getModel(o.TenantRegionalSettings);return e&&e.dateFormat?e.dateFormat:"YYYY-MM-DD"}hasEditModeElement(e){const t=e.contentProperty;return!(null==t.enterprisePropertyDataType||!t.enterprisePropertyDataType.uiOptions.editModeElementName)}render(){return this.loading?(0,s.h)("div",{class:"text-center"},[(0,s.h)("v-progress-circular",{attrs:{indeterminate:!0}})]):(0,s.h)("v-row",{attrs:{"no-gutters":!0}},[(0,s.h)("v-col",{attrs:{cols:this.wizardSize.cols},class:["py-0",12!==this.wizardSize.cols?"pr-8":""]},[this.leftColumnProperties.map((e=>this.renderProperty(e)))]),(0,s.h)("v-col",{attrs:{cols:this.wizardSize.cols},class:["py-0",12!==this.wizardSize.cols?"pl-8":""]},[this.rightColumnProperties.map((e=>this.renderProperty(e)))])])}hasValue(e){return null!=e&&""!==e&&(!Array.isArray(e)||0!==e.length)}renderPropertyInSummaryMode(e){return[(0,s.h)("div",{class:"mb-7"},[(0,s.h)("div",{class:[this.styles.summaryHeadingStyles,"subtitle-2"]},[" ",e.contentProperty.multilingualTitle]),this.renderPropertyDisplayMode(e)])]}renderPropertyDisplayMode(e){switch(e.contentProperty.enterprisePropertyDataType.indexedType){case o.PropertyIndexedType.DateTime:const t=p.Utils.clone(e.contentProperty.settings);return t.includeTime||t.format||(t.format=this.getRegionalDateFormat()),(0,s.h)(e.contentProperty.enterprisePropertyDataType.uiOptions.displayModeElementName,{domProps:{model:this.appInstance.enterpriseProperties[e.internalName],property:e.contentProperty,settings:t}});case o.PropertyIndexedType.Person:let i=null;return i=e.contentProperty.settings?e.contentProperty.settings:{hideAvatar:!1,hideTeamsPresence:this.hideTeamsPresence},(0,s.h)(e.contentProperty.enterprisePropertyDataType.uiOptions.displayModeElementName,{domProps:{model:this.appInstance.enterpriseProperties[e.internalName],property:e.contentProperty,settings:i},class:this.styles.summaryPersonFieldStyles});default:return(0,s.h)(e.contentProperty.enterprisePropertyDataType.uiOptions.displayModeElementName,{domProps:{model:this.appInstance.enterpriseProperties[e.internalName],property:e.contentProperty,settings:e.contentProperty.settings}})}}renderProperty(e){return this.summaryView?(0,s.h)("div",{class:this.theming.body.text.css},[this.renderPropertyInSummaryMode(e)]):this.hasEditModeElement(e)?(0,s.h)("div",[this.renderElement(e)]):null}renderElement(e){const t=e.contentProperty;let i=!1;if(this.appNamingPolicyValidationState.validationState?.appAffixDefinitionValues.some((e=>e.internalName===t.internalName))&&(i=!0),this.hasEditModeElement(e)){let n=null;const r=this.templateProperties.find((t=>t.id==e.id));return n={dark:this.theming.body.bg.dark,model:this.appInstance.enterpriseProperties,disabled:i,property:t,settings:r,useValidator:this.useValidator},(0,s.h)(t.enterprisePropertyDataType.uiOptions.editModeElementName,{domProps:n})}return p.Console.logDebug(`No definition or no edit mode element is defined for property ${e.internalName}`),null}};X([(0,r.Prop)()],Z.prototype,"appInstance",2),X([(0,r.Prop)()],Z.prototype,"summaryView",2),X([(0,r.Prop)({default:!1})],Z.prototype,"hideTeamsPresence",2),X([(0,p.Localize)(a.OmniaUxLocalizationNamespace)],Z.prototype,"omniaUxLoc",2),X([(0,p.Inject)(p.OmniaContext)],Z.prototype,"omniaCtx",2),X([(0,p.Inject)(a.OmniaTheming)],Z.prototype,"omniaTheming",2),X([(0,p.Inject)(g.AppStore)],Z.prototype,"appStore",2),X([(0,p.Inject)(g.EnterprisePropertyStore)],Z.prototype,"enterprisePropertyStore",2),X([(0,p.Inject)(g.EnterprisePropertySetStore)],Z.prototype,"enterprisePropertySetStore",2),X([(0,p.Inject)(Y.AppNamingPolicyValidationState)],Z.prototype,"appNamingPolicyValidationState",2),X([(0,p.Inject)(a.WizardSize)],Z.prototype,"wizardSize",2),Z=X([n.default],Z)},"./client/fx/ux/appprovisioning/components/summaryinfo/summaryinfostate.js":(e,t,i)=>{"use strict";i.r(t),i.d(t,{SummaryInfoState:()=>a});var s=i("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","61540ff7-266a-4142-a42e-c62ba077f0b9"),n=i("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),r=Object.defineProperty,o=Object.getOwnPropertyDescriptor;let a=class{constructor(){this.renderer=null,this.steps=[],this.backToStepMessageBus=new s.MessageBusTopicMediator({namespace:"omnia.appprovisioning",name:"summarybackto"+s.Utils.generateGuid()}),this.onBackToStep=this.backToStepMessageBus}reset(){this.steps=[],this.renderer=null}addStep(e,t,i){this.steps.push({id:e,title:t,renderer:i})}backToStep(e){this.backToStepMessageBus.publish(e)}registerInformationSummaryRenderer(e){this.renderer=e}getInformationSummaryRenderer(){return{...this.renderer}}getSteps(){return this.steps.slice(0,this.steps.length-1)}};a=((e,t,i,s)=>{for(var n,a=s>1?void 0:s?o(t,i):t,p=e.length-1;p>=0;p--)(n=e[p])&&(a=(s?n(t,i,a):n(a))||a);return s&&a&&r(t,i,a),a})([(0,s.Injectable)({lifetime:n.InstanceLifetimes.Scoped})],a)},"./client/fx/ux/appprovisioning/enums.js":(e,t,i)=>{e.exports=i("dll-reference md66")("./client/fx/ux/appprovisioning/enums.js")},"./client/fx/ux/uxmodels.js":(e,t,i)=>{e.exports=i("dll-reference md66")("./client/fx/ux/uxmodels.js")},"./client/fx/ux/validation/index.js":(e,t,i)=>{e.exports=i("dll-reference md66")("./client/fx/ux/validation/index.js")},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(e,t,i)=>{e.exports=i("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/vue-class-component/dist/vue-class-component.esm.js":(e,t,i)=>{e.exports=i("dll-reference md2")("./node_modules/vue-class-component/dist/vue-class-component.esm.js")},"./node_modules/vue-property-decorator/lib/vue-property-decorator.js":(e,t,i)=>{e.exports=i("dll-reference md2")("./node_modules/vue-property-decorator/lib/vue-property-decorator.js")},"./node_modules/vue/dist/vue.esm.js":(e,t,i)=>{e.exports=i("dll-reference md2")("./node_modules/vue/dist/vue.esm.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,t,i)=>{e.exports=i("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"5e618f4d-d014-414e-a681-89e34cbeda0f":(e,t,i)=>{e.exports=i("dll-reference md10")("5e618f4d-d014-414e-a681-89e34cbeda0f")},"8610c059-395a-45c2-804a-8c236f4d60d9":(e,t,i)=>{e.exports=i("dll-reference md66")("8610c059-395a-45c2-804a-8c236f4d60d9")},"97786ea9-4861-48bd-8a57-eae9bbdb4892":(e,t,i)=>{e.exports=i("dll-reference md9")("97786ea9-4861-48bd-8a57-eae9bbdb4892")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(e,t,i)=>{e.exports=i("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,t,i)=>{e.exports=i("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac":(e,t,i)=>{e.exports=i("dll-reference md10")("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac")},"eff19cad-5557-434b-a477-1e1e2a70a2a0":(e,t,i)=>{e.exports=i("dll-reference md20")("eff19cad-5557-434b-a477-1e1e2a70a2a0")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]},"dll-reference md20":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["fa502cf2-bcf9-4dc0-b4f9-13dc63c04bfc"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["61540ff7-266a-4142-a42e-c62ba077f0b9"])throw new Error("Error, already loaded manifest 61540ff7-266a-4142-a42e-c62ba077f0b9 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["61540ff7-266a-4142-a42e-c62ba077f0b9"]=i;var t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,i),r.exports}i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i("./client/fx/ux/appprovisioning/components/summaryinfo/summaryinfostate.js");i("./client/fx/ux/appprovisioning/components/index.js")})()};