if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["0b2ee634-9585-4227-a082-987161a9e641"])throw new Error("Error, already loaded manifest 0b2ee634-9585-4227-a082-987161a9e641 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["0b2ee634-9585-4227-a082-987161a9e641"]=function(){(()=>{var e={"./client/fx/ux/layoutcanvas/renderer/layoutblockrendererhelper.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>c});var s=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),i=o("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","0b2ee634-9585-4227-a082-987161a9e641"),b=o("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","0b2ee634-9585-4227-a082-987161a9e641"),a=o("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),r=o("./node_modules/vue/dist/vue.esm.js"),n=Object.defineProperty,d=Object.getOwnPropertyDescriptor,l=(e,t,o,s)=>{for(var i,b=s>1?void 0:s?d(t,o):t,a=e.length-1;a>=0;a--)(i=e[a])&&(b=(s?i(t,o,b):i(b))||b);return s&&b&&n(t,o,b),b};let c=class extends b.VueComponentBase{constructor(){super(...arguments),this.readyToRender=!1}mounted(){i.WebComponentBootstrapper.registerElementInstance(this,this.$el)}beforeDestroy(){this.subscribeSettingUpdated&&this.subscribeSettingUpdated.unsubscribe(),this.blockSettingsManager&&this.blockSettingsManager.unsubscribe()}created(){this.mediaContext&&Object.assign(this.layoutMediaContext,this.mediaContext);const e=this.layoutProvider||"layoutblockhelper";this.blockSettingsManager=new h(this.blockId),this.block={id:this.blockId},this.blockInstance.layoutDefinitionId=this.blockId,this.blockInstance.id=this.blockId,this.blockInstance.provider=e,this.blockInstance.mode=this.isEditMode?a.BlockRenderingModes.designEdit:a.BlockRenderingModes.render,this.blockInstance.mediaContext=this.layoutMediaContext,this.blockInstance.setSearchValue=e=>{},this.layoutStore.provider.mutate(e),this.layoutStore.onBlockInstanceCreated&&(this.blockInstance=this.layoutStore.onBlockInstanceCreated(this.blockInstance)),this.onBlockInstanceCreated&&this.onBlockInstanceCreated(this.blockInstance),this.settingsStorage.getValue(this.blockId).then((e=>{const t={id:this.blockId,items:[{id:this.blockId,manifestId:this.blockManifestId,elementName:this.blockElementToRender,itemtype:a.LayoutItemTypes.block}]},o=i.Utils.clone(e||Object.create(null));o&&i.Utils.isObject(o.settings)&&i.Utils.isObject(o.data)&&2===Object.keys(o).length?this.layoutStore.mutations.setLayout({ownerLayoutItemsOverride:[],definition:t,blockSettings:{[this.blockId]:Object.assign({},o.settings,{__attach__data:o.data,defaultProperty:o.data})}}):this.layoutStore.mutations.setLayout({ownerLayoutItemsOverride:[],definition:t,blockSettings:{[this.blockId]:o}}),this.blockInstance.onSettingsChanged=this.layoutStore.layout.state.blockSettings.getSettingsSubcriber(this.blockId),this.layoutStore.layout.state.blockSettings.onSettingUpdated.clearMessageCache(),this.isEditMode&&(this.subscribeSettingUpdated=this.layoutStore.layout.state.blockSettings.onSettingUpdated.subscribe(this.handleSettingsChanged)),this.subscriptionHandler.add(this.layoutStore.layout.state.blockSettings.onSettingsElementUpdated.subscribe((e=>{this.onSettingsElementUpdated&&this.onSettingsElementUpdated(e.element)}))),this.blockSettingsManager.subscribe((()=>{this.settingsStorage.getValue(this.blockId).then((e=>{const t=this.layoutStore.layout.state.blockSettings.getSetting(this.blockId);i.Utils.isEqual(t.value,e)||(this.isEditMode&&this.subscribeSettingUpdated&&this.subscribeSettingUpdated.unsubscribe(),r.default.util.extend(t.value,JSON.parse(JSON.stringify(e))),this.layoutStore.layout.state.blockSettings.onSettingUpdated.publish(t),this.isEditMode&&(this.subscribeSettingUpdated=this.layoutStore.layout.state.blockSettings.onSettingUpdated.subscribe(this.handleSettingsChanged)))}))})),this.readyToRender=!0}))}handleSettingsChanged(){this.layoutStore.layout.state.blockSettings.hasSetting(this.blockId)&&this.settingsStorage.getValue(this.blockId).then((e=>{const t=this.layoutStore.layout.state.blockSettings.getSetting(this.blockId).value;i.Utils.isEqual(e,t)||(this.settingsStorage.setValue(this.blockId,i.Utils.clone(this.layoutStore.layout.state.blockSettings.getSetting(this.blockId).value)),this.blockSettingsManager.notifyBlockSettingsChanged())}))}render(){return this.readyToRender?this.blockRenderer():null}};l([(0,s.Prop)()],c.prototype,"blockId",2),l([(0,s.Prop)()],c.prototype,"blockRenderer",2),l([(0,s.Prop)()],c.prototype,"settingsStorage",2),l([(0,s.Prop)()],c.prototype,"layoutProvider",2),l([(0,s.Prop)()],c.prototype,"blockManifestId",2),l([(0,s.Prop)()],c.prototype,"blockElementToRender",2),l([(0,s.Prop)()],c.prototype,"onSettingsElementUpdated",2),l([(0,s.Prop)({default:!1})],c.prototype,"isEditMode",2),l([(0,s.Prop)()],c.prototype,"mediaContext",2),l([(0,s.Prop)()],c.prototype,"onBlockInstanceCreated",2),l([(0,i.Inject)(i.SubscriptionHandler)],c.prototype,"subscriptionHandler",2),l([(0,i.Provide)(b.LayoutMediaContext)],c.prototype,"layoutMediaContext",2),l([(0,i.Provide)(b.LayoutCanvasStore)],c.prototype,"layoutStore",2),l([(0,i.Provide)(b.BlockInstance)],c.prototype,"blockInstance",2),c=l([s.Component],c),i.WebComponentBootstrapper.registerElement((e=>{(0,i.vueCustomElement)(e.elementName,c)}));const u=class{constructor(e){this.blockId=e,this.id=i.Utils.generateGuid()}notifyBlockSettingsChanged(){u._subcribers[this.blockId]&&u._subcribers[this.blockId].forEach((e=>{e.uniqueId!==this.id&&e.func()}))}subscribe(e){u._subcribers[this.blockId]=u._subcribers[this.blockId]||[],u._subcribers[this.blockId].push({uniqueId:this.id,func:e})}unsubscribe(){u._subcribers[this.blockId]&&(u._subcribers[this.blockId]=u._subcribers[this.blockId].filter((e=>e.uniqueId!==this.id)))}};let h=u;h._subcribers={}},"./node_modules/vue-property-decorator/lib/vue-property-decorator.js":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/vue-property-decorator/lib/vue-property-decorator.js")},"./node_modules/vue/dist/vue.esm.js":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/vue/dist/vue.esm.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,t,o)=>{e.exports=o("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(e,t,o)=>{e.exports=o("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,t,o)=>{e.exports=o("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["0b2ee634-9585-4227-a082-987161a9e641"])throw new Error("Error, already loaded manifest 0b2ee634-9585-4227-a082-987161a9e641 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["0b2ee634-9585-4227-a082-987161a9e641"]=o;var t={};function o(s){var i=t[s];if(void 0!==i)return i.exports;var b=t[s]={exports:{}};return e[s](b,b.exports,o),b.exports}o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};o("./client/fx/ux/layoutcanvas/renderer/layoutblockrendererhelper.tsx")})()};