if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["b174dcf2-7163-44b0-bb02-c981ae68dd73"])throw new Error("Error, already loaded manifest b174dcf2-7163-44b0-bb02-c981ae68dd73 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["b174dcf2-7163-44b0-bb02-c981ae68dd73"]=function(){(()=>{var e={"./client/fx/ux/properties/components/property-picker/propertyinput.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>m});var n=o("./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js"),i=o.n(n),r=o("./node_modules/vue/dist/vue.esm.js"),d=o("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","b174dcf2-7163-44b0-bb02-c981ae68dd73"),a=o("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),l=o("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac"),s=o("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","b174dcf2-7163-44b0-bb02-c981ae68dd73"),p=o("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),b=o("5e618f4d-d014-414e-a681-89e34cbeda0f"),c=o("./node_modules/csx/lib.es2015/index.js");const u={};s.StyleFlow.define(u,{expansionGroupContent:{padding:(0,c.important)("0px")},expansionGroupWrapper:{padding:(0,c.important)("0px")},expansionGroupHeader:{fontSize:(0,c.important)("1rem"),fontWeight:"bold",padding:(0,c.important)("0 16px")},selectionItemsWrapper:{maxHeight:"300px",backgroundColor:"#fff"}});const m=(0,s.defineVueWebComponent)({props:{valueBind:{default:null},onValueChanged:{default:null},filled:{default:!1},disabled:{default:!1},dark:{default:!1},hideDetails:{default:!1},propertyRegistrations:{default:[]},loadingProperties:{default:!1}},setup(e){const{theming:t}=(0,s.useTheme)(),o=(0,d.useLocalize)(s.OmniaUxLocalizationNamespace),n=((0,d.useInject)(l.LocalizationService),(0,d.useInject)(b.EnterprisePropertyCategoryStore)),c=s.StyleFlow.use(u),m=(0,d.useInject)(b.MultilingualStore);let f={...e.valueBind},x="";window.innerHeight;const g="PropertyInputFilter_"+a.Guid.newGuid();let v=null;const h=(0,p.reactive)({openMenu:!1,uiSelectedItemIndex:null,uiAccordionExpandedGroup:null,uiSelectionItems:[],uiSelectedPropertyInGroupIndexs:{},uiMultipleExpandedGroups:[],propertyFilterKeyword:"",inFilteringMode:!1,multipleExpansionPanel:!1});(0,p.watch)((()=>e.propertyRegistrations),((e,t)=>{y()})),(0,p.watch)((()=>e.valueBind),((e,t)=>{x=e?.title,y()})),(0,p.onMounted)((()=>{x=e.valueBind?.title,y()})),(0,p.onBeforeUnmount)((()=>{v&&d.Utils.clearTimewatch(v)}));const y=function(){let t=[...e.propertyRegistrations];h.uiSelectionItems=[],S();const o=h.propertyFilterKeyword?h.propertyFilterKeyword.trim().toLowerCase():"";o.length>0&&(h.uiMultipleExpandedGroups=[],h.openMenu=!0,I(),t=t.filter((e=>e.title.toLowerCase().indexOf(o)>=0))),t.length>0&&(h.uiSelectionItems=[...k(t)]),w()},S=function(){h.uiSelectedItemIndex=null,h.uiAccordionExpandedGroup=null,h.uiMultipleExpandedGroups=[],h.multipleExpansionPanel=!1,h.openMenu=!1,I()},I=function(e=null){for(const t in h.uiSelectedPropertyInGroupIndexs)e&&t==e.toString()||(h.uiSelectedPropertyInGroupIndexs[t]=null)},k=function(e){const t=P(e),o=[],i=e=>t[e.toString()].map((e=>e)).sort(((e,t)=>e.title>t.title?1:-1));t[a.Constants.propertyCategories.externalPropertyCategoryId.toString()]&&i(a.Constants.propertyCategories.externalPropertyCategoryId).forEach((e=>{o.push({selectionType:1,items:[e]})}));return n.getters.enterprisePropertyCategories().forEach((e=>{t[e.id.toString()]&&o.push({selectionType:0,category:e,items:i(e.id)})})),o},P=function(e){return e.reduce(((e,t)=>{const o=t.category?t.category.id.toString():a.Constants.propertyCategories.defaultCategoryId.toString();return e[o]=e[o]||[],e[o].push(t),e}),Object.create(null))},w=function(){h.inFilteringMode&&(h.uiSelectionItems.forEach(((e,t)=>{h.uiMultipleExpandedGroups.push(t)})),h.multipleExpansionPanel=!0)},C=function(){v=d.Utils.timewatch(g,(()=>{x?j():G(),y(),(0,p.nextTick)().then((()=>{setTimeout(_,400)}))}),1e3)},j=function(){h.propertyFilterKeyword=x,h.inFilteringMode=!0},G=function(){h.inFilteringMode=!1,h.propertyFilterKeyword=""},M=function(){h.openMenu=!1,x=null,S(),G(),C()},E=function(t,o){t.stopPropagation(),f=o,x=o.title,G(),e.onValueChanged&&e.onValueChanged(f),S()},_=function(){},T=function(){const e=[(0,s.ClickOutDirective)({onClickOut:()=>{}})];return(0,p.h)("div",i()([{},{directives:e}]),[h.uiSelectionItems&&0!=h.uiSelectionItems.length?(0,p.h)("v-list",{ref:"vList"},[(0,p.h)("v-list-item-group",{model:{value:h.uiSelectedItemIndex,callback:e=>{r.default.set(h,"uiSelectedItemIndex",e)}}},[h.uiSelectionItems.map(((e,t)=>{let o=null;return o=1==e.selectionType?(0,p.h)("v-list-item",{on:{click:t=>{E(t,e.items[0])}}},[(0,p.h)("v-list-item-content",[e.items[0].title])]):(0,p.h)("v-list-item",{class:c.expansionGroupWrapper},[(0,p.h)("v-list-item-content",{class:c.expansionGroupContent},[(0,p.h)("v-expansion-panels",{attrs:{value:h.multipleExpansionPanel?h.uiMultipleExpandedGroups:h.uiAccordionExpandedGroup,multiple:h.multipleExpansionPanel,accordion:!0}},[(0,p.h)("v-expansion-panel",[(0,p.h)("v-expansion-panel-header",{class:c.expansionGroupHeader,on:{click:e=>{!function(e,t){e.stopPropagation(),setTimeout(_,100)}(e)}}},[m.getters.stringValue(e.category.title)]),(0,p.h)("v-expansion-panel-content",[(0,p.h)("v-list",[(0,p.h)("v-list-item-group",{on:{change:t=>{h.uiSelectedPropertyInGroupIndexs[e.category.id.toString()]=t}},model:{value:h.uiSelectedPropertyInGroupIndexs[e.category.id.toString()],callback:t=>{r.default.set(h.uiSelectedPropertyInGroupIndexs,e.category.id.toString(),t)}}},[e.items.map(((e,t)=>(0,p.h)("v-list-item",{on:{click:t=>{E(t,e)}}},[(0,p.h)("v-list-item-content",[e.title])])))])])])])])])]),o}))])]):(0,p.h)("span",{class:"py-4 px-2"},[o.Common.NoData])])};return()=>{const n={on:{"click:clear":M}};return(0,p.h)("v-menu",i()([{attrs:{"nudge-bottom":"56px","close-on-click":!0,"close-on-content-click":!0,"content-class":c.selectionItemsWrapper,disabled:e.disabled}},(0,s.useTransformVSlot)({activator:r=>{const d={on:r.on};return[(0,p.h)("div",i()([{},d,{on:{click:e=>{w()}}}]),[(0,p.h)("v-text-field",i()([{attrs:{filled:e.filled,disabled:e.disabled,label:o.Properties.SelectProperties,dark:t.body.bg.dark,appendIcon:"arrow_drop_down",clearable:!e.disabled,value:e.valueBind?e.valueBind.title:"",loading:e.loadingProperties},on:{keyup:e=>{C()}}},n,{attrs:{"hide-details":e.hideDetails},model:{value:x,callback:e=>{x=e}}}]))])]}}),{model:{value:h.openMenu,callback:e=>{r.default.set(h,"openMenu",e)}}}]),[T()])}}})},"./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js")},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/csx/lib.es2015/index.js":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/csx/lib.es2015/index.js")},"./node_modules/vue/dist/vue.esm.js":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/vue/dist/vue.esm.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,t,o)=>{e.exports=o("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"5e618f4d-d014-414e-a681-89e34cbeda0f":(e,t,o)=>{e.exports=o("dll-reference md10")("5e618f4d-d014-414e-a681-89e34cbeda0f")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(e,t,o)=>{e.exports=o("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,t,o)=>{e.exports=o("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac":(e,t,o)=>{e.exports=o("dll-reference md10")("e25b9dd8-6dd7-4437-8ddd-0b9fadba73ac")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["b174dcf2-7163-44b0-bb02-c981ae68dd73"])throw new Error("Error, already loaded manifest b174dcf2-7163-44b0-bb02-c981ae68dd73 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["b174dcf2-7163-44b0-bb02-c981ae68dd73"]=o;var t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};o("./client/fx/ux/properties/components/property-picker/propertyinput.tsx")})()};