if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["cf32f641-6cf6-4644-bfe8-47f7f13de960"])throw new Error("Error, already loaded manifest cf32f641-6cf6-4644-bfe8-47f7f13de960 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["cf32f641-6cf6-4644-bfe8-47f7f13de960"]=function(){(()=>{var e={"./client/fx/ux/app/appinstance/view/mixmanager.js":(e,t,o)=>{"use strict";o.r(t),o.d(t,{MixManager:()=>l});var r=o("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),a=o("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","cf32f641-6cf6-4644-bfe8-47f7f13de960");const n=class{static createTheme(){const e=Math.floor(Math.random()*n.themeColors.length);n.lastRandomColor=e;const t=n.themeColors[e],o={id:"",name:"",readOnly:!0,body:{bg:"",darkBg:t.dark,darkFg:t.dark,fg:t.cardColor,text:t.textColor},chrome:{bg:"",darkBg:t.dark,darkFg:t.dark,fg:t.borderColor,text:""},colors:{primary:"",secondary:""}};return new a.Theming({default:o,accessibility:o,id:"fakeId",targetRegistrationId:"fakeTargetresitration"})}static generateSelectionStrategy(e){return{strategy_1_rows:n.createSelectionStrategyForColumns(1,e),strategy_2_rows:n.createSelectionStrategyForColumns(2,e),strategy_3_rows:n.createSelectionStrategyForColumns(3,e),strategy_4_rows:n.createSelectionStrategyForColumns(4,e),strategy_6_rows:n.createSelectionStrategyForColumns(6,e)}}static getRandomLayout(e,t){if(e===r.AppInstanceRollupCardViewTypes.TextImage||e===r.AppInstanceRollupCardViewTypes.TitleOnImage)return r.AppInstanceRollupCardViewTypes.BackgroundImage;const o=t?Math.floor(4*Math.random()):Math.floor(3*Math.random());return 0===o?r.AppInstanceRollupCardViewTypes.TextImage:1===o?r.AppInstanceRollupCardViewTypes.TitleOnImage:2===o?e===r.AppInstanceRollupCardViewTypes.BackgroundImage?r.AppInstanceRollupCardViewTypes.TitleOnImage:r.AppInstanceRollupCardViewTypes.BackgroundImage:3===o?e===r.AppInstanceRollupCardViewTypes.Text?r.AppInstanceRollupCardViewTypes.BackgroundImage:r.AppInstanceRollupCardViewTypes.Text:void 0}static createSelectionStrategyForColumns(e,t){const o=[];let r=null;if(6===e||4===e){const e=Math.floor(Math.random()*n.rowStrategiesLarge.length);r=n.rowStrategiesLarge[e]}else if(3===e||2===e){const e=Math.floor(Math.random()*n.rowStrategiesMedium.length);r=n.rowStrategiesMedium[e]}else{const e=Math.floor(Math.random()*n.rowStrategiesSmall.length);r=n.rowStrategiesSmall[e]}let a=0;return r.forEach((r=>{const n=t?e-1:e,l=Math.floor(Math.random()*n),s={row:r,column:l,index:r*e+l-a};a++,o.push(s)})),o}static isRandomSelectedLayout(e,t,o){if(!e)return!1;const r=e["strategy_"+o+"_rows"];if(r){return r.findIndex((e=>e.index===t))>-1}return!1}static isUsingDefaultBlockTheme(e){return"rgba(0,0,0,0)"===e.body.bg.color.base}};let l=n;l.rowStrategiesLarge=[[0,1,2,3,4,5],[0,1,3,5,6,9],[0,3,4,6,10,12],[0,1,2,3,4,5]],l.rowStrategiesMedium=[[0,2,4,6,8,10]],l.rowStrategiesSmall=[[0,4,6,10,15,20],[0,6,9,10,15,20]],l.lastRandomColor=-1,l.themeColors=[{cardColor:"#FF9800",textColor:"#FFF3E0",borderColor:"#FFCC80",dark:!0},{cardColor:"#FFC107",textColor:"#FFF8E1",borderColor:"#FFECB3",dark:!0},{cardColor:"#8BC34A",textColor:"#F1F8E9",borderColor:"#C5E1A5",dark:!0},{cardColor:"#009688",textColor:"#E0F2F1",borderColor:"#80CBC4",dark:!0},{cardColor:"#00BCD4",textColor:"#E0F7FA",borderColor:"#4DD0E1",dark:!0},{cardColor:"#2196F3",textColor:"#E3F2FD",borderColor:"#90CAF9",dark:!0},{cardColor:"#9C27B0",textColor:"#E1BEE7",borderColor:"#BA68C8",dark:!0},{cardColor:"#673AB7",textColor:"#D1C4E9",borderColor:"#9575CD",dark:!0},{cardColor:"#3F51B5",textColor:"E8EAF6",borderColor:"#7986CB",dark:!0}]},"./client/fx/ux/app/appinstance/view/baseview.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppInstanceRollupViewBase:()=>h});var r=o("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","cf32f641-6cf6-4644-bfe8-47f7f13de960"),a=o("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),n=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),l=o("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),s=o("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","cf32f641-6cf6-4644-bfe8-47f7f13de960"),i=o("5326a8ef-4e3c-49d6-b415-1ddf7fdcc830"),d=o("97786ea9-4861-48bd-8a57-eae9bbdb4892"),p=o("5e618f4d-d014-414e-a681-89e34cbeda0f"),c=o("./client/fx/ux/models/index.js"),b=o("./client/fx/ux/styleflow.js"),f=o("./client/fx/ux/uxmodels.js");s.StyleFlow.define(s.AppInstanceRollupViewBaseStyles,{titleLayout:{lineHeight:"40px"},titleLink:{color:"inherit",display:"inline-block",textDecoration:"none",$nest:{"&:hover":{textDecoration:"underline"}}},logoIcon:{float:"left",marginRight:"15px",height:"40px"}});var u=Object.defineProperty,m=Object.getOwnPropertyDescriptor,g=(e,t,o,r)=>{for(var a,n=r>1?void 0:r?m(t,o):t,l=e.length-1;l>=0;l--)(a=e[l])&&(n=(r?a(t,o,n):a(n))||n);return r&&n&&u(t,o,n),n};class h extends s.VueComponentBase{constructor(){super(),this.baseViewStyles=b.StyleFlow.use(c.AppInstanceRollupViewBaseStyles),this.followingHandlingState={},this.propertyStore=d.ServiceContainer.createInstance(p.EnterprisePropertyStore),this.appStore=d.ServiceContainer.createInstance(p.AppStore),this.omniaCtx=d.ServiceContainer.createInstance(i.OmniaContext)}created(){this.items&&this.items.length>0&&this.items.forEach((e=>{this.followingHandlingState[e.appInstanceId.toString()]=!1}))}mounted(){}getAppInstanceUrl(e){return this.appInstanceUrlBuilder?this.appInstanceUrlBuilder(e):e.appInstanceOutput?e.appInstanceOutput.absoluteAppUrl:""}goToAppInstance(e,t,o){e.stopPropagation(),e.preventDefault(),o&&this.appStore.actions.addOrUpdateLastVisited.dispatch(t.appInstanceId).then((e=>{this.openLink(o,t)})).catch((()=>{this.openLink(o,t)}))}openLink(e,t){if(this.displaySettings.openInNewTab)window.open(e,"_blank");else if(this.navigateToAppInstance)this.navigateToAppInstance(t);else{const o=d.Utils.getUrlParts(e||"");if(this.omniaCtx.environment.isOmniaApp&&o.hostname===location.hostname){const e=this.multlingualStore.getters.stringValue(t.title,a.MultilingualScopes.BusinessProfile);s.Router.navigate(e,o.pathname)}else window.open(e,"_self")}}onClickFollowIcon(e,t){return e.stopPropagation(),new Promise(((e,o)=>{this.followingHandlingState[t.appInstanceId.toString()]=!0,t.followed?this.appStore.actions.unfollowAppInstance.dispatch(t.appInstanceId).then((o=>{t.followed=!1,this.followingHandlingState[t.appInstanceId.toString()]=!1,this.onFollowAppInstanceClicked&&this.onFollowAppInstanceClicked(t),e()})).catch((e=>{o()})):this.appStore.actions.followAppInstance.dispatch(t.appInstanceId).then((o=>{t.followed=!0,this.followingHandlingState[t.appInstanceId.toString()]=!1,this.onFollowAppInstanceClicked&&this.onFollowAppInstanceClicked(t),e()})).catch((e=>{o()}))}))}renderAvatar(e){const t=this.multlingualStore.getters.stringValue(e.title,a.MultilingualScopes.BusinessProfile);return e.title?(0,l.h)("v-avatar",{class:[this.baseViewStyles.logoIcon,"mr-2 mr-sm-4"],attrs:{rounded:!0,size:"40"}},[(0,l.h)("omfx-letter-avatar",{class:"v-avatar",style:{flexDirection:"column"},attrs:{name:t,size:40}})]):null}renderAvatarAndLink(e){return(0,l.h)("div",{class:this.baseViewStyles.titleLayout},[this.renderAvatar(e),this.renderLink(e)])}renderLink(e){const t=this.getAppInstanceUrl(e),o=this.multlingualStore.getters.stringValue(e.title,a.MultilingualScopes.BusinessProfile);return(0,l.h)("a",{class:[this.baseViewStyles.titleLink,this.theming.body.text.css],attrs:{href:t},on:{click:o=>{this.goToAppInstance(o,e,t)}}},[o])}renderEnterprisePropertyValue(e,t){let o=null;const r=this.propertyStore.getters.enterprisePropertyDefinitions().find((e=>e.internalName==t.propertyInternalName));if(r){const n=e.enterprisePropertyValues[t.propertyInternalName];let s=null;if(null!=n){let e=null;switch(r.enterprisePropertyDataType.indexedType){case a.PropertyIndexedType.Person:"string"==typeof n?""!=n&&(e=[{uid:n}]):e=n;break;case a.PropertyIndexedType.DateTime:e=n,s={format:t.dateTimeMode===a.RollupEnums.DateTimeMode.Social?"#SocialDate":t.format};break;default:e=n}if(e){const e={property:r,valueBind:n};e.settings=s,o=(0,l.h)(r.enterprisePropertyDataType.uiOptions.displayModeElementName,{domProps:e})}}}return o}getIconColor(){return this.theming.body.text.color.dark?"rgba(1,1,1,0.6)":"rgba(255,255,255,0.4)"}renderFollowIcon(e,t){let o=null;return o=this.followingHandlingState[e.appInstanceId.toString()]?(0,l.h)("v-progress-circular",{attrs:{indeterminate:!0,color:"grey"}}):(0,l.h)("omfx-button",{domProps:{onClick:t=>{this.onClickFollowIcon(t,e)},styles:t||{textColor:this.getIconColor()},mode:a.ButtonModes.icon,icon:{iconType:new a.FontAwesomeIcon(!0===e.followed?"fas fa-star":"fal fa-star")},tooltip:{text:e.followed?this.uxLoc.Apps.Rollup.Unfollow:this.uxLoc.Apps.Rollup.Follow,position:a.ButtonTooltipPosition.Left}}}),o}}g([(0,n.Prop)()],h.prototype,"total",2),g([(0,n.Prop)()],h.prototype,"items",2),g([(0,n.Prop)()],h.prototype,"displaySettings",2),g([(0,n.Prop)()],h.prototype,"appInstanceUrlBuilder",2),g([(0,n.Prop)()],h.prototype,"navigateToAppInstance",2),g([(0,n.Prop)()],h.prototype,"onFollowAppInstanceClicked",2),g([(0,d.Inject)(p.MultilingualStore)],h.prototype,"multlingualStore",2),g([(0,r.Localize)(f.OmniaUxLocalizationNamespace)],h.prototype,"uxLoc",2)},"./client/fx/ux/models/index.js":(e,t,o)=>{e.exports=o("dll-reference md66")("./client/fx/ux/models/index.js")},"./client/fx/ux/styleflow.js":(e,t,o)=>{e.exports=o("dll-reference md66")("./client/fx/ux/styleflow.js")},"./client/fx/ux/uxmodels.js":(e,t,o)=>{e.exports=o("dll-reference md66")("./client/fx/ux/uxmodels.js")},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/vue-property-decorator/lib/vue-property-decorator.js":(e,t,o)=>{e.exports=o("dll-reference md2")("./node_modules/vue-property-decorator/lib/vue-property-decorator.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,t,o)=>{e.exports=o("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"5326a8ef-4e3c-49d6-b415-1ddf7fdcc830":(e,t,o)=>{e.exports=o("dll-reference md8")("5326a8ef-4e3c-49d6-b415-1ddf7fdcc830")},"5e618f4d-d014-414e-a681-89e34cbeda0f":(e,t,o)=>{e.exports=o("dll-reference md10")("5e618f4d-d014-414e-a681-89e34cbeda0f")},"97786ea9-4861-48bd-8a57-eae9bbdb4892":(e,t,o)=>{e.exports=o("dll-reference md9")("97786ea9-4861-48bd-8a57-eae9bbdb4892")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(e,t,o)=>{e.exports=o("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,t,o)=>{e.exports=o("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md8":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a1602121-3070-4304-b4d8-0859e50c482b"]},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["cf32f641-6cf6-4644-bfe8-47f7f13de960"])throw new Error("Error, already loaded manifest cf32f641-6cf6-4644-bfe8-47f7f13de960 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["cf32f641-6cf6-4644-bfe8-47f7f13de960"]=o;var t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o("./client/fx/ux/app/appinstance/view/baseview.tsx");o("./client/fx/ux/app/appinstance/view/mixmanager.js")})()};