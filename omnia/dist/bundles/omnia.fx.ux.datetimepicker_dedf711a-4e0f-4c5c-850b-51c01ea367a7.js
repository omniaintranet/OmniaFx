if("undefined"==typeof omniaLoader&&(globalThis.omniaLoader={}),omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]=omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]||{},omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["dedf711a-4e0f-4c5c-850b-51c01ea367a7"])throw new Error("Error, already loaded manifest dedf711a-4e0f-4c5c-850b-51c01ea367a7 with service id bb000000-0000-bbbb-0000-0000000000bb");omniaLoader["bb000000-0000-bbbb-0000-0000000000bb"]["dedf711a-4e0f-4c5c-850b-51c01ea367a7"]=function(){(()=>{var e={"./client/fx/ux/datetimepicker/datetimepicker.tsx":(e,t,i)=>{"use strict";i.r(t),i.d(t,{DateTimePicker:()=>v});var s=i("./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js"),a=i.n(s),o=i("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs"),r=i("./node_modules/vue-class-component/dist/vue-class-component.esm.js"),d=i("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),l=i("14a8d443-2e58-450b-a462-258bdaf69b49").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","dedf711a-4e0f-4c5c-850b-51c01ea367a7"),n=i("./client/fx/ux/models/index.js");i("./client/fx/ux/styleflow.js").StyleFlow.define(n.DateTimePickerStyles,{errorText:{color:"#F44336 !important"},textField:{$nest:{input:{border:"none"}}},wrapper:e=>({display:"block",position:"relative",minHeight:(e?392:377)+"px",minWidth:"290px",$nest:{"*":{boxShadow:"none"},".timepicker":{position:"absolute",left:"292px",top:"0px",transition:"left 0.25s ease-in-out","&.active":{left:"0px"}}}})});var p,m=i("./node_modules/typestyle/umd/typestyle.js"),c=i("./node_modules/dayjs/dayjs.min.js"),h=i.n(c);(p||(p={})).namespace="Omnia.Ux.DatetimePicker";var b=i("d7327742-5647-4075-b7ab-4f9ca852addb").setCurrentManifest("bb000000-0000-bbbb-0000-0000000000bb","dedf711a-4e0f-4c5c-850b-51c01ea367a7"),u=i("d0a145a7-d1ef-4217-aa6f-85dd18c4231d"),f=Object.defineProperty,y=Object.getOwnPropertyDescriptor,x=(e,t,i,s)=>{for(var a,o=s>1?void 0:s?y(t,i):t,r=e.length-1;r>=0;r--)(a=e[r])&&(o=(s?a(t,i,o):a(o))||o);return s&&o&&f(t,i,o),o};let v=class extends b.VueComponentBase{constructor(){super(...arguments),this.styles=b.StyleFlow.use(b.DateTimePickerStyles),this.date=null,this.time=null,this.mask="",this.displayText="",this.inputFormat="",this.outputFormat="",this.dateFormat="YYYY-MM-DD",this.status=!1,this.showMenu=!1,this.isError=!1,this.defaultFormatter=null}onValueBindChanged(e){this.getDisplayText(e)!==this.displayText&&this.init()}created(){this.defaultFormatter={timeformat:"HH:mm",locale:this.omniaContext.language,firstdayofweek:1};const e=this.omniaContext.tenant.propertyBag.getModel(u.TenantRegionalSettings);e&&(this.defaultFormatter.timeformat=this.getTimeFormatAsString(e.timeFormat),this.dateFormat=e.dateFormat),this.subscriptionHandler.add(this.omniaContext.tenant.propertyBag.onChanged().subscribe((()=>{const e=this.omniaContext.tenant.propertyBag.getModel(u.TenantRegionalSettings);e&&(this.defaultFormatter.timeformat=this.getTimeFormatAsString(e.timeFormat))})))}mounted(){super.mounted(),l.WebComponentBootstrapper.registerElementInstance(this,this.$el),this.init()}getTimeFormatAsString(e){return e===u.TimeFormats.hour24?"HH:mm":"hh:mm A"}init(){this.prepareData(),this.displayText=this.getDisplayText(this.valueBind),this.valueBind&&this.inputChange()}getDisplayText(e){let t="";if(e)if("time"===this.pickerMode){this.status=!0;const i=h()(e);i.isValid()&&(t=i.format("HH:mm"))}else{const i=h()(e);i.isValid()&&(t=i.format(this.inputFormat))}return t}prepareData(){"date"===this.pickerMode&&(this.mask="## Aaa ####",this.inputFormat=this.dateFormat,this.outputFormat="YYYY-MM-DD"),"time"===this.pickerMode&&(this.mask="##:##",this.inputFormat=this.defaultFormatter.timeformat,this.outputFormat="H:m"),"date-time"===this.pickerMode&&(this.mask="## Aaa #### ##:##",this.inputFormat=this.dateFormat+" "+this.defaultFormatter.timeformat,this.outputFormat="YYYY-MM-DD H:m"),this.mask=this.mask.trim()}toggleStatus(){"date-time"===this.pickerMode?this.status?(this.showMenu=!1,window.setTimeout((()=>{this.status=!this.status}),500)):this.status=!this.status:this.showMenu=!1}rebuildDateTime(){this.updateInput()}inputChange(){if(""!==this.displayText){const e=h()(this.displayText,this.inputFormat);e.isValid()?(this.isError=!1,"date"!==this.pickerMode&&"date-time"!==this.pickerMode||(this.date=e.format("YYYY-MM-DD")),"time"!==this.pickerMode&&"date-time"!==this.pickerMode||(this.time=e.format("HH:mm")),this.updateModel()):(this.status&&"date-time"===this.pickerMode&&(this.status=!this.status),this.isError=!0)}else this.valueBind=null,this.onValueChanged&&this.onValueChanged(this.valueBind)}updateInput(){const e=this.date?this.date:"",t=this.time?this.time:"00:00";h()(t,"H:m").isValid()||(this.time="00:00");const i=e.concat(this.time?" "+this.time:"").trim();this.displayText=h()(i,this.outputFormat).format(this.inputFormat),this.updateModel()}updateModel(){const e=h()(this.displayText,this.inputFormat).format();this.valueBind=new Date(e).toISOString(),this.onValueChanged&&this.onValueChanged(this.valueBind)}error(){return"Username or Password is incorrect."}render(){const e=Object.assign({},this.defaultFormatter,this.formatter||{});let t=[];return this.isRequired&&(t=(new b.FieldValueValidation).IsRequired(this.isRequired,this.locDateTimePicker.IsRequiredMessage).getRules()),(0,o.h)("v-menu",a()([{attrs:{"offset-y":!0,"max-width":"290px","min-width":"290px","close-on-content-click":!1,disabled:this.disabled,dark:this.dark,"content-class":"v-application"}},this.transformVSlot({activator:e=>{const i={on:e.on};return[(0,o.h)("div",a()([{},i,{style:{width:"100%"}}]),[(0,o.h)("v-text-field",{attrs:{dark:this.dark,type:"text",label:this.label,filled:this.filled,mask:this.mask,"return-masked-value":!0,disabled:this.disabled,"error-messages":this.isError?this.locDateTimePicker.InvalidDate:"","single-line":this.singleLine,"hide-details":"auto","persistent-hint":!0},class:(0,m.classes)(this.styles.textField,this.isError?this.styles.errorText:""),on:{change:this.inputChange},model:{value:this.displayText,callback:e=>{this.displayText=e}}}),(0,o.h)("omfx-helptext",{attrs:{content:this.description,isHidden:!1}}),this.hideDetails?null:(0,o.h)("div",{class:["v-text-field__details"],style:{minHeight:"24px"}},[(0,o.h)("omfx-field-validation",{domProps:{useValidator:this.useValidator,checkValue:this.displayText,rules:t}})])])]}}),{model:{value:this.showMenu,callback:e=>{this.showMenu=e}}}]),[(0,o.h)("v-card",{on:{click:e=>{e.stopPropagation()}}},[(0,o.h)("div",{class:this.styles.wrapper(this.status),attrs:{"data-omfx":!0}},["date"===this.pickerMode||"date-time"===this.pickerMode?(0,o.h)("div",{class:"datepick"},[(0,o.h)("v-date-picker",{attrs:{dark:this.dark,color:this.color||"primary",locale:e.locale,scrollable:this.scrollable,"first-day-of-week":e.firstdayofweek},on:{change:this.toggleStatus,input:this.updateInput},model:{value:this.date,callback:e=>{this.date=e}}})]):null,"time"!==this.pickerMode&&"date-time"!==this.pickerMode||!this.showMenu?null:(0,o.h)("div",{class:this.status?"timepicker active":"timepicker"},[(0,o.h)("v-time-picker",{attrs:{color:this.color||"primary",dark:this.dark,locale:this.localeString,scrollable:this.scrollable,format:e.timeformat},on:{change:this.toggleStatus,input:this.updateInput},model:{value:this.time,callback:e=>{this.time=e}}})])])])])}};x([(0,d.Prop)()],v.prototype,"valueBind",2),x([(0,d.Prop)()],v.prototype,"formatter",2),x([(0,d.Prop)({default:void 0})],v.prototype,"color",2),x([(0,d.Prop)()],v.prototype,"localeString",2),x([(0,d.Prop)({default:!0})],v.prototype,"scrollable",2),x([(0,d.Prop)({default:"date-time"})],v.prototype,"pickerMode",2),x([(0,d.Prop)()],v.prototype,"onValueChanged",2),x([(0,d.Prop)()],v.prototype,"label",2),x([(0,d.Prop)()],v.prototype,"isRequired",2),x([(0,d.Prop)({default:!0})],v.prototype,"filled",2),x([(0,d.Prop)()],v.prototype,"disabled",2),x([(0,d.Prop)({default:!1})],v.prototype,"dark",2),x([(0,d.Prop)({default:!1})],v.prototype,"singleLine",2),x([(0,d.Prop)({default:!1})],v.prototype,"hideDetails",2),x([(0,d.Prop)({default:""})],v.prototype,"description",2),x([(0,l.Inject)(l.OmniaContext)],v.prototype,"omniaContext",2),x([(0,l.Localize)(p.namespace)],v.prototype,"locDateTimePicker",2),x([(0,l.Inject)(l.SubscriptionHandler)],v.prototype,"subscriptionHandler",2),x([(0,d.Watch)("valueBind")],v.prototype,"onValueBindChanged",1),v=x([r.default],v),l.WebComponentBootstrapper.registerElement((e=>{(0,l.vueCustomElement)(e.elementName,v,{destroyTimeout:1e3})}))},"./client/fx/ux/models/index.js":(e,t,i)=>{e.exports=i("dll-reference md66")("./client/fx/ux/models/index.js")},"./client/fx/ux/styleflow.js":(e,t,i)=>{e.exports=i("dll-reference md66")("./client/fx/ux/styleflow.js")},"./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js":(e,t,i)=>{e.exports=i("dll-reference md2")("./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js")},"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":(e,t,i)=>{e.exports=i("dll-reference md2")("./node_modules/@vue/composition-api/dist/vue-composition-api.mjs")},"./node_modules/dayjs/dayjs.min.js":(e,t,i)=>{e.exports=i("dll-reference md2")("./node_modules/dayjs/dayjs.min.js")},"./node_modules/typestyle/umd/typestyle.js":(e,t,i)=>{e.exports=i("dll-reference md2")("./node_modules/typestyle/umd/typestyle.js")},"./node_modules/vue-class-component/dist/vue-class-component.esm.js":(e,t,i)=>{e.exports=i("dll-reference md2")("./node_modules/vue-class-component/dist/vue-class-component.esm.js")},"./node_modules/vue-property-decorator/lib/vue-property-decorator.js":(e,t,i)=>{e.exports=i("dll-reference md2")("./node_modules/vue-property-decorator/lib/vue-property-decorator.js")},"14a8d443-2e58-450b-a462-258bdaf69b49":(e,t,i)=>{e.exports=i("dll-reference md10")("14a8d443-2e58-450b-a462-258bdaf69b49")},"d0a145a7-d1ef-4217-aa6f-85dd18c4231d":(e,t,i)=>{e.exports=i("dll-reference md9")("d0a145a7-d1ef-4217-aa6f-85dd18c4231d")},"d7327742-5647-4075-b7ab-4f9ca852addb":(e,t,i)=>{e.exports=i("dll-reference md66")("d7327742-5647-4075-b7ab-4f9ca852addb")},"dll-reference md2":e=>{"use strict";e.exports=omniaVendor},"dll-reference md9":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a2892051-fd9f-4056-ae8d-30d16d48417d"]},"dll-reference md10":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["a5a89056-b5f5-475d-8518-a1f55090379d"]},"dll-reference md66":e=>{"use strict";e.exports=omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dee030cc-4ab3-4158-bb06-8049f5c67542"]}};if("undefined"==typeof omniaWebpackJsonp&&(globalThis.omniaWebpackJsonp={}),globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]=globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]||{},globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dedf711a-4e0f-4c5c-850b-51c01ea367a7"])throw new Error("Error, already loaded manifest dedf711a-4e0f-4c5c-850b-51c01ea367a7 with service id bb000000-0000-bbbb-0000-0000000000bb");globalThis.omniaWebpackJsonp["bb000000-0000-bbbb-0000-0000000000bb"]["dedf711a-4e0f-4c5c-850b-51c01ea367a7"]=i;var t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};i("./client/fx/ux/datetimepicker/datetimepicker.tsx")})()};